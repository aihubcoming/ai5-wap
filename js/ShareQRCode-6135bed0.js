import{_ as u}from"./index-a85a0347.js";import{b as _}from"./browser-6392677b.js";import{a as g}from"./promote-a9bfad15.js";import{_ as f,s as p,ag as C,o as w,c as q,g as d,e,aW as c,bb as h,w as R,t as i}from"./index-16c70849.js";const b={data(){return{img:"",imgshow:!1,localuser:{invitUrl:""}}},components:{assetsHead:u},mounted(){this.init()},activated(){this.init()},methods:{init(){this.localuser_get()},handleData(t){this.message=this.message+" "+t},share(t){!t||navigator.clipboard.writeText(t).then(()=>{p(this.$t("\u590D\u5236\u6210\u529F"))})},localuser_get(){const t=this;g({}).then(s=>{t.localuser=s;const o="https://"+window.location.hostname+"/syn/#/?usercode="+s.usercode;t.localuser.invitUrl=o,console.log(s),t.getQRCode()})},onClickLeft(){this.$router.push("/promote")},download(t){const s=document.querySelector(t),o=document.createElement("a");o.href=s.toDataURL(),o.download="qrcode";const n=new MouseEvent("click");o.dispatchEvent(n)},getQRCode(){let t={errorCorrectionLevel:"H",type:"image/png",quality:.3,margin:4,width:200,height:200,text:this.localuser.invitUrl,color:{dark:"#333333",light:"#fff"}};this.QRCodeMsg="qr";let s=document.getElementById("QRcodeCanvas");_.toCanvas(s,this.QRCodeMsg,t,function(o){console.log(o)}),this.img=s.toDataURL("image/png"),this.imgshow=!0}}},Q={class:"ShareQRCode"},k={class:"qr-padding"},x={class:"qr-img"},y={id:"QRcodeCanvas",style:{width:"100%",height:"100%"}},U=["src"],S={class:"qr-bottom"},$={class:"qr-bottom1"},D={class:"share-href-title textColor"},E={class:"share-href"},B={class:"share-href-text"},L={class:"share-href-title textColor"},I={class:"share-href"},M={class:"share-href-text"};function H(t,s,o,n,l,r){const m=u,v=C("router-link");return w(),q("div",Q,[d(m,{title:t.$t("\u5206\u4EAB\u4E8C\u7EF4\u7801")},null,8,["title"]),e("div",k,[s[3]||(s[3]=e("div",{class:"qr-flex"},null,-1)),e("div",x,[c(e("canvas",y,null,512),[[h,!l.imgshow]]),c(e("img",{src:l.img,alt:"",class:"QRcodeImg"},null,8,U),[[h,l.imgshow]])]),s[4]||(s[4]=e("div",{class:"qr-flex"},null,-1))]),e("div",S,[s[5]||(s[5]=e("div",{class:"qr-bottom-flex"},null,-1)),d(v,{to:"/SharePoster"},{default:R(()=>[e("div",$,i(t.$t("\u67E5\u770B\u6D77\u62A5")),1)]),_:1}),e("div",{class:"qr-bottom2",onClick:s[0]||(s[0]=a=>r.download("#QRcodeCanvas"))},i(t.$t("\u4FDD\u5B58\u4E8C\u7EF4\u7801")),1),s[6]||(s[6]=e("div",{class:"qr-bottom-flex"},null,-1))]),e("div",D,i(t.$t("\u94FE\u63A5\u5206\u4EAB")),1),e("div",E,[e("div",B,i(l.localuser.invitUrl),1),e("div",{class:"share-href-text2",onClick:s[1]||(s[1]=a=>{r.share(l.localuser.invitUrl)})},i(t.$t("\u590D\u5236")),1)]),e("div",L,i(t.$t("\u60A8\u7684\u9080\u8BF7\u7801")),1),e("div",I,[e("div",M,i(l.localuser.usercode),1),e("div",{class:"share-href-text2",onClick:s[2]||(s[2]=a=>{r.share(l.localuser.usercode)})},i(t.$t("\u590D\u5236")),1)]),s[7]||(s[7]=e("div",{class:"qr-title"},null,-1))])}const W=f(b,[["render",H],["__scopeId","data-v-21b2d055"]]);export{W as default};
