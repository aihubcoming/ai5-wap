import{_ as D,r as l,v as L,u as T,ak as j,l as I,au as P,L as V,I as $,o as x,c as q,b as A,d as R,e as s,g as U,t as e,f as o,aW as y,aX as k,s as g}from"./index-a1ce0b9b.js";import{g as E,b as M}from"./ipo.api-8c28d86d.js";const S={class:"pb-fix"},z={class:"container-box"},F={class:"header"},W={class:"icon-group"},X={class:"middle-text title"},G={class:"card"},H={class:"name"},J={class:"code"},K={class:"num"},O={class:"details"},Q={class:"detail-info"},Y={class:"detail-ul"},Z={class:"flex"},ss={class:"item-l"},es={class:"item-r"},ts={class:"flex"},os={class:"item-l"},cs={class:"item-r"},as={class:"flex"},is={class:"item-l"},ls={class:"item-r"},ns={class:"flex"},ds={class:"item-l"},us={class:"item-r"},rs={class:"inputEara"},_s={class:"flex justify-between cell-div mt-10 mb-8"},vs={class:"text_color6"},ps={class:"theCode"},hs={class:"drawLots-input"},ms=["placeholder"],bs={class:"flex justify-between cell-div mt-10 mb-8"},fs={class:"text_color6"},xs={class:"drawLots-input"},ys=["placeholder"],ks={class:"flex justify-between cell-div mt-10 mb-8"},gs={class:"text_color6"},ws={class:"theCode"},Ns={class:"drawLots-input"},Bs=["value"],Cs={class:"flex justify-between cell-div mt-10 mb-8"},Ds={class:"text_color6"},Ls={class:"drawLots-input"},Ts=["value"],js={__name:"subscribeDetail",setup(Is){l({}),l({});const{t}=L.exports.useI18n(),_=T(),v=j(),a=l([]),p=l(null),d=l(!1),u=l(""),h=v.query.stockType,w=v.query.stockActive;console.log("stockType",h);const m=`/ipo/stock?type=subscribe&value=stock&stock=${h}&stockActive=${w}`;I(()=>{N()}),P(()=>{p.value&&clearInterval(p.value)});const N=()=>{var c;const i={id:(c=v.query)==null?void 0:c.id};d.value=!0,E(i).then(r=>{d.value=!1,a.value=r}).catch(r=>{d.value=!1})},B=()=>{if(!u.value){g(t("\u8BF7\u8F93\u5165\u8BA4\u7F34\u91D1\u989D"));return}let i={deductNumber:u.value,orderNo:a.value.orderNo};M(i).then(c=>{g(t("\u8BA4\u7F34\u6210\u529F")),_.push(m)}).catch(c=>Promise.reject(c))},b=i=>i==null?void 0:i.split(" ")[0],f=i=>{if(i===-1){_.go(-1);return}_.push(i)};return(i,c)=>{const r=V,C=$;return x(),q("div",S,[d.value?(x(),A(r,{key:0,color:"#1194F7",class:"loading-box"})):R("",!0),s("div",z,[s("header",F,[s("div",W,[s("div",{class:"icon back",onClick:c[0]||(c[0]=n=>f(-1))},[U(C,{name:"arrow-left",size:"20"})]),s("div",X,[s("span",null,e(o(t)("\u8BA4\u7F34")),1)]),s("div",{class:"right-text text-record",onClick:c[1]||(c[1]=n=>f(m))},[s("span",null,e(o(t)("\u8BA4\u7F34\u8BB0\u5F55")),1)])])]),s("section",G,[s("p",H,e(a.value.name),1),s("p",J,e(a.value.productCode),1),s("p",K,e(a.value.underwritingPrice),1)]),s("section",O,[s("div",Q,[s("ul",Y,[s("li",Z,[s("div",ss,e(o(t)("\u8BA4\u7F34\u4EE3\u7801")),1),s("div",es,e(a.value.productCode),1)]),s("li",ts,[s("div",os,e(o(t)("\u53D1\u884C\u603B\u80A1\u6570")),1),s("div",cs,e(a.value.subscribeTotalNumber),1)]),s("li",as,[s("div",is,e(o(t)("\u8BA4\u7F34\u65E5")),1),s("div",ls,e(b(a.value.subscribeTime)),1)]),s("li",ns,[s("div",ds,e(o(t)("\u53D1\u5238\u65E5")),1),s("div",us,e(b(a.value.issuanceDate)),1)])]),s("div",rs,[s("div",_s,[s("div",vs,e(o(t)("\u4E2D\u7B7E\u989D\u5EA6")),1),s("div",ps,e(o(t)("\u80A1")),1)]),s("div",hs,[y(s("input",{class:"inputBackground",placeholder:o(t)("\u8BF7\u8F93\u5165\u5F20\u6570"),"onUpdate:modelValue":c[2]||(c[2]=n=>a.value.winningNumber=n),type:"number",readonly:""},null,8,ms),[[k,a.value.winningNumber]])]),s("div",bs,[s("div",fs,e(o(t)("\u8BA4\u7F34\u91D1\u989D"))+"("+e(o(t)("\u80A1"))+")",1)]),s("div",xs,[y(s("input",{class:"inputBackground",placeholder:o(t)("\u8BF7\u8F93\u5165\u8BA4\u7F34\u91D1\u989D")+"("+o(t)("\u80A1")+")","onUpdate:modelValue":c[3]||(c[3]=n=>u.value=n),type:"number"},null,8,ys),[[k,u.value]])]),s("div",ks,[s("div",gs,e(o(t)("\u5269\u4F59\u8BA4\u7F34\u80A1\u6570")),1),s("div",ws,e(o(t)("\u80A1")),1)]),s("div",Ns,[s("input",{class:"inputBackground",value:a.value.residuePromiseNumber||0,type:"number",readonly:""},null,8,Bs)]),s("div",Cs,[s("div",Ds,e(o(t)("\u8BA4\u7F34\u6B21\u6570")),1)]),s("div",Ls,[s("input",{class:"inputBackground",value:a.value.userPromiseCount||0,type:"number",readonly:""},null,8,Ts)])]),s("div",{class:"btn text-white",onClick:B},e(o(t)("\u4E00\u952E\u8BA4\u7F34")),1)])])])])}}},$s=D(js,[["__scopeId","data-v-5ef355a7"]]);export{$s as default};
