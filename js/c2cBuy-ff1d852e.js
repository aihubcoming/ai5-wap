import{_ as B,o as r,c,e,g as m,w as y,bL as g,bM as E,bK as x,cI as d,cO as J,I as u,t as o,s as A,S,L as q,ag as V,b as N,d as M,n as T,aW as p,bb as Q,aX as P}from"./index-a1ce0b9b.js";/* empty css              */import{P as C}from"./index-b1d1cc13.js";import{_ as I}from"./Group41-cadfc216.js";import{D as $}from"./index-0f668cf8.js";import{a as _,D as f}from"./index-9a71dda4.js";import{F as L}from"./index-766f60f3.js";import{C as R}from"./index-ffad7391.js";import{S as U}from"./index-df0706b5.js";import{B as w}from"./index-b2caa79d.js";const j={name:"normal-head",props:["title","goHome","goAssetsCenter","goPerpetualContract","backFunc"],methods:{onClickLeft(){this.goHome?this.$router.push("/"):this.goAssetsCenter?this.$router.push("/cryptos/assetsCenter/assets"):this.goPerpetualContract?this.$router.go(-2):this.backFunc?this.backFunc():this.$router.go(-1)}}},O={id:"cryptos"},X={id:"normalHead"};function F(t,s,l,k,i,a){const h=E;return r(),c("div",O,[e("div",X,[m(h,{border:!1,title:l.title,"left-arrow":"",onClickLeft:a.onClickLeft},{right:y(()=>[g(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","onClickLeft"])])])}const D=B(j,[["render",F],["__scopeId","data-v-669cf6de"]]),Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAZCAYAAADaILXQAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ1SURBVHgBtVVdbtpAEJ7dNW5VKaqPwA1KT1BygjYnAKQ2UZ4CpX2AKsKoClRKgfYJxakE3ICeAHoDegJ8BB6pnd3tLDZm45qfkvBJYO969pvZ2Z1vCCAa7duReoKUs2r59AQ02HbPSh3N3xAwXqBBGgixAluYSJC/fY+P7cq5CwkwQtJsOHZ10ifP7y6k8IsAzFJsoe3SJEvwzzQZNFtO/4/H63EnNMnj5+tu1jzyp1JIG4cWbAG6y6OT0VXLyevzyjk0Wo6MIifUBin691eTsZTilyAwwW8zNcUozaDta23XASEldqX0rp5EPotF6nLBC5cfz8ewBmqXBmU9JEhrHvLV928HcXJ9rxOPpY7tUmEGW2B3epYp/RGuySyD9Dz+kq6xd3clXpCjnUdSx6DSFsAyTdpJjBwHBSG4GyfZlB6FZqebloJNl+PEyNFjj1E2iv9gCyolvIpSDjaSPwRcu2lBEREyhkcCN55OmPADWjgAmm1nioWcfvS06DgIOUZtHYS82eymIazyxYEqwSGE5AK34me1fPYN9oQwA7WMyFXB4D3OBlNElfDe5BRYTUbvEFaeXJXu1fWNDXug2bmtaQLmRjnnkpeW7yibtUb7Rw7+A8o+1P8F0Ek9Ig90Qw4ja6y0RuumuAvxl7ZzofcAJB1+Kp/2Dd3Io2YBpTO9kk7SaXx1chxk/fLD2TBOqrScMaMm7jcMd06DLPxToQnavNoMIRNcMMMtW0Ris463wEUP4Cd2Keila8tfHarKPewILJzvPkvZeg/YqC1KnwVnRQLkFRCZSTBx8RAHviH6y2h17CxcKl3sbr5wQLFJ+6ln7rZO9RcpRyCBNjPZ7AAAAABJRU5ErkJggg==",Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAcCAYAAACdz7SqAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAChSURBVHgB7c0xCoQwEEDRcVfEY+QqHmfZfmGxECtLS0uP4hU8Qo5gqUEctRAUTJwkFhbzIZBkBh4Ax3FPL9ANsrIS8RgKuKEJVZf+vu32DnWLcQ+AEdbLVYBXKJV6JfufwLReFJXA6N24wygHNSX5/yPJqB98DpJQN1gPklE72AxaoTT4GrRGzTANdELPYTrojB5hBBvQuxXOlgMcx3F3NAP3NGtpVw/LvAAAAABJRU5ErkJggg==";const H={name:"C2cTrade",props:{title:{},type:{},cid:{},bankCarNumber:{},detail:{type:Object,default(){return{}}}},data(){return{num:0,payList:[],payType:"",methodName:"",showPopover:!1,fullMethodName:""}},computed:{...x(["theme"])},created(){this.detail.direction==="buy"?d.ctcPaymentMethodPayList({id:this.detail.id,language:this.$i18n.locale}).then(t=>{console.log("res",t),t.map(s=>{this.payList.push({value:s.uuid,text:s.methodName})}),this.payType=this.payList[0].value,this.methodName=this.payList[0].text}):d.ctcPaymentMethodUserPay({id:this.detail.id,language:this.$i18n.locale}).then(t=>{this.payList=t,this.payList.map(s=>{s.text=s.methodName,s.value=s.uuid}),this.payType=this.payList[0].value,this.methodName=this.payList[0].text}),d.c2cGetPayCurrencyList().then(t=>{console.log(t)})},watch:{payType(t){this.$emit("payType",t)}},methods:{handleImage(t){return new URL(t,import.meta.url).href},refresh(t){this.num++,t.target.style.transform=`rotateZ(-${this.num*360}deg)`,this.$emit("refresh")},onSelect(t){this.payType=t.value,this.methodName=t.text}},computed:{...J("home",["currency"]),...x("c2c",["direction","currencySymbol"])},components:{[u.name]:u,[$.name]:$,[_.name]:_,[f.name]:f,[C.name]:C,NormalHead:D}},K={id:"C2cTradPage"},G={class:"c2cTrade"},z={class:"w-full px-8 box-border relative tabBackground pb-5"},W={class:"flex pt-8 box-border items-center"},tt={class:"text-grey text-26 mr-5"},et={class:"text-green text-26 mr-9"},st={class:"flex mt-5 box-border items-center"},ot={class:"text-grey text-26 mr-5"},it={class:"c2cColor text-26 mr-9"},nt={class:"h-24 px-8 mt-10 flex items-center rounded-lg tips c2cTipBackground"},at={class:"text-28 textColor"},lt={class:"px-10 pb-10 mt-8 border-bottom-1px c2cColor"},rt={class:""},ct={class:"text-28 font-normal"},dt={class:"flex justify-between mt-10"},ht={class:"text-grey"},mt={class:"flex justify-between mt-10"},yt={class:"text-grey"},ut={class:"mr-6"},pt={class:"flex justify-between mt-10"},_t={class:"text-grey"},ft={class:"h-14 tabBackground rounded-md"},bt={key:0},vt={class:"flex justify-center items-center w-full h-full"},At={key:0,class:"ml-3 mr-4"},gt={key:1,class:"ml-3 mr-4"},xt={key:1},Ct={class:"pl-2"},wt={class:"px-8"};function Bt(t,s,l,k,i,a){const h=D,b=u,v=C;return r(),c("div",K,[e("div",G,[m(h,{title:l.title},null,8,["title"]),e("div",z,[e("div",W,[e("span",tt,o(t.$t("\u5355\u4EF7")),1),e("span",et,o(t.currencySymbol)+" "+o(l.detail.symbol_value),1),e("img",{onClick:s[0]||(s[0]=(...n)=>a.refresh&&a.refresh(...n)),class:"w-6 h-6",src:Y,alt:"",style:{transition:"all ease 0.5s"}})]),e("div",st,[e("span",ot,o(t.$t("\u9650\u989D")),1),e("span",it,o(t.currencySymbol)+" "+o(l.detail.investment_min)+" - "+o(t.currencySymbol)+" "+o(l.detail.investment_max),1)]),g(t.$slots,"trade",{},void 0,!0),e("div",nt,[s[2]||(s[2]=e("img",{class:"w-7 h-7 mr-4",src:I,alt:""},null,-1)),e("p",at,o(t.$t("\u4FDD\u62A4\u8D44\u4EA7\u5B89\u5168\uFF0C\u8BF7\u63D0\u9AD8\u9632\u8303\u610F\u8BC6\uFF01")),1)])]),e("div",lt,[e("div",rt,[e("h2",ct,o(t.$t("\u4EA4\u6613\u4FE1\u606F")),1),e("div",dt,[e("span",ht,o(t.$t("\u4ED8\u6B3E\u65F6\u9650")),1),e("span",null,o(l.detail.expire_time)+" "+o(t.$t("\u5206\u949F")),1)]),e("div",mt,[e("span",yt,o(t.$t("\u5356\u5BB6\u6635\u79F0")),1),e("div",null,[e("span",ut,o(l.detail.nick_name),1),m(b,{class:"font-bold text-grey",name:"arrow"})])]),e("div",pt,[e("span",_t,o(t.$t("\u4EA4\u6613\u65B9\u5F0F")),1),e("div",ft,[l.detail.direction==="buy"?(r(),c("div",bt,[m(v,{"get-container":"#quick",modelValue:i.showPopover,"onUpdate:modelValue":s[1]||(s[1]=n=>i.showPopover=n),actions:i.payList,onSelect:a.onSelect,placement:"left-end",theme:t.$store.state.home.theme,offset:[20,20]},{reference:y(()=>[e("div",vt,[s[3]||(s[3]=e("div",{class:"w-1 h-7 border-ra",style:{background:"#e7bb41"}},null,-1)),l.detail.direction==="sell"?(r(),c("span",At,o(i.fullMethodName),1)):(r(),c("span",gt,o(i.methodName),1)),s[4]||(s[4]=e("img",{class:"w-7 h-7",src:Z,alt:""},null,-1))])]),_:1},8,["modelValue","actions","onSelect","theme"])])):(r(),c("div",xt,[e("div",Ct,o(l.detail.pay_type_name&&l.detail.pay_type_name.replaceAll(","," | ")),1)]))])])])]),e("div",wt,[g(t.$slots,"desc",{},void 0,!0)])])])}const kt=B(H,[["render",Bt],["__scopeId","data-v-a6949818"]]);const St={name:"c2cBuy",data(){return{type:"amount",detail:{},payType:"",tips:"",money:"",quantity:"",totalMoney:"-",totalQuantity:"-",loading:!1}},created(){this.fetchDetail()},methods:{fetchDetail(){const t=this.$store.state.c2c.adv_id;d.ctcAdvertGetDetail({id:t,language:this.$i18n.locale}).then(s=>{s.symbol_value==this.detail.symbol_value&&A(this.$t("\u65E0\u4EF7\u683C\u66F4\u65B0")),this.detail=s})},async submitOrder(){this.loading=!0,d.getSessionToken({currency:this.exchangeCurrency}).then(t=>{const s={session_token:t.session_token,c2c_advert_id:this.detail.id,payment_method_id:this.payType,direction:"buy",order_type:this.type==="amount"?"by_amount":"by_num",amount:this.type==="amount"?this.totalMoney/1:"",coin_amount:this.type==="amount"?"":this.totalQuantity/1};d.ctcOrderOpen(s).then(l=>{this.loading=!1,this.$store.commit("c2c/SET_ORDER_NO",l.order_no),this.$router.push("/cryptos/orderGeneration")}).catch(l=>{this.loading=!1})}).catch(t=>{this.loading=!1})},typeSwitch(t){this.type=t,this.tips="",this.money="",this.quantity="",this.totalMoney="-",this.totalQuantity="-"},changeVal(t){this.money==""?(this.tips="",this.totalMoney="-",this.totalQuantity="-"):this.money*1<this.detail.investment_min*1?(this.tips=this.$t("\u6700\u5C0F\u91D1\u989D")+this.detail.investment_min+" "+this.exchangeCurrency,this.totalMoney="-",this.totalQuantity="-"):this.money*1>this.detail.investment_max*1?(this.tips=this.$t("\u6700\u5927\u91D1\u989D")+this.detail.investment_max+" "+this.exchangeCurrency,this.totalMoney="-",this.totalQuantity="-"):(this.tips="",this.totalMoney=this.money,this.symbol!=="USDT"?this.totalQuantity=Math.floor(this.totalMoney/this.detail.symbol_value*1e6)/1e6:this.totalQuantity=Math.floor(this.totalMoney/this.detail.symbol_value*100)/100)},changeValNum(){if(this.quantity=="")this.tips="",this.totalMoney="-",this.totalQuantity="-";else{let t=Math.floor(this.detail.investment_min/this.detail.symbol_value*1e6)/1e6,s=Math.floor(this.detail.investment_max/this.detail.symbol_value*1e6)/1e6;this.quantity*1<t*1?(this.tips=this.$t("\u6700\u5C0F\u6570\u91CF")+t+" ",this.totalMoney="-",this.totalQuantity="-"):this.quantity*1>s*1?(this.tips=this.$t("\u6700\u5927\u6570\u91CF")+s+" ",this.totalMoney="-",this.totalQuantity="-"):(this.tips="",this.totalQuantity=this.quantity,this.symbol!=="USDT"?this.totalMoney=(this.quantity*this.detail.symbol_value).toFixed(6):this.totalMoney=(this.quantity*this.detail.symbol_value).toFixed(2))}},async buyClick(){this.type=="amount"?this.money==""?A(this.$t("\u8BF7\u8F93\u5165\u91D1\u989D")):this.submitOrder():(console.log(this.quantity),this.quantity==""?A(this.$t("\u8BF7\u8F93\u5165\u6570\u91CF")):this.submitOrder())},all(){this.tips="",this.money=this.detail.investment_max,this.totalMoney=this.detail.investment_max,this.symbol!=="USDT"?(this.quantity=Math.floor(this.detail.investment_max/this.detail.symbol_value*1e6)/1e6,this.totalQuantity=Math.floor(this.detail.investment_max/this.detail.symbol_value*1e6)/1e6):(this.quantity=Math.floor(this.detail.investment_max/this.detail.symbol_value*100)/100,this.totalQuantity=Math.floor(this.detail.investment_max/this.detail.symbol_value*100)/100)}},computed:{...x("c2c",["symbol","currencySymbol","exchangeCurrency"])},components:{[u.name]:u,[L.name]:L,[S.name]:S,[R.name]:R,[U.name]:U,[_.name]:_,[f.name]:f,[w.name]:w,C2cTrade:kt}},Nt={id:"cryptos"},Mt={class:"c2cBuy w-full h-full"},Tt={class:"buy-item mt-10 w-full mainBackground c2cColor"},Qt={class:"buy-item-title flex justify-between text-28 py-8 border-b-1 border-light-grey c2cColor"},Pt={class:"px-8 mt-10"},$t={class:"w-full buy-item-input relative box-border"},Lt={class:"text-28 absolute left-28 text font-bold c2cColor"},Rt=["placeholder"],Ut={class:"w-full buy-item-input relative box-border"},Dt=["placeholder"],Et={class:"text-28 absolute right-19 text"},Jt={class:"mr-4",style:{color:"#B8BCC5"}},qt={key:0,class:"flex mt-3 text-red text-28"},Vt={class:"flex justify-between mt-10 mb-4 c2cColor"},It={class:"text-grey"},jt={class:"flex justify-between c2cColor"},Ot={class:"text-grey"},Xt={class:"w-full mt-6 pb-8"},Ft={key:0},Yt={class:"mt-9"},Zt={class:"text-28 font-normal c2cColor"},Ht={class:"mt-8 text-26 text-grey"};function Kt(t,s,l,k,i,a){const h=q,b=w,v=V("c2c-trade");return r(),c("div",Nt,[e("div",Mt,[i.detail.id?(r(),N(v,{key:0,title:t.$t("\u8D2D\u4E70")+" "+t.symbol,detail:i.detail,onRefresh:a.fetchDetail,onPayType:s[8]||(s[8]=n=>i.payType=n)},{trade:y(()=>[e("div",Tt,[e("div",Qt,[e("div",{class:T(["flex-1 text-center",{"text-grey":i.type==="num"}]),onClick:s[0]||(s[0]=n=>a.typeSwitch("amount"))},o(t.$t("\u6309\u91D1\u989D\u8D2D\u4E70")),3),e("div",{class:T(["flex-1 text-center",{"text-grey":i.type==="amount"}]),onClick:s[1]||(s[1]=n=>a.typeSwitch("num"))},o(t.$t("\u6309\u6570\u91CF\u8D2D\u4E70")),3)]),e("div",Pt,[p(e("div",$t,[e("span",Lt,o(t.currencySymbol),1),p(e("input",{class:"w-full text-36 h-28 border-none box-border pl-32 c2cColor",type:"number",placeholder:t.$t("\u8BF7\u8F93\u5165\u91D1\u989D"),"onUpdate:modelValue":s[2]||(s[2]=n=>i.money=n),onInput:s[3]||(s[3]=(...n)=>a.changeVal&&a.changeVal(...n))},null,40,Rt),[[P,i.money]]),e("span",{class:"text-28 absolute right-19 text c2cColor",onClick:s[4]||(s[4]=(...n)=>a.all&&a.all(...n))},o(t.$t("\u5168\u90E8")),1)],512),[[Q,i.type==="amount"]]),p(e("div",Ut,[p(e("input",{class:"w-full text-36 h-28 border-none box-border pl-8 c2cColor",type:"number",placeholder:t.$t("\u8BF7\u8F93\u5165\u6570\u91CF"),"onUpdate:modelValue":s[5]||(s[5]=n=>i.quantity=n),onInput:s[6]||(s[6]=(...n)=>a.changeValNum&&a.changeValNum(...n))},null,40,Dt),[[P,i.quantity]]),e("span",Et,[e("span",Jt,o(t.symbol),1),e("span",{class:"c2cColor",onClick:s[7]||(s[7]=(...n)=>a.all&&a.all(...n))},o(t.$t("\u5168\u90E8")),1)])],512),[[Q,i.type==="num"]]),i.tips?(r(),c("div",qt,o(i.tips),1)):M("",!0),e("div",Vt,[e("span",It,o(t.$t("\u6570\u91CF")),1),e("span",null,o(i.totalQuantity)+" "+o(t.symbol),1)]),e("div",jt,[e("span",Ot,o(t.$t("\u603B\u989D")),1),e("span",null,o(i.totalMoney)+" "+o(t.currencySymbol),1)]),e("div",Xt,[m(b,{onClick:a.buyClick,class:"w-full text-30 buy-button",disabled:i.loading,type:"primary"},{default:y(()=>[i.loading?(r(),N(h,{key:1,type:"spinner"})):(r(),c("span",Ft,o(t.$t("\u8D2D\u4E70"))+"\xA0"+o(t.symbol),1))]),_:1},8,["onClick","disabled"])])])])]),desc:y(()=>[e("div",Yt,[e("h2",Zt,o(t.$t("\u4EA4\u6613\u4FE1\u606F")),1),e("div",Ht,[e("p",null,o(t.$t("\u8BF7\u5148\u9605\u8BFB\u4EE5\u4E0B\u5185\u5BB9:")),1),e("p",null,o(t.$t("\u94F6\u884C\u5361\u8F6C\u8D26\u5207\u52FF\u5907\u6CE8\uFF0C\u4E0D\u7136\u4E0D\u7ED9\u4E88\u653E\u5E01\u548C\u76F4\u63A5\u5C01\u5176\u8D26\u53F7\u3002\u4ED8\u6B3E\u540E \u9700\u8981\u63D0\u4F9B\u6253\u6B3E\u540E\u65B0\u7684\u4EA4\u6613\u660E\u7EC6\u56FE\uFF08\u5982\u679CP\u56FE\u6216\u8005\u9690\u85CF\u4EA4\u6613\u660E\u7EC6\u4E0A\u62A5\u5E73\u53F0\u51BB\u7ED3\u8D26\u6237\uFF09")),1)])])]),_:1},8,["title","detail","onRefresh"])):M("",!0)])])}const Gt=B(St,[["render",Kt],["__scopeId","data-v-1d2a4b5d"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"}));export{kt as C,re as a,Gt as c};
