import{_ as T,aj as E,av as V,bK as Q,cH as H,s as r,ag as j,o as d,c as p,e as t,g as u,w as c,t as l,aW as g,aX as v,bb as x,aA as w,F as k,m as U,h as N,b as P}from"./index-14d2cc83.js";/* empty css               */import{R as f,a as C}from"./index-79e8a065.js";/* empty css               *//* empty css               */import"./index-58e4899e.js";import{_ as S}from"./index-b3de46e1.js";import{_ as Y,a as q,b as z}from"./pledgeLoan-48e6cd84.js";import{_ as X}from"./fund.api-cc60fbcd.js";import{r as Z,_ as B,a as A,b as G}from"./skyQuestion-c87a6b6e.js";import{_ as W}from"./exchangeIcon-aac90d39.js";import{A as y}from"./index-db5e9f2d.js";import{C as _}from"./index-2fe68c30.js";import{C as b}from"./index-63de06b3.js";import"./index-691edc31.js";const J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHoSURBVHgB7ZjtbcIwEIYvoSDxIQoTwAjpBmSCZgPYhLJBO0HpBLQbpBMAG3iDVHz9QAL6uoL+INDklEvtVnmkKBEc5o1957szUYEszrUvlstlr1QqDff7vec4Tot+D4Ur3G63o3a7rU4fXhS6Xq+HuD2QWRTE+iexMaGr1WqAGXwmC4COsFar+frZvfB9nyzhcDj0cHX0c0wo3qJHFgE3vDqjVnLDMcZsz7AUM8oIxuhyVy61UAysqtWqj/sHCYCgHWOs1PGQeukxC3MpkcfxFMee46MRGYQj1CNBXNftcOw5weRtNpvJbrebU0aOIgec37CiHn4V4E8CMsCf2UcLodIYyUxn6Fo30e9ZmQkl1x3lwGKxCFCkT36yYWUmyolyuZy4SlZkJuzNia2OsczEHZuVmVDETtHsvZEg8M1bjDlIsmNFPfCQmURnFr6vAzXRrtjwpfmfmQn+FOJ6p4zAJ7ucNkTDykz1et0nIdAzUV49U0iC5NkzGYUjNIiiSOxUD/vxPceeE0ytSqUyRXYKKSM6mLD0rMTBzUxdYjZll9DZiIv1Poo64OvQIyZUOrqzcqpVY0LxBk9kD2Ocdyn9EBPabDZfIXZEhtEJBjvDt46r9ZU+Isetb+BgV2GiXhqNxqPkoVzBOZ+P16r6zDNU4QAAAABJRU5ErkJggg==",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIOSURBVHgB7ZhBTttAFIb/N5Omy3IDfIT0Bkk3lbppbtCwoFWXkdi0UoURLSyaCLFCoZXgBrQSOyRkTgDcwOzYwRZHnsc4IkiQgP3kMTYo3yZx5sX6NTNv/nkPmOEWemhg9fdWU+vaMpgb9nEOT0doRQVXUbzif/sajn+cKnR9488yG/ZRLmEUxa2xWHV/9Fd/q1MBkQle/bXeGT9MCCWqfUJVYDR/9v7OJ1/V5CA3USHImFbyqfBMqImiGSdEOEFOmMiTrpxEaBjpVy2/u3AJB6z1Brs2ITLnQ+alJ5hTVyITmBFK4gV7VF2gRDILtTPQgEOUonlJfPY9Smis9Qd7bHCKnCQiGehI/iPLelCbFNrICUPOszlHZ0JdU4oz3X3l6K6buu9FzvR96fNbFMBqb9DWRHuPxYicCQVR0yZ1lSrhTGaoU0ud0pzpDjpOfbfMmXrbx8z8Hw4hpd7Yaeikxcmy3oolIsczm82nZge+a16qM1HAbI6QE+tunqQMSRA602ILjrA1EwqqmRDAIQXWTOWS3ZnsDcff2HHW1SOtPkriJXt0rm6Gx+v97QA5uWlAiIxDWDPBkxZlU2F51VT5PUqKR02PSaHkNrvzEt3cVSeExoY3URHskbjrdx/oOP9Y+vLPdpxXUD7hlYpvdehpEYcH+8G79x/OiEY3bw9PS2gnanOo6wt+d/EcMwriGlbsoekUHrBoAAAAAElFTkSuQmCC",$="/syn/png/pledgeLoanBg-e5f00bd1.png";const tt=E(),et={props:{},components:{assetsHead:S,[y.name]:y,[f.name]:f,[C.name]:C,[_.name]:_,[b.name]:b,ruleMask:Z},data(){return{HOST_URL:V,showMask:!1,errorMsg:"",radio:1,isShow:!1,isShow1:!1,showTerm:!1,loanCycle:"",walletList:[],dayList:[],hourlyRate:"",loanAmountMin:"",loanAmount:"",pledgeAmount:"",pledgeCurrency:"",volume:"",pledgeRate:"",closeOut:"",debtAmount:"",interestAmount:"--",orderIcon:new URL(Object.assign({"../../../assets/theme/dark/image/order.png":J,"../../../assets/theme/white/image/order.png":K})[`../../../assets/theme/${tt.theme}/image/order.png`],self.location)}},mounted(){this.init()},computed:{...Q({theme:"home/theme"})},methods:{handleImage(e){return new URL(e,import.meta.url).href},init(){this.getLoanConfig(),this.getList()},openSelect(){this.isShow=!this.isShow},openSelectBorrow(){this.isShow1=!this.isShow1},selectCoin(e){this.pledgeCurrency=e.symbol,this.volume=e.usable,this.isShow1=!1},changeDay(e){this.loanCycle=this.dayList[e*1-1],this.getLoanParamFn()},changeAmount(){this.pledgeAmount>=this.volume&&(this.pledgeAmount=this.volume),this.debounceFn()},getLoanConfig(){Y().then(e=>{this.dayList=e.loanCycle,this.loanCycle=this.dayList[0],this.hourlyRate=e.hourlyRate,this.loanAmountMin=e.loanAmountMin})},compare(e,s){return function(a,m){var o=a[e],i=m[e];if(o!=i)return s=="up"?i-o:(s=="down",o-i)}},getList(){X().then(e=>{let s=e.extends.filter(m=>m.symbol.toLowerCase()!="usdt");this.walletList=[...s].sort(this.compare("usdt","up"));let a=this.walletList.find(m=>m.symbol.toLowerCase()=="eth");a||(a=this.walletList[0]),this.volume=a.usable,this.pledgeCurrency=a.symbol})},debounceFn:H(function(){this.getLoanParamFn()},500),getLoanParamFn(){if(this.errorMsg="",this.loanAmount=="")return r(this.$t("\u8BF7\u8F93\u5165\u501F\u6B3E\u6570\u91CF")),!1;if(this.pledgeAmount=="")return r(this.$t("\u8BF7\u8F93\u5165\u8D28\u62BC\u6570\u91CF")),!1;if(this.loanAmount*1<this.loanAmountMin*1)return r(this.$t("\u6700\u5C0F\u501F\u6B3E\u6570\u91CF\u4E3A",{mount:this.loanAmountMin})),!1;q({loanAmount:this.loanAmount,pledgeAmount:this.pledgeAmount,pledgeCurrency:this.pledgeCurrency,loanCycle:this.loanCycle}).then(e=>{this.closeOut=e.closeOut,this.pledgeRate=e.pledgeRate,this.debtAmount=e.debtAmount,this.interestAmount=e.interestAmount}).catch(e=>{e.code==10?(this.loanAmount="",this.pledgeAmount="",this.closeOut="",this.pledgeRate="",this.interestAmount="",this.debtAmount="",this.errorMsg=this.$t("\u8D28\u62BC\u7387\u8FC7\u9AD8\uFF0C\u8D28\u62BC\u91D1\u989D\u4E0D\u5F97\u4F4E\u4E8E:")+e.msg):e.code==="ECONNABORTED"?r(this.$t("\u7F51\u7EDC\u8D85\u65F6\uFF01")):e.msg!==void 0&&r(this.$t(e.msg))})},getAddOrder(){if(this.loanAmount=="")return r(this.$t("\u8BF7\u8F93\u5165\u501F\u6B3E\u6570\u91CF")),!1;if(this.pledgeAmount=="")return r(this.$t("\u8BF7\u8F93\u5165\u8D28\u62BC\u6570\u91CF")),!1;if(this.loanAmount*1<this.loanAmountMin*1)return r(this.$t("\u6700\u5C0F\u501F\u6B3E\u6570\u91CF\u4E3A",{mount:this.loanAmountMin})),!1;z({loanAmount:this.loanAmount,pledgeAmount:this.pledgeAmount,pledgeCurrency:this.pledgeCurrency,loanCycle:this.loanCycle}).then(e=>{this.loanAmount="",this.pledgeAmount="",this.closeOut="",this.pledgeRate="",this.interestAmount="",this.debtAmount="",r(this.$t("\u501F\u8D37\u6570\u91CF\u5DF2\u53D1\u653E,\u8BF7\u81F3\u73B0\u8D27\u8D26\u53F7\u67E5\u770B")),this.getList()}).catch(e=>{e.code==="ECONNABORTED"?r(this.$t("\u7F51\u7EDC\u8D85\u65F6\uFF01")):e.msg!==void 0&&r(this.$t(e.msg))})}}},st={id:"cryptos"},ot={class:"pledgeLoan"},nt=["src"],lt={class:"contentBox"},it={class:"content mt-64 box-shad tabBackground"},rt={class:"mb-9"},at={class:"text-32 textColor"},mt={class:"flex mt-5 h-24 items-center inputBox inputBackground1 textColor"},ut=["placeholder"],dt={class:"errorInfo text-24 h-7 mt-5 mb-7",style:{color:"#F43368"}},ct={class:"content mt-9 tabBackground"},ht={class:"text-32 textColor"},pt={class:"flex mt-5 h-24 items-center inputBox inputBackground1 textColor relative"},gt=["placeholder"],At=["src"],ft={class:"ml-3 mr-7 w-22 currency-title"},Ct={class:"slectBox slectBoxMax"},yt=["onClick"],_t={class:"flex items-center"},bt=["src"],vt={class:"ml-3 text-24 text-grey"},xt={class:"py-2.5"},wt={class:"text-grey text-right"},kt={class:"text-grey text-right"},Ut={class:"flex items-center text-24 mt-4 text-grey"},Bt={class:"mr-3.5"},St={class:"mt-12 text-32 textColor"},Lt={class:"mt-5 text-24 text-grey"},Rt={class:"pl-5 h-full inputBackground1 selectedCon"},Ot={class:"mt-6 text-grey text-24 flex justify-between"},Mt={class:"textColor"},It={class:"mt-6 text-grey text-24 flex justify-between"},Dt={class:"textColor"},Ft={class:"mt-6 text-grey text-24 flex justify-between"},Tt={class:"textColor"},Et={class:"mt-6 text-grey text-24 flex justify-between"},Vt={class:"textColor"},Qt={class:"mt-12 text-32 text-grey flex justify-between"},Ht={class:"textColor"},jt={class:"mt-12 text-32 text-grey flex justify-between"},Nt={class:"textColor"},Pt={class:"day-select"};function Yt(e,s,a,m,o,i){const L=S,R=C,O=_,M=b,I=f,D=y,F=j("rule-mask");return d(),p("div",st,[t("div",ot,[u(L,{title:e.$t("\u8D28\u62BC\u501F\u5E01"),backFunc:()=>e.$router.push("/quotes/index?tabActive=1")},{default:c(()=>[t("div",{class:"custom",onClick:s[0]||(s[0]=n=>e.$router.push("/cryptos/pledgeLoanOrder"))},[t("img",{src:i.handleImage(o.orderIcon),class:"record-img",alt:"record-img"},null,8,nt)])]),_:1},8,["title","backFunc"]),t("div",lt,[s[24]||(s[24]=t("div",{class:"imgBox"},[t("img",{src:$,alt:""})],-1)),t("div",it,[t("div",rt,[t("div",at,l(e.$t("\u501F\u6B3E")),1),t("div",mt,[g(t("input",{class:"h-full pl-5 inputBackground1",type:"number","onUpdate:modelValue":s[1]||(s[1]=n=>o.loanAmount=n),onInput:s[2]||(s[2]=(...n)=>i.changeAmount&&i.changeAmount(...n)),placeholder:e.$t("\u501F\u6B3E\u6570\u91CF")+`>=${o.loanAmountMin}`},null,40,ut),[[v,o.loanAmount]]),t("div",{class:"right w-64 h-16 flex items-center pl-6 box-border relative",onClick:s[4]||(s[4]=(...n)=>i.openSelect&&i.openSelect(...n))},[s[17]||(s[17]=t("img",{src:B,class:"w-12 h-12",alt:""},null,-1)),s[18]||(s[18]=t("span",{class:"ml-1 mr-2"},"USD",-1)),s[19]||(s[19]=t("img",{src:A,alt:"logo",class:"w-6 h-6"},null,-1)),g(t("div",{class:"slectBox",onClick:s[3]||(s[3]=w(n=>{o.isShow=!1},["stop"]))},[...s[16]||(s[16]=[t("div",{class:"h-16 lh-16 border-b-color"},"Select",-1),t("div",{class:"flex items-center h-20"},[t("img",{src:B,class:"w-10 h-10",alt:""}),t("span",{class:"ml-3 text-24 text-grey"},"USD")],-1)])],512),[[x,o.isShow]])])]),t("div",dt,l(o.errorMsg?o.errorMsg:""),1),t("div",{class:"h-24 pledgeLoan_background rounded-lg text-center text-black text-34 flex items-center justify-center",onClick:s[5]||(s[5]=(...n)=>i.getLoanParamFn&&i.getLoanParamFn(...n))},l(e.$t("\u8D28\u62BC\u80A1\u7968")),1)])]),t("div",ct,[t("div",ht,l(e.$t("\u8D28\u62BC")),1),t("div",pt,[g(t("input",{class:"h-full pl-5 inputBackground1",type:"number","onUpdate:modelValue":s[6]||(s[6]=n=>o.pledgeAmount=n),onInput:s[7]||(s[7]=(...n)=>i.changeAmount&&i.changeAmount(...n)),placeholder:e.$t("\u8BF7\u8F93\u5165\u8D28\u62BC\u6570\u91CF")},null,40,gt),[[v,o.pledgeAmount]]),t("div",{class:"right w-63 h-16 flex items-center pl-7 box-border",onClick:s[8]||(s[8]=(...n)=>i.openSelectBorrow&&i.openSelectBorrow(...n))},[t("img",{src:`${o.HOST_URL}/symbol/${o.pledgeCurrency.toLowerCase()}.png`,class:"w-12 h-12",alt:""},null,8,At),t("span",ft,l(o.pledgeCurrency.toUpperCase()),1),s[20]||(s[20]=t("img",{src:A,alt:"logo",class:"w-6 h-6"},null,-1))]),g(t("div",Ct,[t("div",null,[s[21]||(s[21]=t("div",{class:"h-16 lh-16 border-b-color"},"Select",-1)),(d(!0),p(k,null,U(o.walletList,n=>(d(),p("div",{class:"flex items-center border-b-color justify-between",key:n.symbol,onClick:w(h=>i.selectCoin(n),["stop"])},[t("div",_t,[t("img",{src:`${o.HOST_URL}/symbol/${n.symbol.toLowerCase()}.png`,class:"w-10 h-10",alt:""},null,8,bt),t("span",vt,l(n.symbol.toUpperCase()),1)]),t("div",xt,[t("div",wt,l(e.$t("\u603B\u8D44\u4EA7"))+":"+l(n.volume),1),t("div",kt,l(e.$t("\u53EF\u7528"))+":"+l(n.usable),1)])],8,yt))),128))])],512),[[x,o.isShow1]])]),t("div",Ut,[N(l(e.$t("\u53EF\u7528\u4F59\u989D"))+"\uFF1A",1),t("span",Bt,l(o.volume||"--")+"\xA0 "+l(o.pledgeCurrency.toUpperCase()),1),t("img",{onClick:s[9]||(s[9]=n=>e.$router.push("/cryptos/exchangePage")),src:W,class:"w-7 h-7",alt:""})]),t("div",St,l(e.$t("\u501F\u5E01\u671F\u9650")),1),t("div",Lt,l(e.$t("\u63D0\u524D\u8FD8\u6B3E\u4E0D\u7F5A\u606F")),1),t("div",{class:"flex items-center h-24 mt-5 inputBox inputBackground1 textColor",onClick:s[10]||(s[10]=n=>o.showTerm=!o.showTerm)},[t("div",Rt,l(o.loanCycle+e.$t("\u5929")),1),s[22]||(s[22]=t("div",{class:"iconBox mr-8"},[t("img",{src:A,alt:"logo",class:"w-6 h-6"})],-1))]),t("p",Ot,[t("span",null,l(e.$t("\u5F3A\u5E73\u4EF7\u683C"))+"USD",1),t("span",Mt,l(o.closeOut||"--"),1)]),t("p",It,[t("span",null,l(e.$t("\u8D28\u62BC\u7387")),1),t("span",Dt,l(o.pledgeRate!==""?(o.pledgeRate*1e4/100).toFixed(2):"--")+"%",1)]),t("p",Ft,[t("span",null,l(e.$t("\u5C0F\u65F6\u5229\u7387")),1),t("span",Tt,l(o.hourlyRate||"--"),1)]),t("p",Et,[t("span",null,l(e.$t("\u65E5\u5229\u7387")),1),t("span",Vt,l(isNaN(o.hourlyRate)?"--":o.hourlyRate*24),1)]),t("div",{class:"queIcon mt-2",onClick:s[11]||(s[11]=n=>o.showMask=!0)},[...s[23]||(s[23]=[t("img",{src:G,class:"w-6 h-6",alt:""},null,-1)])]),t("p",Qt,[t("span",null,l(e.$t("\u603B\u5229\u606F")),1),t("span",Ht,l(o.interestAmount||"--")+"\xA0USD",1)]),t("p",jt,[t("span",null,l(e.$t("\u9884\u8BA1\u8FD8\u6B3E")),1),t("span",Nt,l(o.debtAmount||"--")+"\xA0USD",1)]),t("div",{class:"mt-19 h-24 pledgeLoan_background rounded-lg text-center text-black text-34 mt-12 flex items-center justify-center",onClick:s[12]||(s[12]=(...n)=>i.getAddOrder&&i.getAddOrder(...n))},l(e.$t("\u501F\u6B3E")),1)])]),u(D,{show:o.showTerm,"onUpdate:show":s[14]||(s[14]=n=>o.showTerm=n),title:e.$t("\u9009\u62E9\u671F\u9650")},{default:c(()=>[t("div",Pt,[u(I,{modelValue:o.radio,"onUpdate:modelValue":s[13]||(s[13]=n=>o.radio=n),onChange:i.changeDay},{default:c(()=>[u(M,null,{default:c(()=>[(d(!0),p(k,null,U(o.dayList,(n,h)=>(d(),P(O,{title:n+e.$t("\u5929"),clickable:"",onClick:qt=>o.radio=h+1,key:h},{"right-icon":c(()=>[u(R,{name:h+1},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","onChange"])])]),_:1},8,["show","title"]),u(F,{modelValue:o.showMask,"onUpdate:modelValue":s[15]||(s[15]=n=>o.showMask=n)},null,8,["modelValue"])])])}const re=T(et,[["render",Yt],["__scopeId","data-v-08e267c7"]]);export{re as default};
