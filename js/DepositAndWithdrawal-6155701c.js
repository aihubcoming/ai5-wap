import{_ as G,v as H,u as J,ak as K,r as c,l as O,be as Q,o as s,c as n,g as L,w as I,e as l,f,i as X,F as v,m as $,bi as p,bP as Y,h as g,t as u,b as T,n as ee,d as y}from"./index-16c70849.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{_ as te,f as ae}from"./recharge.api-199101ea.js";import{c as se}from"./withdraw.api-c629619b.js";import{T as le,a as oe}from"./index-3c097e6a.js";import{L as ne}from"./index-a4697f48.js";import{P as ie}from"./index-34c03606.js";import"./use-id-8bfa17e8.js";import"./use-tab-status-44f153aa.js";import"./index-3f984ecc.js";import"./index-6c82b647.js";const re={class:"Record pb-12"},ue={class:"tab-fixed"},ce={class:"list-wrap px-8 pt-8"},de={class:"tab-wrap flex px-4 mt-5"},ve=["onClick"],fe={key:0,class:"pt-20 text-center"},pe=["onClick"],_e={class:"flex justify-between"},me={class:"type"},ge={class:"money"},he={class:"flex mt-1 justify-between"},ke={class:"time"},ye={key:0,class:"status flex"},be={key:1,class:"status flex"},we={__name:"DepositAndWithdrawal",setup(xe){const{t:_}=H.exports.useI18n(),V=J();K();let i=c(0),o=c(0);const r=c([]),h=c(!1),b=c(!1),w=c(!1),x=c(!1),k=c(1),R=c([{name:_("recharge"),direction:"recharge"},{name:_("withdraw"),direction:"withdraw"}]);O(()=>{let t=Q("recordId");k.value=t,k.value==1||k.value==2?(i.value=0,k.value==2?o.value=1:o.value=0):(i.value=1,k.value==4?o.value=1:o.value=0)});let W=c({name:_("recharge"),direction:"recharge"});const N=[_("foreignCurrency")],d=c(1),A=()=>{W.value=R.value[i.value],k.value=i.value,i.value==0?o.value==0?p("recordId",1):p("recordId",2):o.value==0?p("recordId",3):p("recordId",4),C()},B=t=>{o.value=t,i.value==0?o.value==0?p("recordId",1):p("recordId",2):o.value==0?p("recordId",3):p("recordId",4),C()},D=()=>{o.value==0?P():i.value==0?S():U()},j=t=>{V.push("RecordDetails?orderNo="+t.order_no+"&type="+o.value+"&isCZ="+i.value)},P=()=>{te({page_no:d.value,direction:R.value[i.value].direction}).then(t=>{r.value=[],b.value=!1,r.value=r.value.concat(t),h.value=!1,x.value=!0,r.value.length===0&&d.value===1&&(w.value=!0),d.value++})},S=()=>{ae({page_no:d.value}).then(t=>{r.value=[],b.value=!1,h.value=!1,x.value=!0,r.value=r.value.concat(t),r.value.length===0&&d.value===1&&(w.value=!0),d.value++})},U=()=>{se({page_no:d.value}).then(t=>{b.value=!1,h.value=!1,r.value=r.value.concat(t),x.value=!0,r.value.length===0&&d.value===1&&(w.value=!0),d.value++})},C=()=>{x.value=!1,h.value=!0,r.value=[],d.value=1,w.value=!1,D()};return(t,a)=>{const F=Y,M=le,z=oe,E=ne,Z=ie;return s(),n("div",re,[L(F,{fixed:""},{title:I(()=>[g(u(t.$t("rechargeWithRecord")),1)]),_:1}),l("div",ue,[L(z,{active:f(i),"onUpdate:active":a[0]||(a[0]=e=>X(i)?i.value=e:i=e),onClickTab:A},{default:I(()=>[(s(!0),n(v,null,$(R.value,(e,m)=>(s(),T(M,{key:m,title:e.name},null,8,["title"]))),128))]),_:1},8,["active"])]),l("div",ce,[l("div",de,[(s(),n(v,null,$(N,(e,m)=>l("div",{class:ee(["tab-item mr-4",[f(o)===m?"active":""]]),key:m,onClick:q=>B(m)},u(e),11,ve)),64))]),L(Z,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value=e),onRefresh:C,"pulling-text":f(_)("\u4E0B\u62C9\u5373\u53EF\u5237\u65B0"),"loosing-text":f(_)("\u91CA\u653E\u5373\u53EF\u5237\u65B0"),"loading-text":f(_)("\u52A0\u8F7D\u4E2D...")},{default:I(()=>[w.value?(s(),n("div",fe,u(t.$t("noData")),1)):(s(),T(E,{key:1,loading:h.value,"onUpdate:loading":a[1]||(a[1]=e=>h.value=e),finished:x.value,"loading-text":t.$t("loading"),"finished-text":t.$t("noMore"),onLoad:D},{default:I(()=>[l("ul",null,[(s(!0),n(v,null,$(r.value,(e,m)=>(s(),n("li",{class:"px-4 mt-10",key:m,onClick:q=>j(e)},[l("div",_e,[l("div",me,u(f(o)==0?e.currency:e.coin),1),l("div",ge,u(e.amount),1)]),l("div",he,[l("div",ke,u(f(o)==0?e.create_time:e.createtime),1),f(o)==1?(s(),n("div",ye,[e.status==0?(s(),n(v,{key:0},[a[3]||(a[3]=l("div",{class:"status-icon status-icon-color3 mr-2"},null,-1)),g(" "+u(t.$t("confirming")),1)],64)):y("",!0),e.status==1?(s(),n(v,{key:1},[a[4]||(a[4]=l("div",{class:"status-icon status-icon-color1 mr-2"},null,-1)),g(" "+u(t.$t("success")),1)],64)):y("",!0),e.status==2?(s(),n(v,{key:2},[a[5]||(a[5]=l("div",{class:"status-icon status-icon-color2 mr-2"},null,-1)),g(" "+u(t.$t("fail")),1)],64)):y("",!0)])):(s(),n("div",be,[e.state==0?(s(),n(v,{key:0},[a[6]||(a[6]=l("div",{class:"status-icon status-icon-color3 mr-2"},null,-1)),g(" "+u(t.$t("confirming")),1)],64)):y("",!0),e.state==3?(s(),n(v,{key:1},[a[7]||(a[7]=l("div",{class:"status-icon status-icon-color1 mr-2"},null,-1)),g(" "+u(t.$t("success")),1)],64)):y("",!0),e.state==4?(s(),n(v,{key:2},[a[8]||(a[8]=l("div",{class:"status-icon status-icon-color2 mr-2"},null,-1)),g(" "+u(t.$t("fail")),1)],64)):y("",!0)]))])],8,pe))),128))])]),_:1},8,["loading","finished","loading-text","finished-text"]))]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])])}}},Ue=G(we,[["__scopeId","data-v-b14a7d08"]]);export{Ue as default};
