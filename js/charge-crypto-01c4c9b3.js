import{_ as P,v as W,u as z,r as a,l as H,I as G,o as g,c as f,g as i,w as p,e as t,aW as T,bb as S,h as y,t as s,F as J,m as K,s as b,n as X,bi as Y,bP as Z}from"./index-16c70849.js";/* empty css              */import{U as ee,_ as te}from"./index-380cff9d.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import{b as se,d as oe,e as ae}from"./recharge.api-199101ea.js";import{u as ne}from"./index-8a3dc8af.js";import{b as ce}from"./browser-6392677b.js";import{S as le}from"./index-6c82b647.js";import{F as re}from"./index-08f817c6.js";import{B as ie}from"./index-bb9105b1.js";import"./index-3f984ecc.js";import"./index-b64db57c.js";import"./index-19da7eed.js";import"./index-2ad682be.js";import"./use-id-8bfa17e8.js";const de={class:"charge-crypto pb-20"},ue={class:"pt-9"},pe={class:"imgbox flex justify-center"},me={id:"QRcodeCanvas"},_e=["src"],he={class:"usdt-address mt-8"},ve={class:"pt-6"},ge={class:"flex flex-col"},fe={class:"flex flex-col px-4 mt-6"},ye={class:"pt-2 pb-2"},be={class:"tab-wrap flex"},ke=["onClick"],Re={class:"flex flex-col px-4 mt-6"},xe={class:"pt-2 pb-2"},we={class:"flex flex-col px-4 mt-4"},Ce={class:"pt-2 pb-2"},$e={class:"tips"},Ie={class:"px-4 mt-6 centent"},Te={class:"mt-2 text-xs"},Se={class:"mt-2 text-xs"},Ue={class:"mt-2 text-xs"},De={class:"mt-2 text-xs"},Ve={class:"mt-2 text-xs"},Be={class:"px-4 mt-6"},Ae={__name:"charge-crypto",setup(Fe){const{t:l}=W.exports.useI18n(),{toClipboard:U}=ne(),k=z(),m=a([]),c=a({}),R=a(0),d=a(""),D=a(""),_=a([]),x=a(""),w=a("usdt"),C=a("");a("");const $=a(""),h=a(!1);H(()=>{V()});const V=()=>{se({coin:w.value}).then(e=>{m.value=e,c.value=e[0];const{address:o}=e[0];B(o)}),I()},B=e=>{let o={errorCorrectionLevel:"H",type:"image/png",quality:.3,margin:1,width:200,height:200,text:"http://www.xxx.com",color:{dark:"#333333",light:"#fff"}},n=document.getElementById("QRcodeCanvas");ce.toCanvas(n,e,o,function(u){console.log(u)}),$.value=n.toDataURL("image/png"),h.value=!0},A=e=>{const o=document.querySelector(e),n=document.createElement("a");n.href=o.toDataURL(),n.download="qrcode";const u=new MouseEvent("click");n.dispatchEvent(u)},I=()=>{oe().then(e=>{x.value=e.session_token})},F=async()=>{try{await U(c.value.address),b(l("copySuccess"))}catch(e){console.error(e)}},Q=e=>{R.value=e,c.value=m.value[e]},E=e=>{e.status="uploading",e.message=l("uploading"),te(e).then(o=>{C.value=o,e.status="success",e.message=l("uploadSuccess"),_.value=[e]}).catch(o=>{e.status="failed",e.message=l("uploadFailed")})},L=()=>{Y("recordId",2),k.push("/Record/DepositAndWithdrawal")},q=()=>{if(!d.value){b(l("enterRechargeAmount"));return}if(!/^[0-9]+([.]{1}[0-9]+){0,1}$/.test(d.value)){b(l("amountNumber"));return}ae({session_token:x.value,amount:d.value,from:D.value,blockchain_name:c.value.blockchain_name,img:C.value,coin:w.value,channel_address:c.value.address,tx:""}).then(o=>{k.push({path:"/order/apply-success",query:{currentType:"recharge",type:"hb"}})}).catch(o=>{I()})};return(e,o)=>{const n=G,u=Z,N=le,j=re,M=ee,O=ie;return g(),f("div",de,[i(N,null,{default:p(()=>[i(u,null,{title:p(()=>[y(" USDT "+s(e.$t("recharge")),1)]),right:p(()=>[i(n,{name:"orders-o",onClick:L})]),_:1})]),_:1}),t("div",ue,[t("div",pe,[t("div",null,[T(t("canvas",me,null,512),[[S,!h.value]]),T(t("img",{src:$.value,alt:"",class:"QRcodeImg"},null,8,_e),[[S,h.value]])])]),t("div",he,[y(s(c.value.address),1),t("span",{onClick:F},s(e.$t("copy")),1)]),t("div",{class:"save mt-2",onClick:o[0]||(o[0]=r=>A("#QRcodeCanvas"))},s(e.$t("saveQr")),1)]),t("div",ve,[t("ul",ge,[t("li",fe,[t("p",ye,s(e.$t("network")),1),t("div",be,[(g(!0),f(J,null,K(m.value,(r,v)=>(g(),f("div",{class:X(["tab-item mr-4",[R.value==v?"active":""]]),key:v,onClick:Qe=>Q(v)},s(r.blockchain_name),11,ke))),128))])]),t("li",Re,[t("p",xe,s(e.$t("RechargeAmount"))+"(USD)",1),i(j,{class:"mt-2 usd-input",type:"text",placeholder:e.$t("enterRechargeAmount"),modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=r=>d.value=r)},null,8,["placeholder","modelValue"])]),t("li",we,[t("p",Ce,s(e.$t("proofOfPayment"))+")",1),i(M,{class:"mt-2",modelValue:_.value,"onUpdate:modelValue":o[2]||(o[2]=r=>_.value=r),"max-count":1,"after-read":E},null,8,["modelValue"]),t("p",$e,s(e.$t("ClickUpload")),1)])])]),t("div",Ie,[t("h2",null,s(e.$t("RechargeInstructions")),1),t("p",Te,s(e.$t("RechargeTitle7"))+" USDT-"+s(c.value.blockchain_name)+" "+s(e.$t("RechargeTitle1")),1),t("p",Se,s(e.$t("RechargeTitle2")),1),t("p",Ue,s(e.$t("RechargeTitle3")),1),t("p",De,s(e.$t("RechargeTitle4")),1),t("p",Ve,s(e.$t("RechargeTitle5")),1)]),t("div",Be,[i(O,{class:"w-full",type:"primary",onClick:q},{default:p(()=>[y(s(e.$t("submit")),1)]),_:1})])])}}},tt=P(Ae,[["__scopeId","data-v-083c6d5d"]]);export{tt as default};
