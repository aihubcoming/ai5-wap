import{p as W,$ as D,z as E,B as P,r as _,a1 as N,aI as H,a4 as F,aa as I,K as Y,aJ as q,a9 as X,g as v,aK as Z,E as z,ad as $,aL as ee,H as se,_ as te,v as oe,u as K,l as ae,ap as ie,I as ne,o as B,c as U,e,f as m,t as J,w as y,aA as le,aM as ce,aN as de}from"./index-14d2cc83.js";/* empty css              */import{_ as w,D as re}from"./vuedraggable.umd-b07faaae.js";import{_ as fe}from"./edit-6549753a.js";import{B as Ae}from"./index-e68322b9.js";const[ue,T]=W("swipe-cell"),ge={name:D(""),disabled:Boolean,leftWidth:E,rightWidth:E,beforeClose:Function,stopPropagation:Boolean};var me=P({name:ue,props:ge,emits:["open","close","click"],setup(l,{emit:A,slots:c}){let r,d,p,u;const x=_(),b=_(),k=_(),i=N({offset:0,dragging:!1}),o=H(),t=s=>s.value?Z(s).width:0,C=F(()=>I(l.leftWidth)?+l.leftWidth:t(b)),f=F(()=>I(l.rightWidth)?+l.rightWidth:t(k)),S=s=>{i.offset=s==="left"?C.value:-f.value,r||(r=!0,A("open",{name:l.name,position:s}))},a=s=>{i.offset=0,r&&(r=!1,A("close",{name:l.name,position:s}))},g=s=>{const n=Math.abs(i.offset),h=.15,G=r?1-h:h,M=s==="left"?C.value:f.value;M&&n>M*G?S(s):a(s)},O=s=>{l.disabled||(p=i.offset,o.start(s))},Q=s=>{if(l.disabled)return;const{deltaX:n}=o;o.move(s),o.isHorizontal()&&(d=!0,i.dragging=!0,(!r||n.value*p<0)&&z(s,l.stopPropagation),i.offset=$(n.value+p,-f.value,C.value))},R=()=>{i.dragging&&(i.dragging=!1,g(i.offset>0?"left":"right"),setTimeout(()=>{d=!1},0))},V=(s="outside",n)=>{u||(A("click",s),r&&!d&&(u=!0,ee(l.beforeClose,{args:[{event:n,name:l.name,position:s}],done:()=>{u=!1,a(s)},canceled:()=>u=!1,error:()=>u=!1})))},j=s=>n=>{(d||r)&&n.stopPropagation(),!d&&V(s,n)},L=(s,n)=>{const h=c[s];if(h)return v("div",{ref:n,class:T(s),onClick:j(s)},[h()])};return Y({open:S,close:a}),q(x,s=>V("outside",s),{eventName:"touchstart"}),X("touchmove",Q,{target:x}),()=>{var s;const n={transform:`translate3d(${i.offset}px, 0, 0)`,transitionDuration:i.dragging?"0s":".6s"};return v("div",{ref:x,class:T(),onClick:j("cell"),onTouchstartPassive:O,onTouchend:R,onTouchcancel:R},[v("div",{class:T("wrapper"),style:n},[L("left",b),(s=c.default)==null?void 0:s.call(c),L("right",k)])])}}});const ve=se(me);const Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATFSURBVHgB7VhrcuJGEO4eCTDJpiKfIOwJgk9gfILYJ7DzM7Fda06w+ATAOk5+Lj6B8QnAJzA5gckJUCq7gYCYTs/IAY2kEYIiu7VVfFUYJM/j68f0YwB22GGHTwqELcBrkgfFjxWYQxVQfAtA+y/Lj/j3HyBo6J+/GsAWsDFhTdIdnyLiMRAxUfRyTOsTQAdm8OjXy0PYAGsT9prjinBlgwB/yEnStnFHzuB6XeK5CSuNisI/bwnoCrYIBGrJWZmJo59vfA54zQ9VdJ17Hl1J+z8LMeA/j0ByAOgMQczDzaXDFpD8wRrPPUTAKqQvMKQAjvJoeyVh79fpKc6DVsL8RD67RRuCvVZe7Sh3ApeuULtTXHj0SYgr/+fiHWxKWJOV8078PRFcr0M0sa4mDmeI8DaxtnDOskhbCXs3H48Rxb25mjLd/MSvbydEKeLoQi+ubaLgyL/8pg95CYcL0ZPpBjigGZ2s8jPvN9ZeEFT0Q/BqsMoKeq8CsWKi/s3uMaODtL1SCe/fjJ8NqbVm9w5sm+sIUpy8IQlnCd9UcxEa/kX5zk565GGh1DNJQ390UT6CVYS9dx/OUDjvTbL2E7wqguRfJ+keHH3q/sVXLSthLam792RO4kNwkX4I0l0nC2xqFEf+eTH1DHg34xofxJ4xflZ6HbWsMGY4hWOTLHRsZPVyWiMmWVLpl/BKfxC75gzyOOrc67SeAv+y3DfnsKu5fxuJyjUIoGOGGU6dYIFynaSfJyJIO2Fq/n4h0UhdeEp1KMDxYlnkmB0Zu9CwMkfMfx6yIkJcuNA/k+FOrUFifmKMBXFqW1ePZytFdqp6N3/VEoQ5hdbMqZGDF4Py9XWEU6WlQYLn6vBnA8l29FGAqC1/LxYRh8akWfERbHD34jVBH1aCHozH/2J1GoJp35gZ4SbgC8OSsKq2oihMD62zAhhGH3UxswJIMQsGGendLdaij0RywS2q4b6xAUhr3av9lQzSNe92WrWN18UO0vGSAQyzUjaCYx5KUegmCKsYCKqujZJo2g8GHyIjPofxNTk+zITRZKB80mlYlk0XLpJojDjMwf6BM81CU1jEJn+dpK4cTFp8+E6j8RUL8Lx/O+mSlH39SvV7LDiYkg79S3syCtsvYRUumZoLpWd+7S2FsJd63i1rj0QvOj4TqugP8MBaT6TUMaPL8uvoGCNK+PV9n6S4NiVy39tcQ8fXGR7E/NlCVmVCmV38xJNRiuuk18O/jHtomFLVwqWjrIPivRuHHURaean8PaNDUbUFupOneKqPa9dOOCyqn0xT5yzg9X3FJDwHLvvrT6vGq72QC3haRpkM18lokeKlHqzV3eaBrZYmEif+ZambNie7CVVmFpCoKViQhpzC3abEFx0KJSs27k5+9M/LHdvc1W2+Jk3NRCRgbXPY6soZtfMSX7ZSfBmTdm0gsJ5FNhfhcKP07jaCPhL9LoH6XPX5IPhwCcfXBQ5hRaCocl37PcRj8oJs/m58jasqLindUoO1+ga2CBa0LYNyY6tXVVGElyCSiduL8JVQ5let0P95GRiHJu6wiQWcos3UkCDJd3BMNCjdbXprtJULbQWVpkFihTuV7wDmLxfazoh7pz9ZsAFMvx5uSnKHHXb4jPgXu4Z1mZF3QkAAAAAASUVORK5CYII=",he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJrSURBVHgBzZgxctNAFIb/t5KHZCbM2DdQGlpMTEGHfQLgBAkVpiKcIOYEOBWmSjgB5ASIjoKAahrECfCAZ2JG0j7eyrKxEwVZ2Jb0FfJau6P9Z/e93fceIScX97pOGPADBWoyo83EdQLVTR+Dh8TKJ4Kvod0worOGN/DzfJ+WHfhzr3ugCPvSbCMPTJ7M0t85f/VmmeGZgn7d7baJcSJNB6vhy3S9LGHXCvrRPKzX1MURiA6xToj7Qbj9ouH1h6ndSBXTdWo2vQVzE5vBDyJ00uyLUsVYeI/Vt+i/RNGiGNkma/ylADETxOADfaMzv31qvj+2maLEGIibNTue8++raSNx6xOUABM6Nz8NXNOerZCIOUJJJMfKRId5mNVBkVt1FWfUero/E6TAz1A6fGCelLj5N1QAK8Kuqin9EBUhEi2KybqPikCkbiti7aAisEQStpxETtbArdfPsQ7GT15mjOC6jSS4+hdW6xaKgeoKFUNWiIdZqxSdf0UxSAg8anXNGeSgCjB7Smt8QEVgou9KkfZQEeQIclWg1TtUBKNFJSGki7IR+zFaYrfXjKVypo1Cqh//TP+P9sTbqCRvY/g7nwe7pjk7GFnhMcqCqDdtzgSZmFZy82MUjFyox/PZ7MLVEUa/e8a4UBSyVWG01Zt/tSCo4Z0OA02PzEAUICbQ6FxOqa9crsb1zMCNiooTxPRUOvW2n4ga39mETRmbmWSr6XWjzHJMnEBCcrZVjwRZcePJ04TwOvIVrEy6RJS3IuLKNKdrK1hdxqRNtmVKelLOYziyBQ5RUtJjiWdAQynpuRrs2TU62/6Yr6T3B5qt+VAOCyq/AAAAAElFTkSuQmCC";const pe={class:"pb-fix"},xe={class:"container-box"},_e={class:"icon back"},be={class:"title"},ke={class:"title-box"},Se={class:"drag-container"},Je=["onClick"],Be={class:"flex-l"},Ue={class:"flex-l-item"},ye={class:"name"},Te={key:1},Re={class:"flex item"},Ve={class:"flex-l"},je=["onClick"],Le={class:"flex-l-item"},Me={class:"name"},Ee={class:"flex-r"},Fe={class:"flex-r-item data-box"},Ie=["onClick"],Ke={__name:"GroupListManagement",setup(l){const A=_([]),{t:c}=oe.exports.useI18n(),r=K();K(),_(!1);let d=N([{label:c("UsStocks"),id:1,isFixed:!0},{label:c("ETF"),id:2,isFixed:!0},{label:c("\u5916\u6C47"),id:3,isFixed:!0},{label:c("digitalCurrency"),id:4,isFixed:!0}]);ae(()=>{k()});const p=o=>{console.log(o,"item")},u=o=>{console.log("\u62D6\u52A8\u524D\u7684\u7D22\u5F15 :"+o.moved.newIndex),console.log("\u62D6\u52A8\u540E\u7684\u7D22\u5F15 :"+o.moved.oldIndex),console.log(d,"list")},x=o=>{console.log(o.draggedContext.element.id)},b=o=>{console.log(o,"index"),console.log(A.value[o],"swipeCellRefs.value"),A.value[o].open("right")},k=()=>{ie().then(o=>{o.list.map(t=>{t.isFixed=!1,t.id=t.listId,t.label=t.listName,d.push(t)})})},i=o=>{ce({ids:o}).then(C=>{de(c("successfullyDeleted"));for(let f=0;f<d.length;f++)d[f].id==o&&d.splice(f,1)})};return(o,t)=>{const C=ne,f=Ae,S=ve;return B(),U("div",pe,[e("div",xe,[e("header",{class:"header flex",onClick:t[0]||(t[0]=a=>m(r).back())},[e("div",_e,[v(C,{name:"arrow-left",size:"20"})]),e("p",be,J(m(c)("managementPortfolio")),1)]),e("p",ke,J(m(c)("myPortfolio")),1),e("div",Se,[v(m(re),{list:m(d),animation:200,"item-key":"id",class:"drag-box",forceFallback:!0,"ghost-class":"ghost",onChange:u,move:x,handle:".drag-icon"},{item:y(({element:a})=>[a.isFixed===!0?(B(),U("div",{key:0,class:"flex item",onClick:g=>p(a.label)},[e("div",Be,[t[1]||(t[1]=e("div",{class:"flex-l-item"},[e("div",{class:"minus-icon"})],-1)),e("div",Ue,[e("p",ye,J(a.label),1)])]),t[2]||(t[2]=e("div",{class:"flex-r"},[e("div",{class:"flex-r-item data-box"},[e("div",{class:"data-item eye-open-icon"},[e("img",{src:Ce,alt:""})])]),e("div",{class:"flex-r-item data-box"},[e("div",{class:"data-item drag-icon"},[e("img",{src:w,alt:""})])])],-1))],8,Je)):(B(),U("div",Te,[v(S,{ref:g=>A.value[a.id]=g,name:a.id},{right:y(()=>[v(f,{square:"",type:"danger",onClick:g=>i(a.id),text:m(c)("delete")},null,8,["onClick","text"])]),default:y(()=>[e("div",Re,[e("div",Ve,[e("div",{class:"flex-l-item",onClick:le(g=>b(a.id),["stop"])},[...t[3]||(t[3]=[e("div",{class:"icon minus-icon"},[e("img",{src:he,alt:""})],-1)])],8,je),e("div",Le,[e("p",Me,J(a.label),1)])]),e("div",Ee,[e("div",Fe,[e("div",{class:"data-item edit-icon",onClick:g=>m(r).push(`/optional/groupEdit?info=${JSON.stringify(a)}`)},[...t[4]||(t[4]=[e("img",{src:fe,alt:""},null,-1)])],8,Ie)]),t[5]||(t[5]=e("div",{class:"flex-r-item data-box"},[e("div",{class:"data-item drag-icon"},[e("img",{src:w,alt:""})])],-1))])])]),_:2},1032,["name"])]))]),_:1},8,["list"])])])])}}},We=te(Ke,[["__scopeId","data-v-ccdced9b"]]);export{We as default};
