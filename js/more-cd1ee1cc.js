import{p as x,B as S,r as w,a1 as D,bo as U,b1 as y,a9 as K,K as W,a8 as z,aW as E,bb as F,g as c,$ as m,I,aK as C,bu as R,bl as J,aa as L,H as M}from"./index-14d2cc83.js";const[V,i]=x("notice-bar"),H={text:String,mode:String,color:String,delay:m(1),speed:m(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var P=S({name:V,props:H,emits:["close","replay"],setup(e,{emit:u,slots:a}){let l=0,o=0,g;const A=w(),d=w(),t=D({show:!0,offset:0,duration:0}),v=()=>{if(a["left-icon"])return a["left-icon"]();if(e.leftIcon)return c(I,{class:i("left-icon"),name:e.leftIcon},null)},k=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},Q=n=>{e.mode==="closeable"&&(t.show=!1,u("close",n))},B=()=>{if(a["right-icon"])return a["right-icon"]();const n=k();if(n)return c(I,{name:n,class:i("right-icon"),onClick:Q},null)},N=()=>{t.offset=l,t.duration=0,J(()=>{R(()=>{t.offset=-o,t.duration=(o+l)/+e.speed,u("replay")})})},T=()=>{const n=e.scrollable===!1&&!e.wrapable,s={transform:t.offset?`translateX(${t.offset}px)`:"",transitionDuration:`${t.duration}s`};return c("div",{ref:A,role:"marquee",class:i("wrap")},[c("div",{ref:d,style:s,class:[i("content"),{"van-ellipsis":n}],onTransitionend:N},[a.default?a.default():e.text])])},r=()=>{const{delay:n,speed:s,scrollable:f}=e,p=L(n)?+n*1e3:0;l=0,o=0,t.offset=0,t.duration=0,clearTimeout(g),g=setTimeout(()=>{if(!A.value||!d.value||f===!1)return;const h=C(A).width,b=C(d).width;(f||b>h)&&R(()=>{l=h,o=b,t.offset=-o,t.duration=o/+s})},p)};return U(r),y(r),K("pageshow",r),W({reset:r}),z(()=>[e.text,e.scrollable],r),()=>{const{color:n,wrapable:s,background:f}=e;return E(c("div",{role:"alert",class:i({wrapable:s}),style:{color:n,background:f}},[v(),T(),B()]),[[F,t.show]])}}});const Y=M(P);const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE/SURBVHgB7ZYxTsMwFIZ/P5uqI0coN8gRygnoEdqlUidUVQwIIVJVVSTKwIKiToQbcAPCDeAGPkLHoCY2AeQkjTCDFzL4W6w/L3561pN/P8Dj6SDMFlhvtiEjdtP4MblcTCdGrzbxkBN/gQOFKk6vL2ap0YQO4IswCFtgL3r3yLKk+tDv75rxr56GUXwCF1q5PJ42VrNa3W1HgrEzoxXwerWYJkavbx8C4kfncOCDimU4n0mjrbeDNALNMK70z5JURTE6Lk8whgM8x1O5yFbu/6XbZqWgUlJ1jQXD28HGHFIJvYQDhahb4fH8hn2yKs0InAKjlYJsTkNRFA9UD0M4sKf+czifVC+psJcnRgz1eCfo26hSo3OBAQd/hAM8z2Qzlzcrg70dpGTZktRIrdX7QVjzHRhL4QBp5Scrz598Ah9aWMhQJg47AAAAAElFTkSuQmCC";export{Y as N,j as _};
