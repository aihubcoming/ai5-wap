import{_ as k,al as R,v as C,u as w,ak as L,r as a,a8 as N,l as M,bB as A,o as x,c as b,e as t,t as o,f as p,F as S,m as V,n as g,I as q,g as r,w as D,d as z,h as F}from"./index-8f557042.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               */import{C as j}from"./index-bf2ccbe5.js";import{_ as O}from"./refresh-7b84d2f7.js";import{_ as U}from"./search-155de950.js";import{d as f}from"./dayjs.min-6b2f9ab5.js";import{a as Q}from"./trading-abec01e3.js";import{T as G,a as J}from"./index-e4e42e6e.js";import{B as K}from"./index-f30e4bd7.js";import"./use-sync-prop-ref-33238aa8.js";import"./use-id-df8c351b.js";import"./use-tab-status-fffaa261.js";import"./index-1b600eb6.js";import"./index-1c803132.js";const P={class:"inner-tab-container"},W={class:"etf-container"},X={class:"all-etf-ranking"},Z={class:"etf-table"},tt={class:"title-line"},et={class:"flex-r"},st={class:"flex-r-item"},ot={class:"flex-r-item"},at={class:"flex-r-item"},nt={class:"flex-r-item"},it=["onClick"],lt={class:"flex-r"},rt={class:"flex-r-item"},ct={class:"gray-text"},dt={class:"flex-r-item"},_t={class:"flex-r-item"},mt={class:"flex-r-item"},ut={__name:"HistoricalEntrustTab",props:{tabActive:{type:Number,default:0},startTime:{type:String},endTime:{type:String}},setup($,{expose:y}){const m=$;R();const{t:l}=C.exports.useI18n();w();const u=L();a(0),a(null),a("forex");const Y=a(u.query.symbol),h=a([]);N(()=>m.tabActive,()=>{d()}),M(async()=>{d()}),A(()=>{});const c=n=>{let i=-7,e=f().format("YYYY-MM-DD");n===0&&(i=-7),n===1&&(i=-30);let s=f().add(i,"d").format("YYYY-MM-DD");return n===2&&(s=m.startTime,e=m.endTime),console.log(i,s,e,"start, end"),{start:s,end:e}},d=()=>{let{start:n,end:i}=c(m.tabActive);Q.tradeRecord({page_no:1,symbol:Y.value,type:"hisorders",startTime:n,endTime:i}).then(e=>{h.value=e}).catch(()=>{})},v=()=>{};return y({getOrderList:d}),(n,i)=>(x(),b("section",P,[t("section",W,[t("div",X,[t("div",Z,[t("ul",null,[t("li",tt,[t("div",et,[t("div",st,[t("p",null,o(p(l)("\u59D4\u6258\u65F6\u95F4")),1)]),t("div",ot,[t("p",null,o(p(l)("\u59D4\u6258/\u5747\u4EF7")),1)]),t("div",at,[t("p",null,o(p(l)("\u59D4\u6258/\u6210\u4EA4")),1)]),t("div",nt,[t("p",null,o(p(l)("\u72B6\u6001")),1)])])]),(x(!0),b(S,null,V(h.value,e=>(x(),b("li",{key:e.symbol,onClick:s=>v()},[t("div",lt,[t("div",rt,[t("p",null,o(e.symbol),1),t("p",ct,o(e.create_time?e.create_time.slice(11):"-"),1)]),t("div",dt,[t("p",{class:g(e.price<1?"text-up":"text-down")},o(e.price),3)]),t("div",_t,[t("p",{class:g(e.price<1?"text-up":"text-down")},o(e.price),3)]),t("div",mt,[t("p",{class:g(e.price<1?"text-up":"text-down")},o(p(l)("\u5DF2\u5B8C\u6210")),3)])])],8,it))),128))])])])])]))}},pt=k(ut,[["__scopeId","data-v-16ffd2ea"]]);const ft={class:"pb-fix"},vt={class:"container-box"},xt={class:"header"},bt={class:"flex-l"},ht={class:"icon back"},yt={class:"title"},Yt={class:"icon-group"},Tt={class:"tab-container"},gt={key:0,class:"select-date-container flex"},$t={class:"flex-l"},Dt={class:"flex-r"},kt={__name:"HistoricalEntrust",setup($){const{t:y}=C.exports.useI18n(),m=w(),l=a(),u=a(0),Y=a(new Date(new Date().getFullYear(),0,1)),h=a(new Date),c=a(!1),d=a(f().add(-90,"d").format("YYYY-MM-DD")),v=a(f().format("YYYY-MM-DD"));M(async()=>{}),A(()=>{});const n=e=>{m.push({path:e,query:{tabActive:3}})},i=e=>{d.value=f(e[0]).format("YYYY-MM-DD"),v.value=f(e[1]).format("YYYY-MM-DD"),l.value.getOrderList(),c.value=!1};return(e,s)=>{const B=q,T=G,E=J,H=K,I=j;return x(),b("section",ft,[t("div",vt,[t("header",xt,[t("div",bt,[t("div",ht,[r(B,{name:"arrow-left",size:"20",onClick:s[0]||(s[0]=_=>n("/quotes/openTrade"))})]),t("span",yt,o(p(y)("\u5386\u53F2\u59D4\u6258")),1)]),t("div",Yt,[s[7]||(s[7]=t("div",{class:"icon refresh"},[t("img",{src:O,alt:""})],-1)),t("div",{class:"icon search",onClick:s[1]||(s[1]=_=>n("/exchangeHistory/search"))},[...s[6]||(s[6]=[t("img",{src:U,alt:""},null,-1)])])])]),t("section",Tt,[r(E,{active:u.value,"onUpdate:active":s[2]||(s[2]=_=>u.value=_)},{default:D(()=>[r(T,{title:"\u8FD17\u65E5"}),r(T,{title:"\u8FD130\u65E5"}),r(T,{title:"\u81EA\u5B9A\u4E49"})]),_:1},8,["active"]),u.value===2?(x(),b("div",gt,[t("div",$t,[t("div",{class:"flex-l-item",onClick:s[3]||(s[3]=_=>c.value=!0)},[t("span",null,o(d.value),1)]),s[8]||(s[8]=t("span",{class:"symbol"},"\uFF5E",-1)),t("div",{class:"flex-l-item",onClick:s[4]||(s[4]=_=>c.value=!0)},[t("span",null,o(v.value),1)])]),t("div",Dt,[r(H,{type:"primary",size:"small"},{default:D(()=>[...s[9]||(s[9]=[F("\u786E\u5B9A",-1)])]),_:1})]),r(I,{show:c.value,"onUpdate:show":s[5]||(s[5]=_=>c.value=_),type:"range",onConfirm:i,"confirm-text":e.$t("confirm"),"confirm-disabled-text":e.$t("confirm"),formatter:e.formatter,title:e.$t("selectDate"),"min-date":Y.value,"max-date":h.value},null,8,["show","confirm-text","confirm-disabled-text","formatter","title","min-date","max-date"])])):z("",!0),r(pt,{ref_key:"tabRef",ref:l,tabActive:u.value,startTime:d.value,endTime:v.value},null,8,["tabActive","startTime","endTime"])])])])}}},Ot=k(kt,[["__scopeId","data-v-3d005462"]]);export{Ot as default};
