import{cI as b,bK as N,I as v,_ as S,o as r,c,e,g as h,w as m,t as o,h as d,F as U,m as M,n as A,d as j,aW as a,bb as y,b as $,s as B,S as T,ag as F,aX as k}from"./index-8f557042.js";/* empty css              */import{P}from"./index-a03de02f.js";import{_ as E}from"./OrderNav-a73dbbc5.js";import{_ as L}from"./Group317-91a1afc0.js";import{B as f}from"./index-f30e4bd7.js";import{_ as D,a as J,b as R,c as O}from"./Group2-0311f044.js";import"./use-sync-prop-ref-33238aa8.js";const X={name:"EnterTrade",props:["type","paymentMethod","info","sessionToken","symbol","exchangeCurrency"],data(){return{advert_price:"",active:0,goodPrice:!0,advert_id:""}},watch:{paymentMethod:{handler:function(t){this.advert_price=this.paymentMethod[this.active].advert_price,this.advert_id=this.paymentMethod[this.active].advert_id},immediate:!0}},methods:{handleClick(t,s){this.active=t,this.advert_price=s.advert_price,this.advert_id=s.advert_id},async trade(){const t={session_token:this.sessionToken,payment_method_id:this.paymentMethod[this.active].payment_method_id,order_type:this.info.type==="Amount"?"by_amount":"by_num",amount:this.fullTotalPrice,coin_amount:this.fullNum,direction:this.type,currency:this.exchangeCurrency,symbol:this.symbol.toLowerCase(),remark:"",c2c_advert_id:this.advert_id};b.ctcOrderOpenQuick(t).then(s=>{this.$store.commit("c2c/SET_ORDER_NO",s.order_no),this.type=="buy"?this.$router.push("/cryptos/orderGeneration"):this.$router.push("/cryptos/sellGenerate")}).catch(s=>{})}},computed:{...N("c2c",["currencySymbol"]),fullTotalPrice(){return this.info.type==="Amount"?this.info.num:(console.log(this.info.num*1),console.log(this.advert_price),(this.info.num*1*this.advert_price).toFixed(2))},fullNum(){return this.info.type==="Amount"?(this.info.num*1/this.advert_price).toFixed(4):this.info.num}},components:{[v.name]:v,[f.name]:f,OrderNav:E}},Q={id:"EnterTradePagePop"},Y={class:"py-12 px-14"},K={class:"header-box"},G={key:0,class:"text-36 header-title"},H={key:1,class:"text-36 header-title"},W={class:"text-center"},q={key:0},z={key:0},Z={class:"flex items-end justify-center font-bold"},ee={class:"relative mr-4 text-40"},te={class:"text-50"},se={class:"mt-4 text-28"},oe={style:{color:"#2C78F8"}},ne={key:1},le={class:"flex items-end justify-center font-bold"},ie={class:"relative mr-4 text-40"},re={class:"text-50"},ce={class:"mt-4 text-28"},de={style:{color:"#2C78F8"}},ue={key:1},ae={key:0},me={class:"flex items-end justify-center font-bold"},he={class:"relative mr-4 text-40"},pe={class:"text-52"},ye={class:"mt-4 text-28"},_e={style:{color:"#2C78F8"}},ve={key:1},fe={class:"flex items-end justify-center font-bold"},be={class:"relative mr-4 text-40"},xe={class:"text-52"},ge={class:"mt-4 text-28"},Ce={style:{color:"#2C78F8"}},ke={class:"mt-16"},we={class:"text-grey"},Ae={class:"mt-4"},Be=["onClick"],$e={class:"flex items-center h-8"},Te=["src"],Pe={key:0,class:"mt-3 text-24",style:{color:"#1A6EBD"}},Ne={class:"absolute right-0 top-0 w-80 h-28",src:L,alt:""};function Se(t,s,u,I,n,i){const x=v,g=E,C=f;return r(),c("div",Q,[e("div",Y,[h(g,null,{left:m(()=>[...s[1]||(s[1]=[e("i",null,null,-1)])]),title:m(()=>[e("div",K,[u.type==="buy"?(r(),c("span",G,o(t.$t("\u786E\u8BA4\u8D2D\u4E70")),1)):(r(),c("span",H,o(t.$t("\u786E\u8BA4\u51FA\u552E")),1))])]),default:m(()=>[h(x,{onClick:s[0]||(s[0]=p=>t.$emit("close")),name:"cross",class:"font-semibold",color:"#868D9A"})]),_:1}),e("div",W,[u.type==="buy"?(r(),c("div",q,[u.info.type==="Amount"?(r(),c("div",z,[e("div",Z,[e("span",ee,o(t.currencySymbol),1),e("span",te,o(i.fullTotalPrice),1)]),e("div",se,[d(o(t.$t("\u6211\u5C06\u6536\u5230"))+"\xA0",1),e("span",oe,o(i.fullNum),1),d("\xA0"+o(u.symbol),1)])])):(r(),c("div",ne,[e("div",le,[e("span",ie,o(t.currencySymbol),1),e("span",re,o(i.fullTotalPrice),1)]),e("div",ce,[d(o(t.$t("\u6211\u5C06\u6536\u5230"))+"\xA0",1),e("span",de,o(i.fullNum),1),d("\xA0"+o(u.symbol),1)])]))])):(r(),c("div",ue,[u.info.type==="Amount"?(r(),c("div",ae,[e("div",me,[e("span",he,o(t.currencySymbol),1),e("span",pe,o(i.fullTotalPrice),1)]),e("div",ye,[d(o(t.$t("\u6211\u5C06\u51FA\u552E"))+"\xA0",1),e("span",_e,o(i.fullNum),1),d("\xA0"+o(u.symbol),1)])])):(r(),c("div",ve,[e("div",fe,[e("span",be,o(t.currencySymbol),1),e("span",xe,o(i.fullTotalPrice),1)]),e("div",ge,[d(o(t.$t("\u6211\u5C06\u51FA\u552E"))+"\xA0",1),e("span",Ce,o(i.fullNum),1),d("\xA0"+o(u.symbol),1)])]))]))]),e("div",ke,[e("div",we,o(t.$t("\u9009\u62E9\u652F\u4ED8\u65B9\u5F0F")),1),e("div",Ae,[(r(!0),c(U,null,M(u.paymentMethod,(p,_)=>(r(),c("div",{class:A(["relative flex items-center justify-between mb-5 pl-9 pr-10 py-7 bg-f5 rounded-xl text-28 box-border bank-item",{active:n.active===_}]),onClick:l=>i.handleClick(_,p),key:_},[e("div",$e,[e("img",{src:p.method_img_path,alt:"",class:"w-10 h-10 mr-5"},null,8,Te),e("span",null,o(t.$t(p.method_name)),1)]),e("div",null,[e("p",null,o(t.currencySymbol)+" "+o(p.advert_price),1),n.goodPrice?(r(),c("p",Pe,o(t.$t("\u4EF7\u683C\u6700\u4F18")),1)):j("",!0)]),a(e("img",Ne,null,512),[[y,n.active===_]])],10,Be))),128))])]),e("div",null,[u.type==="buy"?(r(),$(C,{key:0,class:"w-full h-20 mt-14 text-32 rounded-xl",type:"primary",color:"#2EBD85",onClick:i.trade},{default:m(()=>[d(o(t.$t("\u786E\u8BA4\u8D2D\u4E70")),1)]),_:1},8,["onClick"])):(r(),$(C,{key:1,class:"w-full h-20 mt-14 text-32 rounded-xl",type:"primary",color:"#E35461",onClick:i.trade},{default:m(()=>[d(o(t.$t("\u786E\u8BA4\u51FA\u552E")),1)]),_:1},8,["onClick"]))])])])}const Ue=S(X,[["render",Se],["__scopeId","data-v-318a9908"]]),w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASCAYAAABfJS4tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACtSURBVHgB5ZPBDcIwDEW/I9agygiMwCZ0g3YDwgSlLACjMEoP3FmglfkJ4hIQiNaIQ9/BieToxbJs4F/4RlcYgXuXLFoNg6CCpThKFdhiJO4X0oh8kvJBp4IzpogtKn0SFwetVdHAiMXjMiiuPErMltRjbpfvHTYwJPW4p5s/BBjByaodjKE0XCppU8UMHafihG8RrBl9Jt3dUxNY7vVIQ5lLIyatyKUm4lfSyA0VaDxXIyUjnQAAAABJRU5ErkJggg==";const Me={name:"quickIndex",data(){return{referPrice:"--",paymentMethod:[],order_type:"Amount",enterTrade:!1,isBuy:!0,activeCurrency:"USDT",show:!1,showPopover:!1,currency:[{title:"USDT",label:this.$t("\u8BA1\u4EF7\u5E01\u79CD")},{title:"BTC",label:this.$t("\u6700\u77E5\u540D\u5E01\u79CD")},{title:"ETH",label:this.$t("\u4EE5\u592A\u574A")}],actions:[{text:this.$t("\u6536\u6B3E\u65B9\u5F0F"),icon:"setting-o",path:"/cryptos/paymentMethod"}],session_token:"",buyAmount:"",buyNum:"",sellAmount:"",sellNum:"",info:{},all_price:{},isPay:!1}},created(){b.getorder_open({currency:this.exchangeCurrency}).then(t=>{console.log(t),this.session_token=t.session_token,console.log(this.activeCurrency.toLowerCase()),this.all_price=t.all_price,this.referPrice=this.all_price[this.activeCurrency.toLowerCase()]}),b.ctcPaymentMethodList({language:this.$i18n.locale}).then(t=>{t.length?this.isPay=!0:this.isPay=!1})},methods:{handleImage(t){return new URL(t,import.meta.url).href},changeOrderType(t){this.buyAmount="",this.buyNum="",this.sellAmount="",this.sellNum="",this.order_type=t},getPriceList(t){b.c2cgetBestPrice({order_type:this.order_type=="Amount"?"by_amount":"by_num",amount:this.isBuy?this.buyAmount:this.sellAmount,coin_amount:this.isBuy?this.buyNum:this.sellNum,direction:this.isBuy?"buy":"sell",currency:this.exchangeCurrency,symbol:this.activeCurrency.toLowerCase(),language:this.$i18n.locale}).then(s=>{if(this.paymentMethod=s,this.paymentMethod.length==0){B(this.$t("\u65E0\u5339\u914D\u7684\u627F\u5151\u5546"));return}else this.enterTrade=!0,this.info={type:this.order_type,num:this[t+this.order_type]}})},changeTab(t){this.buyAmount="",this.buyNum="",this.sellAmount="",this.sellNum="",this.activeCurrency=t.title,this.referPrice=this.all_price[this.activeCurrency.toLowerCase()]},updataToken(){b.getSessionToken({currency:this.exchangeCurrency}).then(t=>{this.session_token=t.session_token})},showPopup(){this.show=!0},onSelect(t){if(t.text==this.$t("\u63A5\u5355\u6A21\u5F0F")){this.showJie=!0;return}this.$router.push({path:t.path})},handleClick(){const t=this.isBuy?"buy":"sell";if(this[t+this.order_type])this.isPay?this.getPriceList(t):(B(this.$t("\u8BF7\u6DFB\u52A0\u6536\u6B3E\u65B9\u5F0F")),setTimeout(()=>{this.$router.push("/cryptos/paymentMethod")},500));else{const s=this.order_type==="Amount"?this.$t("\u91D1\u989D"):this.$t("\u6570\u91CF");B(this.$t("\u8BF7\u8F93\u5165")+s)}}},computed:{...N("c2c",["exchangeCurrency","currencySymbol"]),fullType(){return this.isBuy?"buy":"sell"}},components:{[v.name]:v,[T.name]:T,[P.name]:P,[f.name]:f,EnterTrade:Ue}},je={id:"cryptos"},Ee={id:"wantBuy",class:"flex flex-col w-full h-full"},Ie={class:"w-full h-32 pl-10 pr-8 box-border flex text-white items-center"},Ve={class:"flex-1 text-right mr-24"},Fe={class:"text-36 font-bold mr-2 textColor"},Le={class:"w-60 text-28 c2cColor font-medium ml-8 block mt-5"},De={class:"flex justify-around c2cColor mt-10 pb-12"},Je={class:"text-24 mt-2 h-8 font-medium"},Re={class:"text-24 mt-2 font-medium"},Oe={class:"w-60 h-16 px-6 box-border box-radius text-black flex justify-around items-center",style:{background:"#c2e1ff"}},Xe={class:"mr-4 text-32 font-normal"},Qe={class:"px-8 pb-10 type"},Ye={class:"flex items-center text-36"},Ke={class:"flex mt-10 currency text-center"},Ge=["onClick"],He={class:"w-full flex-1 px-8 pt-9 box-border mainBackground"},We={class:"px-8 py-10 c2cTabBackground item"},qe={class:"mb-4 textColor1"},ze={class:"w-full relative box-border rounded-xl inputBackground1 input"},Ze={class:"text-32 absolute left-5 text font-bold c2cColor"},et=["placeholder"],tt={class:"flex justify-between mt-7 text-24"},st={class:"text-grey"},ot={class:"mr-2"},nt={class:"flex justify-between mb-4"},lt={class:"textColor1"},it={class:"w-full relative box-border rounded-xl inputBackground1 input"},rt=["placeholder"],ct={class:"text-28 absolute right-19 text",style:{color:"#1a6ebd"}},dt={class:"mr-5 c2cColor"},ut={class:"flex justify-between mt-7 text-24"},at={class:"text-grey"},mt={class:"mr-2"},ht={class:"mt-20"},pt={class:"px-8 py-10 c2cTabBackground item"},yt={class:"flex justify-between mb-4"},_t={class:"textColor1"},vt={class:"w-full relative box-border rounded-xl inputBackground1 input"},ft=["placeholder"],bt={class:"text-28 absolute right-19 text",style:{color:"#1a6ebd"}},xt={class:"mr-5 c2cColor"},gt={class:"flex justify-between mt- text-24"},Ct={class:"text-grey"},kt={class:"mr-11"},wt={class:"flex justify-between mb-18",style:{color:"#595c61"}},At={class:"textColor1"},Bt={class:"w-full relative box-border rounded-xl inputBackground1 input"},$t={class:"w-full relative box-border rounded-xl inputBackground1 input"},Tt={class:"text-32 absolute left-5 text font-bold c2cColor"},Pt=["placeholder"],Nt={class:"flex justify-between mt-7 text-24"},St={class:"text-grey"},Ut={class:"mr-11"},Mt={class:"mt-20"};function jt(t,s,u,I,n,i){const x=v,g=T,C=P,p=f,_=F("enter-trade");return r(),c("div",je,[e("div",Ee,[e("div",null,[e("div",Ie,[h(x,{class:"c2cColor",name:"arrow-left",onClick:s[0]||(s[0]=l=>t.$router.back())}),e("div",Ve,[e("span",{onClick:s[1]||(s[1]=(...l)=>i.showPopup&&i.showPopup(...l))},[e("span",Fe,o(t.$t("\u5FEB\u6377\u533A")),1),h(x,{name:"arrow-down",class:"c2cColor"})])]),h(g,{round:"",position:"top",show:n.show,"onUpdate:show":s[4]||(s[4]=l=>n.show=l),closeable:!0},{default:m(()=>[e("span",Le,o(t.$t("\u9009\u62E9\u4EA4\u6613\u533A")),1),e("div",De,[e("div",{class:"flex flex-col items-center",onClick:s[2]||(s[2]=l=>n.show=!1)},[s[22]||(s[22]=e("img",{class:"w-14 h-14",src:J,alt:""},null,-1)),e("span",Je,o(t.$t("\u5FEB\u6377\u533A")),1)]),e("div",{class:"flex flex-col items-center",onClick:s[3]||(s[3]=l=>t.$router.push({path:"/cryptos/wantBuy"}))},[s[23]||(s[23]=e("img",{class:"w-14 h-14",src:R,alt:""},null,-1)),e("span",Re,o(t.$t("\u81EA\u9009\u533A")),1)])])]),_:1},8,["show"]),e("div",Oe,[e("div",{class:"flex items-center",onClick:s[5]||(s[5]=l=>t.$router.push({path:"/cryptos/selectLegalCurrency"}))},[e("span",Xe,o(t.exchangeCurrency),1),s[24]||(s[24]=e("img",{class:"w-6 h-5",src:D,alt:""},null,-1))]),s[25]||(s[25]=e("span",{class:"mx-7 w-2 h-12"},"|",-1)),h(C,{"get-container":"#quick",modelValue:n.showPopover,"onUpdate:modelValue":s[7]||(s[7]=l=>n.showPopover=l),actions:n.actions,onSelect:i.onSelect,placement:"bottom-end",theme:"dark",offset:[20,20]},{reference:m(()=>[e("img",{onClick:s[6]||(s[6]=l=>n.showPopover=!n.showPopover),class:"relative w-6 h-2 list-img",src:O,alt:""})]),_:1},8,["modelValue","actions","onSelect"])])]),e("div",Qe,[e("div",Ye,[e("div",{class:A({active:n.isBuy}),onClick:s[8]||(s[8]=l=>n.isBuy=!0)},o(t.$t("\u6211\u8981\u4E70")),3),s[26]||(s[26]=e("div",{class:"w-8 h-1 mx-5",style:{transform:"rotate(90deg)",background:"#eaebee"}},null,-1)),e("div",{class:A({active:!n.isBuy}),onClick:s[9]||(s[9]=l=>n.isBuy=!1)},o(t.$t("\u6211\u8981\u5356")),3)]),e("div",Ke,[(r(!0),c(U,null,M(n.currency,(l,V)=>(r(),c("div",{key:V,class:A({active:n.activeCurrency===l.title}),onClick:Et=>i.changeTab(l)},[e("p",null,o(l.title),1),e("p",null,o(l.label),1)],10,Ge))),128))])])]),e("div",He,[a(e("div",We,[a(e("div",null,[e("div",qe,o(t.$t("\u8D2D\u4E70\u91D1\u989D")),1),e("div",ze,[e("span",Ze,o(t.currencySymbol),1),a(e("input",{class:"w-full text-36 h-28 rounded-xl border-none box-border pl-32 inputBackground1 c2cColor",type:"number",placeholder:t.$t("\u6700\u5C0F\u91D1\u989D")+100,"onUpdate:modelValue":s[10]||(s[10]=l=>n.buyAmount=l)},null,8,et),[[k,n.buyAmount]])]),e("div",tt,[e("div",st,o(t.$t("\u53C2\u8003\u5355\u4EF7"))+"\xA0"+o(t.currencySymbol)+o(n.referPrice),1),e("div",{class:"flex items-center text-blue",onClick:s[11]||(s[11]=l=>i.changeOrderType("Num"))},[e("span",ot,o(t.$t("\u6309\u6570\u91CF\u8D2D\u4E70")),1),s[27]||(s[27]=e("img",{class:"w-6 h-6",src:w,alt:""},null,-1))])])],512),[[y,n.order_type==="Amount"]]),a(e("div",null,[e("div",nt,[e("span",lt,o(t.$t("\u8D2D\u4E70\u6570\u91CF")),1)]),e("div",it,[a(e("input",{class:"w-full text-36 h-28 rounded-xl border-none box-border pl-10 inputBackground1 c2cColor",type:"number",placeholder:t.$t("\u8BF7\u8F93\u5165\u6570\u91CF"),"onUpdate:modelValue":s[12]||(s[12]=l=>n.buyNum=l)},null,8,rt),[[k,n.buyNum]]),e("span",ct,[e("span",dt,o(n.activeCurrency),1)])]),e("div",ut,[e("div",at,o(t.$t("\u53C2\u8003\u5355\u4EF7"))+"\xA0"+o(t.currencySymbol)+o(n.referPrice),1),e("div",{class:"flex items-center text-blue",onClick:s[13]||(s[13]=l=>i.changeOrderType("Amount"))},[e("span",mt,o(t.$t("\u6309\u91D1\u989D\u8D2D\u4E70")),1),s[28]||(s[28]=e("img",{class:"w-6 h-6",src:w,alt:""},null,-1))])])],512),[[y,n.order_type==="Num"]]),e("div",ht,[h(p,{class:"w-full h-20 text-32 rounded-xl",type:"primary",color:"#2EBD85",onClick:i.handleClick},{default:m(()=>[d(o(t.$t("0\u624B\u7EED\u8D39\u8D2D\u4E70")),1)]),_:1},8,["onClick"])])],512),[[y,n.isBuy]]),a(e("div",pt,[a(e("div",null,[e("div",yt,[e("span",_t,o(t.$t("\u51FA\u552E\u6570\u91CF")),1),e("span",{class:"text-24 text-blue",style:{"text-decoration":"underline"},onClick:s[14]||(s[14]=l=>n.isBuy=!n.isBuy)},o(t.$t("\u5212\u8F6C")),1)]),e("div",vt,[a(e("input",{class:"w-full text-36 h-28 rounded-xl border-none box-border pl-10 inputBackground1 c2cColor",type:"number",placeholder:t.$t("\u8BF7\u8F93\u5165\u6570\u91CF"),"onUpdate:modelValue":s[15]||(s[15]=l=>n.sellNum=l)},null,8,ft),[[k,n.sellNum]]),e("span",bt,[e("span",xt,o(n.activeCurrency),1)])]),e("div",gt,[e("div",Ct,o(t.$t("\u53C2\u8003\u5355\u4EF7"))+"\xA0"+o(t.currencySymbol)+o(n.referPrice),1),e("div",{class:"flex items-center text-blue",onClick:s[16]||(s[16]=l=>n.order_type="Amount")},[e("span",kt,o(t.$t("\u6309\u91D1\u989D\u51FA\u552E")),1),s[29]||(s[29]=e("img",{class:"w-24 h-24",src:w,alt:""},null,-1))])])],512),[[y,n.order_type==="Num"]]),a(e("div",null,[e("div",wt,[e("span",At,o(t.$t("\u51FA\u552E\u91D1\u989D")),1),e("span",{class:"text-24 text-blue",style:{"text-decoration":"underline"},onClick:s[17]||(s[17]=l=>t.$router.push("/cryptos/exchangePage"))},o(t.$t("\u5212\u8F6C")),1)]),e("div",Bt,[e("div",$t,[e("span",Tt,o(t.currencySymbol),1),a(e("input",{class:"w-full text-36 h-28 rounded-xl border-none box-border pl-32 inputBackground1 c2cColor",type:"number",placeholder:t.$t("\u6700\u5C0F\u91D1\u989D")+100,"onUpdate:modelValue":s[18]||(s[18]=l=>n.sellAmount=l)},null,8,Pt),[[k,n.sellAmount]])])]),e("div",Nt,[e("div",St,o(t.$t("\u53C2\u8003\u5355\u4EF7"))+"\xA0"+o(t.currencySymbol)+o(n.referPrice),1),e("div",{class:"flex items-center text-blue",onClick:s[19]||(s[19]=l=>n.order_type="Num")},[e("span",Ut,o(t.$t("\u6309\u6570\u91CF\u51FA\u552E")),1),s[30]||(s[30]=e("img",{class:"w-6 h-6",src:w,alt:""},null,-1))])])],512),[[y,n.order_type==="Amount"]]),e("div",Mt,[h(p,{class:"w-full h-20 text-32 rounded-xl",type:"primary",color:"#E35461",onClick:i.handleClick},{default:m(()=>[d(o(t.$t("0\u624B\u7EED\u8D39\u51FA\u552E")),1)]),_:1},8,["onClick"])])],512),[[y,!n.isBuy]])]),h(g,{show:n.enterTrade,"onUpdate:show":s[21]||(s[21]=l=>n.enterTrade=l),position:"bottom"},{default:m(()=>[n.paymentMethod.length?(r(),$(_,{key:0,type:i.fullType,"payment-method":n.paymentMethod,info:n.info,"session-token":n.session_token,symbol:n.activeCurrency,exchangeCurrency:t.exchangeCurrency,onUpdataToken:i.updataToken,onClose:s[20]||(s[20]=l=>n.enterTrade=!1)},null,8,["type","payment-method","info","session-token","symbol","exchangeCurrency","onUpdataToken"])):j("",!0)]),_:1},8,["show"])])])}const Xt=S(Me,[["render",jt],["__scopeId","data-v-15ab9bc9"]]);export{Xt as default};
