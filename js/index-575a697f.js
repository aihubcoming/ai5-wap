import{_ as N,v as q,u as G,ak as M,r as s,l as D,dc as O,o as k,c as U,g as r,w as $,e as l,t as d,d as z,bP as H,h as C,dd as J}from"./index-8f557042.js";/* empty css              */import{U as K,_ as Q}from"./index-e5c76592.js";/* empty css               */import{E as w}from"./index-78c9b072.js";import{E as W}from"./index-9ffb6e0e.js";import{B as X}from"./index-f30e4bd7.js";import"./index-1b600eb6.js";import"./index-cae364d9.js";import"./index-3e1fbb16.js";import"./index-66f0a028.js";import"./index-e320f5ce.js";const Y={class:"resetVerify"},Z={class:"content"},ee={class:"textColor"},te={class:"flex mt-4 mb-8 justify-between"},se={class:"flex-1 flex flex-col text-center justify-center items-center"},ae={class:"upload-wrap"},le={class:"mt-4 text-24 h-5 text-grey"},oe={class:"flex-1 flex flex-col text-center justify-center items-center"},ne={class:"upload-wrap"},re={class:"mt-4 text-24 h-5 text-grey"},de={class:"flex-1 flex flex-col text-center justify-center items-center"},ue={class:"upload-wrap"},ie={class:"mt-4 text-24 h-5 text-grey"},pe={key:0},ce={__name:"index",setup(ve){const{t:o}=q.exports.useI18n(),T=G(),F=M(),u=s(""),v=s(""),m=s(""),_=s(""),n=s(0),P=s([{name:o("resetFundsPassword"),type:0},{name:o("resetPhone"),type:1},{name:o("resetEmail"),type:2},{name:o("resetGoogleVerify"),type:3}]),i=s([]),p=s([]),c=s([]),V=s(""),f=s(""),R=s(""),h=s("frontFile"),S=s("");s(!1),s(!1),s(!1),D(()=>{n.value=F.query.type,b(n.value),L()});const b=e=>{e==1?u.value=o("artificialResetPhone"):e==2?u.value=o("artificialResetEmail"):e==3?u.value=o("artificialResetGoogleVerify"):u.value=o("artificialResetFundsPassword")},E=e=>{n.value=e,console.log(n.value),b(n.value)},x=e=>{console.log(e),e.status="uploading",e.message=o("uploading"),Q(e).then(t=>{e.status="success",e.message=o("uploadSuccess"),e.resURL=t,h.value=="frontFile"?i.value=[e]:h.value=="reverseFile"?p.value=[e]:c.value=[e]}).catch(t=>{e.status="failed",e.message=o("uploadFailed")})},y=e=>{console.log(e),h.value=e},L=()=>{O({}).then(e=>{e.length!=0&&(S.value=e[0].status,V.value=e[0].idcard_path_front_path,f.value=e[0].idcard_path_back_path,R.value=e[0].idcard_path_hold_path)})},j=()=>{let e;n.value==0?e=0:n.value==1?e=2:n.value==2?e=3:n.value==3&&(e=1),J({idcard_path_front:i.value.length&&i.value[0].resURL||V.value||"",idcard_path_back:p.value.length&&p.value[0].resURL||f.value||"",idcard_path_hold:c.value.length&&c.value[0].resURL||f.value||"",operate:e,safeword:m.value,safeword_confirm:_.value,remark:v.value}).then(t=>{T.push({name:"resetSuccess",query:{type:n.value}})})},B=()=>{j()};return(e,t)=>{const I=H,g=K,A=X;return k(),U("div",Y,[r(I,null,{title:$(()=>[C(d(u.value),1)]),_:1}),l("div",Z,[l("div",null,[l("div",ee,d(e.$t("uploadCredentPassport")),1),l("div",te,[l("div",se,[l("div",ae,[r(g,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),"max-count":1,"after-read":x,onClickUpload:t[1]||(t[1]=a=>y("frontFile"))},null,8,["modelValue"])]),l("div",le,d(e.$t("credentFront")),1)]),l("div",oe,[l("div",ne,[r(g,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=a=>p.value=a),"max-count":1,"after-read":x,onClickUpload:t[3]||(t[3]=a=>y("reverseFile"))},null,8,["modelValue"])]),l("div",re,d(e.$t("credentObverse")),1)]),l("div",de,[l("div",ue,[r(g,{modelValue:c.value,"onUpdate:modelValue":t[4]||(t[4]=a=>c.value=a),"max-count":1,"after-read":x,onClickUpload:t[5]||(t[5]=a=>y("fileList"))},null,8,["modelValue"])]),l("div",ie,d(e.$t("handCredent")),1)])])]),r(W,{class:"mb-5",list:P.value,onCheckedSelect:E},null,8,["list"]),n.value==0?(k(),U("div",pe,[r(w,{label:e.$t("fundsPassword"),placeholderText:e.$t("fundsPasswordContTips"),modelValue:m.value,"onUpdate:modelValue":t[6]||(t[6]=a=>m.value=a),tips:e.$t("funsPasswordTips"),typeText:"password"},null,8,["label","placeholderText","modelValue","tips"]),r(w,{label:e.$t("confirmFundsPassword"),placeholderText:e.$t("fundsPasswordContTips"),modelValue:_.value,"onUpdate:modelValue":t[7]||(t[7]=a=>_.value=a),tips:e.$t("funsPasswordTips"),typeText:"password"},null,8,["label","placeholderText","modelValue","tips"])])):z("",!0),r(w,{max:250,label:e.$t("message"),placeholderText:e.$t("entryMessage"),modelValue:v.value,"onUpdate:modelValue":t[8]||(t[8]=a=>v.value=a)},null,8,["label","placeholderText","modelValue"]),r(A,{class:"w-full",style:{"margin-top":"10px"},onClick:B,type:"primary"},{default:$(()=>[C(d(e.$t("submit")),1)]),_:1})])])}}},$e=N(ce,[["__scopeId","data-v-4a332545"]]);export{$e as default};
