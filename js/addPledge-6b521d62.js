import{_ as a}from"./index-a85a0347.js";import{a as p,e as u}from"./pledgeLoan-b6d2ab56.js";import{_ as g}from"./fund.api-4ed03bc8.js";import{_ as h,av as m,cH as _,s as l,o as f,c as x,e as t,g as v,t as n,aW as y,aX as b,h as C}from"./index-16c70849.js";import{_ as L}from"./exchangeIcon-aac90d39.js";import"./index-19da7eed.js";const A="/png/addpledgeBg-57a8b397.png";const O={props:{},components:{assetsHead:a},data(){return{HOST_URL:m,walletList:[],id:"",pledgeAmount:"",pledgeRate:"",pledgeCurrency:"",volume:""}},mounted(){this.id=this.$route.query.id,this.pledgeCurrency=this.$route.query.pledgeCurrency,this.getList()},methods:{changeMount(){this.pledgeAmount>=this.volume&&(this.pledgeAmount=this.volume),this.debounceFn()},debounceFn:_(function(){this.getLoanParamFn()},500),getLoanParamFn(){if(this.pledgeAmount=="")return l(this.$t("\u8BF7\u8F93\u5165\u8D28\u62BC\u6570\u91CF")),!1;p({loanOrderId:this.id,pledgeAmount:this.pledgeAmount}).then(e=>{this.pledgeRate=e.pledgeRate}).catch(e=>{e.code==="ECONNABORTED"?l(this.$t("\u7F51\u7EDC\u8D85\u65F6\uFF01")):e.msg!==void 0&&l(this.$t(e.msg))})},getList(){g().then(e=>{console.log(e),this.walletList=e.extends;let s=this.walletList.find(r=>r.symbol.toLowerCase()==this.pledgeCurrency.toLowerCase());console.log(s),this.volume=s.usable})},getReplenishOrder(){if(this.pledgeAmount=="")return l(this.$t("\u8BF7\u8F93\u5165\u8D28\u62BC\u6570\u91CF")),!1;u({loanOrderId:this.id,pledgeAmount:this.pledgeAmount}).then(e=>{l(this.$t("\u8D28\u62BC\u6210\u529F")),this.$router.push("/cryptos/pledgeLoanOrder")}).catch(e=>{e.code==="ECONNABORTED"?l(this.$t("\u7F51\u7EDC\u8D85\u65F6\uFF01")):e.msg!==void 0&&l(this.$t(e.msg))})}}},w={id:"cryptos"},B={class:"addPledge"},R={class:"contentBox"},$={class:"px-8"},k={class:"content box-shad tabBackground"},N={class:"mb-9"},P={class:"text-32 textColor"},T={class:"flex mt-5 h-24 items-center inputBox inputBackground1 textColor relative"},E=["placeholder"],F={class:"right w-64 h-16 flex items-center pl-6 box-border"},U=["src"],D={class:"ml-3 mr-8 w-24 text-24"},H={class:"flex items-center text-24 mt-4 text-grey"},I={class:"mr-3"},M={class:"flex justify-between text-32 mt-12"},V={class:"text-grey"},j={class:"textColor"};function S(e,s,r,q,o,d){const c=a;return f(),x("div",w,[t("div",B,[v(c,{title:e.$t("\u65B0\u589E\u8D28\u62BC")},null,8,["title"]),t("div",R,[s[4]||(s[4]=t("div",{class:"imgBox"},[t("img",{src:A,alt:""})],-1)),t("div",$,[t("div",k,[t("div",N,[t("div",P,n(e.$t("\u8D28\u62BC")),1),t("div",T,[y(t("input",{class:"h-full pl-5 inputBackground1 text-24",type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>o.pledgeAmount=i),placeholder:e.$t("\u8BF7\u8F93\u5165\u8D28\u62BC\u6570\u91CF"),onInput:s[1]||(s[1]=(...i)=>d.changeMount&&d.changeMount(...i))},null,40,E),[[b,o.pledgeAmount]]),t("div",F,[t("img",{src:`${o.HOST_URL}/symbol/${o.pledgeCurrency.toLowerCase()}.png`,class:"w-12 h-12",alt:""},null,8,U),t("span",D,n(o.pledgeCurrency.toUpperCase()),1)])]),t("div",H,[C(n(e.$t("\u53EF\u7528\u4F59\u989D"))+"\uFF1A",1),t("span",I,n(o.volume||"--")+"\xA0"+n(o.pledgeCurrency.toUpperCase()),1),s[3]||(s[3]=t("img",{click:"$router.push('/cryptos/exchangePage')",src:L,class:"w-7 h-7",alt:""},null,-1))]),t("div",M,[t("div",V,n(e.$t("\u8D28\u62BC\u540E\u8D28\u62BC\u7387")),1),t("div",j,n(o.pledgeRate!==""?(o.pledgeRate*1e4/100).toFixed(2):"--")+"% ",1)]),t("div",{class:"h-24 pledgeLoan_background rounded-lg text-center text-black text-34 mt-24 flex items-center justify-center",onClick:s[2]||(s[2]=(...i)=>d.getReplenishOrder&&d.getReplenishOrder(...i))},n(e.$t("\u786E\u8BA4\u8D28\u62BC")),1)])])])])])])}const Q=h(O,[["render",S],["__scopeId","data-v-1b794ca0"]]);export{Q as default};
