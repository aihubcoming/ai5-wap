import{_ as ss,aj as ts,r as n,v as as,u as ls,ak as os,al as ns,l as is,au as cs,a8 as we,a_ as us,at as ds,ax as rs,I as vs,S as _s,o as c,c as d,e,g as j,f as v,t,h as O,d as b,F as T,m as w,b as N,bx as ps,w as ms,by as k,n as C,aZ as M,bz as Ie,U as hs,ay as fs}from"./index-8f557042.js";import{_ as ys,a as bs}from"./black-convert-e248d682.js";import{_ as ks,a as gs}from"./search-e4a3a12e.js";import{_ as xs,a as $s}from"./icon-star-8ef24b6e.js";import{_ as Cs}from"./no-data-dcbdad72.js";import{_ as Ss}from"./exchange-3264478b.js";import{f as qs}from"./index-5b989f00.js";/* empty css                                                                     */import{a as Ts,b as ws,c as Is}from"./etf.api-aa9d1a3d.js";import{T as Vs}from"./index-820ca9eb.js";import{F as Bs}from"./F10Details-106f1f86.js";import{_ as Ls}from"./index-a0ac39a2.js";import{_ as Ds}from"./index-46d4072a.js";import"./index-1294de1e.js";import"./trade.api-de47551a.js";/* empty css                                                              *//* empty css              */import"./index-5da15475.js";import"./index-e320f5ce.js";import"./index-f30e4bd7.js";import"./installCanvasRenderer-26dffa88.js";import"./install-fac60ee3.js";const Rs={class:"pb-40"},js={class:"container-box"},Ns={class:"header"},As={class:"flex-l"},Fs={class:"name-box"},Us=["src"],Ws={class:"title"},Ps={class:"type"},Os={class:"icon-group"},Ms=["src"],zs={class:"icon setting"},Gs={class:"value-container"},Es={class:"flex-l"},Hs={class:"first-line red"},Qs={class:"second-line"},Js={class:"red m-4"},Ks={class:"red"},Ys={class:"flex-r"},Zs={class:"flex-r-item"},Xs={class:"label"},et={class:"value"},st={class:"label"},tt={class:"value"},at={class:"label"},lt={class:"value"},ot={class:"flex-r-item"},nt={class:"flex"},it={class:"label"},ct={class:"value"},ut={class:"flex"},dt={class:"label"},rt={class:"value"},vt={class:"flex"},_t={class:"label"},pt={class:"value"},mt={class:"flex-r-item"},ht={class:"flex"},ft={class:"label"},yt={class:"value"},bt={class:"flex"},kt={class:"label"},gt={class:"value"},xt={class:"flex"},$t={class:"label"},Ct={class:"value"},St={key:0,class:"status-info"},qt={class:"time"},Tt={class:"indicator-index-container"},wt={class:"indicator-index-box"},It={class:"flex-l"},Vt=["onClick"],Bt={key:0,class:"indicator-index-box-second"},Lt=["onClick"],Dt={class:"kline-container flex"},Rt={class:"chart-index"},jt={key:0,class:"order-book-container"},Nt={class:"all-etf-ranking"},At={class:"tabs flex"},Ft=["onClick"],Ut={key:0,class:"etf-table"},Wt={key:0,class:"flex flex-col justify-center pt-100 pb-20 items-center no-data-box"},Pt={class:"text-grey mt-2"},Ot={key:1},Mt={class:"title-line"},zt={class:"flex-l"},Gt={class:"flex-r"},Et={class:"flex-r-item"},Ht={class:"flex-r-item"},Qt={class:"flex-r-item"},Jt=["onClick"],Kt={class:"flex-l"},Yt={class:"gray-text"},Zt={class:"flex-r"},Xt={class:"flex-r-item"},ea={class:"text-down"},sa={class:"flex-r-item"},ta={class:"flex-r-item"},aa={key:2,class:"new-trade"},la={class:"px-12 text-grey"},oa={class:"flex justify-between mt-30"},na={class:"flex-1"},ia={class:"flex-1"},ca={class:"flex-1"},ua={class:"flex-1 flex justify-center"},da={class:"flex-1"},ra={class:"flex-1 flex justify-center"},va={key:3,class:"deep-map"},_a={class:"buy-sell-box"},pa={class:"buy-item"},ma={class:"sell-item"},ha={class:"deep-chart-box"},fa={class:"footer-btn-group"},ya={class:"flex btn-group"},ba={class:"rate"},ka={class:"flex-r flex-1 flex"},ga={class:"flex pl-10 pr-10 justify-between mb-10 mt-10 popup-wrap"},xa={class:"flex items-center text-grey"},$a={class:"mr-12 popup-title"},Ca={class:"flex text-grey"},Sa={class:"flex items-center"},qa={class:"popup-title"},Ta={class:"flex items-center"},wa={class:"mr-12 popup-title"},Ia={class:"pl-10 pr-10"},Va=["onClick"],Ba={class:"font-bold textColor popup-title"},La={key:0,class:"text-grey mt-4 popup-title"},Da={class:"text-right"},Ra={class:"textColor popup-title"},ja={__name:"Detail",setup(Na){const z=ts(),L=[];for(let s=0;s<17;s++)L.push({id:s});const Ve=n(!1),{t:i}=as.exports.useI18n(),y=ls(),p=os(),I=ns(),m=n(p.query.type||"indices"),u=n(""),Be=n(""),G=n(""),o=n({close:"",netChange:"",change_ratio:"",high:"",low:"",open:"",marketCapital:"",volume:"",turnoverRate:"",changeRatio:""}),Le=n([]);n(0);const D=n(0),V=n(""),h=n(0),E=n([]),H=n(!1),De=n(""),A=n(!1),Q=n({}),J=n(null),F=n(!1),U=n([{title:i("Constituents"),value:0},{title:i("ProfileF10"),value:1},{title:i("\u6700\u65B0\u4EA4\u6613"),value:2},{title:i("\u6DF1\u5EA6\u56FE"),value:3}]);m.value=="TW-stocks"&&(U.value=[{title:i("ProfileF10"),value:1}],h.value=1),m.value=="A-stocks"&&(U.value=[{title:i("ProfileF10"),value:1},{title:i("\u6700\u65B0\u4EA4\u6613"),value:2},{title:i("\u6DF1\u5EA6\u56FE"),value:3}],h.value=1);const Re=n([{name:i("\u5206\u65F6"),paramsValue:"timeSharing",seconds:1*60*1e3,index:0},{name:"1"+i("\u5929"),paramsValue:"1day",seconds:1*24*60*60*1e3,index:1},{name:"1"+i("\u5468"),paramsValue:"1week",seconds:7*24*60*60*1e3,index:2},{name:"1"+i("\u6708"),paramsValue:"1mon",seconds:30*24*60*60*1e3,index:3},{name:"5"+i("\u5929"),paramsValue:"5day",seconds:5*24*60*60*1e3,index:4},{name:i("season"),paramsValue:"1quarter",seconds:3*30*24*60*60*1e3,index:5},{name:i("Year"),paramsValue:"1year",seconds:12*30*24*60*60*1e3,index:6}]),je=n([{name:"120"+i("\u5206"),paramsValue:"120min",seconds:2*60*60*1e3,index:7},{name:"60"+i("\u5206"),paramsValue:"60min",seconds:1*60*60*1e3,index:8},{name:"30"+i("\u5206"),paramsValue:"30min",seconds:30*60*1e3,index:9},{name:"15"+i("\u5206"),paramsValue:"15min",seconds:15*60*1e3,index:10},{name:"5"+i("\u5206"),paramsValue:"5min",seconds:5*60*1e3,index:11},{name:"1"+i("\u5206"),paramsValue:"1min",seconds:1*60*1e3,index:12}]),S=n(!1),K=n([]),Y=n([]),g=n(null),Z=n(L),X=n({}),Ne=n(""),r=n({quote:null,deals:null,askBid:null}),ee=n([]),se=n([]),Ae=n(L),Fe=n(L),te=n([]),ae=n({}),Ue=new URL(Object.assign({"../../assets/theme/dark/image/black-convert.png":ys,"../../assets/theme/white/image/black-convert.png":bs})[`../../assets/theme/${z.theme}/image/black-convert.png`],self.location),We=new URL(Object.assign({"../../assets/theme/dark/image/search.png":ks,"../../assets/theme/white/image/search.png":gs})[`../../assets/theme/${z.theme}/image/search.png`],self.location);is(async()=>{p.query.symbol?u.value=p.query.symbol:u.value=I.coins.length?I.coins[0].symbol:"GlobalETF500",I.stage==="timeSharing"?V.value="area":V.value="candle_solid",ce(),ne(u.value),ue(u.value),de(u.value),P(),W({paramsValue:"timeSharing",seconds:1*24*60*60*1e3,index:0})}),cs(()=>{g.value&&clearTimeout(g.value)}),we(S,(s,a)=>{s||g.value&&clearTimeout(g.value)}),we([h,u],([s,a])=>{s/1===0||s/1===1?(r.value.deals&&r.value.deals.close(),r.value.deals=null,a&&(u.value=a,m.value!=="TW-stocks"&&le())):(r.value.askBid&&r.value.askBid.close(),r.value.askBid=null,oe())},{immediate:!0});const le=()=>{r.value.askBid=new WebSocket(`${M}/3/${u.value}`),r.value.askBid.onmessage=s=>{const{data:a}=s,{code:f,data:_}=JSON.parse(a);f/1===0&&(ee.value=_.bids,se.value=_.asks,_.asks=_.asks.sort((x,q)=>x.price-q.price),_.bids=_.bids.sort((x,q)=>x.price-q.price),Ae.value=_.asks.slice(0,17),Fe.value=_.bids.reverse().slice(0,17))}},oe=()=>{r.value.deals=new WebSocket(`${M}/2/${u.value}`),r.value.deals.onmessage=s=>{const{data:a}=s,{code:f,data:_}=JSON.parse(a);f/1===0&&(Z.value=_.data.slice(0,17))}},Pe=()=>{r.value.quote&&r.value.quote.close(),r.value.deals&&r.value.deals.close(),r.value.askBid&&r.value.askBid.close(),r.value.quote=null,r.value.deals=null,r.value.askBid=null},Oe=s=>{u.value=s.symbol,S.value=!1,y.push(`/quotes/detail?symbol=${s.symbol}&type=${m.value}&symbolType=${m.value}`),ce(),ue(u.value),de(u.value),P(),ne(u.value),Me()},Me=()=>{Pe(),Ie(u.value).then(s=>{X.value=s[0],Ne.value=s[0].symbol_data,hs(()=>{!r.value.quote&&u.value&&ze(),(h.value===2||h.value===3)&&!r.value.askBid&&u.value&&m.value!=="TW-stocks"&&le()}),oe()})},ze=()=>{r.value.quote=new WebSocket(`${M}/1/${u.value}`),r.value.quote.onmessage=s=>{const{data:a}=s,{code:f,data:_}=JSON.parse(a);f/1===0&&(X.value=_[0])}},ne=s=>{Ts(s).then(a=>{if(a&&a.length>0){const f=a.sort((_,x)=>x.timestamp-_.timestamp);te.value=f.slice(0,16)||[]}else te.value=[]})},Ge=()=>{fs({type:m.value}).then(s=>{Y.value=s.map(a=>a.symbol),ie()})},Ee=()=>{!m.value||(S.value=!0,Ge())},ie=()=>{Ie(Y.value.join(",")).then(s=>{K.value=s,g.value&&(clearTimeout(g.value),g.value=null),g.value=setTimeout(()=>{ie()},2e3)})},He=()=>{p.query.from==="trade"?y.push("/trade/index?tabActive=0&navActive=3"):p.query.from==="hot"?p.query.category?y.push(`/quotes/hotModules?typName=${p.query.typName}&category=${p.query.category}&tabIndex=${p.query.tabIndex}&symbolType=${p.query.symbolType}`):y.push(`/quotes/hotModules?typName=${p.query.typName}&tabIndex=${p.query.tabIndex}&symbolType=${p.query.symbolType}`):p.query.isOptional==1?y.push("/optional/index"):p.query.tabIndex?y.push(`/quotes/index?tabActive=${p.query.tabIndex}&symbolType=${p.query.symbolType}`):B("/quotes/index")},B=(s,a)=>{s==="/quotes/openTrade"?y.push({path:s,query:{tabActive:a,symbol:u.value,type:m.value}}):s==="/optional/search"?(console.log(m),y.push({path:s,query:{tabActive:0,symbolType:m.value}})):y.push({path:s,query:{tabActive:0}})},Qe=s=>{y.push(`/quotes/constituentDetail?symbol=${s.relatedStockSymbol}`)},W=s=>{const{paramsValue:a,seconds:f,index:_}=s;D.value=_,I[us]({stage:a,seconds:f}),Je(a)},Je=s=>{G.value=s,s=="timeSharing"?V.value="area":V.value="candle_solid"},Ke=s=>{o.value=s,m.value=s==null?void 0:s.type,ae.value=s},ce=()=>{ds(I.coins).then(s=>{s.map(a=>{a.name=a.symbol}),Le.value=s})},Ye=s=>{console.log(s,"valsssss"),Ve.value=s},ue=s=>{ws(s).then(a=>{Q.value=a,Be.value=a.symbolName})},de=s=>{Is(s).then(a=>{E.value=a,H.value=a.length===0})},Ze=s=>{m.value!=="TW-stocks"&&(h.value=s)},Xe=()=>{A.value=!A.value},re=()=>{J.value.openCurrency(u.value)},P=()=>{let s={symbol:u.value};rs(s).then(a=>{F.value=a})},es=()=>{S.value=!1},ve=s=>new URL(s,import.meta.url).href;return(s,a)=>{var x,q,_e,pe,me,he,fe,ye,be,ke,ge,xe,$e,Ce,Se,qe,Te;const f=vs,_=_s;return c(),d("section",Rs,[e("div",js,[e("header",Ns,[e("div",As,[e("div",{class:"icon back",onClick:He},[j(f,{name:"arrow-left",size:"20"})]),e("div",Fs,[e("img",{src:ve(v(Ue)),alt:"convert-img",class:"convert-img",onClick:Ee},null,8,Us),e("p",Ws,t(o.value.name?o.value.name:"")+"\xA0\xA0",1),e("p",Ps,t(u.value),1)])]),e("div",Os,[e("div",{class:"icon search",onClick:a[0]||(a[0]=l=>B("/optional/search"))},[e("img",{src:ve(v(We)),alt:""},null,8,Ms)]),e("div",zs,[F.value?(c(),d("img",{key:0,src:xs,class:"collected-img",onClick:re})):(c(),d("img",{key:1,src:$s,class:"collected-img",onClick:re}))])])]),e("section",Gs,[e("div",Es,[e("p",Hs,t(o.value.close?v(k)((x=o.value)==null?void 0:x.close):"--"),1),e("p",Qs,[e("span",Js,t(o.value.netChange?o.value.netChange:"--"),1),e("span",Ks,t((q=o.value)!=null&&q.change_ratio?`${(_e=o.value)==null?void 0:_e.change_ratio}%`:"-"),1)])]),e("div",Ys,[e("div",Zs,[e("p",null,[e("span",Xs,t(s.$t("high")),1),e("span",et,t(o.value.high?v(k)(o.value.high):"--"),1)]),e("p",null,[e("span",st,t(s.$t("Low")),1),e("span",tt,t(o.value.low?v(k)(o.value.low):o.value.low),1)]),e("p",null,[e("span",at,t(s.$t("open")),1),e("span",lt,t(o.value.open?v(k)(o.value.open):"--"),1)])]),e("div",ot,[e("p",nt,[e("span",it,t(s.$t("marketValue")),1),e("span",ct,t(o.value.marketCapital?v(k)(o.value.marketCapital):o.value.marketCapital),1)]),e("p",ut,[e("span",dt,t(s.$t("share")),1),e("span",rt,t(o.value.open?v(k)(o.value.open):"--"),1)]),e("p",vt,[e("span",_t,t(s.$t("amplitude")),1),e("span",pt,t(o.value.changeRatio?v(k)(o.value.changeRatio):"--"),1)])]),e("div",mt,[e("p",ht,[e("span",ft,t(s.$t("quantity")),1),e("span",yt,t(o.value.volume?v(k)(o.value.volume):"--"),1)]),e("p",bt,[e("span",kt,t(s.$t("Change")),1),e("span",gt,t((pe=o.value)!=null&&pe.turnoverRate?v(k)((me=o.value)==null?void 0:me.turnoverRate)+"%":"-"),1)]),e("p",xt,[e("span",$t,t(s.$t("Forehead")),1),e("span",Ct,t(o.value.volume?v(k)(o.value.volume):"--"),1)])])])]),(fe=(he=o.value)==null?void 0:he.market)!=null&&fe.status?(c(),d("p",St,[e("span",null,t(((be=(ye=o.value)==null?void 0:ye.market)==null?void 0:be.status)&&s.$t((ge=(ke=o.value)==null?void 0:ke.market)==null?void 0:ge.status))+",",1),e("span",qt,t(($e=(xe=o.value)==null?void 0:xe.market)==null?void 0:$e.time_str),1),a[5]||(a[5]=O("\xA0 ",-1)),e("span",null,t(((Se=(Ce=o.value)==null?void 0:Ce.market)==null?void 0:Se.time_zone)&&s.$t((Te=(qe=o.value)==null?void 0:qe.market)==null?void 0:Te.time_zone)),1)])):b("",!0),e("section",Tt,[e("div",wt,[e("div",It,[e("ul",null,[(c(!0),d(T,null,w(Re.value,(l,$)=>(c(),d("li",{key:l,onClick:R=>W(l),class:C([l.index===D.value?"active":""])},t(l.name),11,Vt))),128)),e("li",{onClick:Xe},t(v(i)("\u66F4\u591A")),1)])])]),A.value?(c(),d("div",Bt,[e("ul",null,[(c(!0),d(T,null,w(je.value,(l,$)=>(c(),d("li",{key:l,onClick:R=>W(l),class:C([l.index===D.value?"active":""])},t(l.name),11,Lt))),128))])])):b("",!0)]),e("section",Dt,[e("div",Rt,[u.value?(c(),N(qs,{height:400,symbol:u.value,isShowsolid:!0,chartType:V.value,onData:Ke,key:`${u.value}-${G.value}`,onLoading:Ye},null,8,["symbol","chartType"])):b("",!0)]),D.value===0?(c(),d("div",jt,[(c(),N(ps,null,[u.value?(c(),N(Vs,{key:0,symbol:u.value,price:De.value,class:"trade-deep-container"},null,8,["symbol","price"])):b("",!0)],1024))])):b("",!0)]),a[10]||(a[10]=e("div",{class:"divider"},null,-1)),e("div",Nt,[e("div",At,[(c(!0),d(T,null,w(U.value,l=>(c(),d("div",{class:C(["tab-item",[h.value===l.value?"active":""]]),onClick:$=>Ze(l.value),key:l},t(l.title),11,Ft))),128))]),h.value===0?(c(),d("div",Ut,[H.value?(c(),d("div",Wt,[a[6]||(a[6]=e("img",{src:Cs,alt:"",class:"no-data-img"},null,-1)),e("p",Pt,t(s.$t("\u6682\u65E0\u6570\u636E")),1)])):(c(),d("ul",Ot,[e("li",Mt,[e("div",zt,[e("p",null,t(v(i)("nameCode")),1)]),e("div",Gt,[e("div",Et,[e("p",null,t(v(i)("PositionRatio")),1)]),e("div",Ht,[e("p",null,t(v(i)("uptodate")),1)]),e("div",Qt,[e("p",null,t(v(i)("\u6DA8\u8DCC\u5E45")),1)])])]),(c(!0),d(T,null,w(E.value,l=>{var $,R;return c(),d("li",{key:l.relatedStockSymbolName,onClick:Aa=>Qe(l)},[e("div",Kt,[e("p",null,t(l.relatedStockSymbol),1),e("p",Yt,t(l.transactionPairsSymbol),1)]),e("div",Zt,[e("div",Xt,[e("p",ea,t(l.positionProportion?`${l.positionProportion}%`:"-"),1)]),e("div",sa,[e("p",{class:C(l.close<1?"text-up":"text-down")},t(($=l.realtime)==null?void 0:$.close),3)]),e("div",ta,[e("p",{class:C(l.close<1?"text-up":"text-down")},t((R=l.realtime)==null?void 0:R.change_ratio),3)])])],8,Jt)}),128))]))])):b("",!0),h.value===1?(c(),N(Bs,{key:1,details:Q.value,chartData:ae.value},null,8,["details","chartData"])):b("",!0),h.value===2?(c(),d("div",aa,[e("ul",la,[e("li",oa,[e("span",na,t(s.$t("\u65F6\u95F4")),1),e("span",ia,t(s.$t("\u65B9\u5411")),1),e("span",ca,t(s.$t("\u4EF7\u683C"))+"(USD)",1),e("span",ua,t(s.$t("\u6570\u91CF")),1)]),(c(!0),d(T,null,w(Z.value,(l,$)=>(c(),d("li",{key:l.ts+l.price+l.amount||$,class:"flex justify-between mt-30"},[e("span",da,t(l.current_time?l.current_time:"--"),1),e("span",{class:C([l.direction==="buy"?"text-green":"text-red","flex-1"])},t(l.direction==="buy"?s.$t("\u4E70\u5165"):s.$t("\u5356\u51FA")),3),e("span",{class:C([l.direction==="buy"?"text-green":"text-red","flex-1 flex-justify-center"])},t(l.price||"--"),3),e("span",ra,t(l.amount||"--"),1)]))),128))])])):b("",!0),h.value===3?(c(),d("div",va,[e("div",_a,[e("div",pa,[a[7]||(a[7]=e("div",{class:"bg-line"},null,-1)),O(" "+t(s.$t("\u4E70\u76D8")),1)]),e("div",ma,[a[8]||(a[8]=e("div",{class:"bg-line"},null,-1)),O(" "+t(s.$t("\u5356\u76D8")),1)])]),e("div",ha,[j(Ds,{deepBuy:ee.value,deepSell:se.value},null,8,["deepBuy","deepSell"])])])):b("",!0)]),e("div",fa,[e("div",ya,[e("div",{class:"flex-l",onClick:a[1]||(a[1]=l=>B("/cryptos/exchangeRate"))},[a[9]||(a[9]=e("img",{src:Ss,alt:""},null,-1)),e("p",ba,t(v(i)("\u6C47\u7387")),1)]),e("div",ka,[e("div",{class:"buy-btn",onClick:a[2]||(a[2]=l=>B("/quotes/openTrade",0))},t(v(i)("\u4E70\u5165")),1),e("div",{class:"sell-btn",onClick:a[3]||(a[3]=l=>B("/quotes/openTrade",1))},t(v(i)("\u5356\u51FA")),1)])])])]),j(Ls,{onUpdateItem:P,isCollect:F.value,ref_key:"addCurrencyRef",ref:J},null,8,["isCollect"]),j(_,{class:"popup",round:"",show:S.value,"onUpdate:show":a[4]||(a[4]=l=>S.value=l),"close-icon-position":"top-left",position:"left",onClosed:es},{default:ms(()=>[e("div",ga,[e("div",xa,[e("div",$a,t(s.$t("\u540D\u79F0")),1)]),e("div",Ca,[e("div",Sa,[e("div",qa,t(s.$t("\u6700\u65B0\u4EF7\u683C")),1)]),e("div",Ta,[e("div",wa,"/24H"+t(s.$t("\u6DA8\u8DCC")),1)])])]),e("div",Ia,[(c(!0),d(T,null,w(K.value,l=>(c(),d("div",{class:"flex justify-between mb-10",key:l.name,onClick:$=>Oe(l)},[e("div",null,[e("div",Ba,t(l.name||"--"),1),s.kineType?b("",!0):(c(),d("div",La,t(s.title),1))]),e("div",Da,[e("div",Ra,t(l.close),1),e("div",{class:C(["mt-1 popup-title",l.change_ratio>0?"text-green":"text-red"])},t(l.change_ratio)+"% ",3)])],8,Va))),128))])]),_:1},8,["show"])])}}},nl=ss(ja,[["__scopeId","data-v-fd7b64cc"]]);export{nl as default};
