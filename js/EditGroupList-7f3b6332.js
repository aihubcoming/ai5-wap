import{_ as S,af as I,v as U,u as D,r as n,a1 as E,l as L,a4 as N,aV as T,ap as j,I as B,o as h,c as f,e as t,f as i,g as _,t as r,w as g,aM as M,aN as O,d as v,h as A}from"./index-a1ce0b9b.js";import{C as F}from"./index-28c529e2.js";import"./index-f9a41980.js";import{_ as G}from"./edit-6549753a.js";import{_ as $,D as R}from"./vuedraggable.umd-4629b39f.js";import{_ as z}from"./del-75675fff.js";const J={class:"pb-fix"},q={class:"container-box"},H={class:"icon back"},K={class:"title"},P={class:"drag-container"},Q={class:"flex item"},W={class:"flex-l"},X={key:0,class:"flex-l-item"},Y={class:"flex-l-item"},Z={class:"name"},ee={class:"flex-r"},se={key:0,class:"flex-r-item data-box"},te=["onClick"],oe={class:"footer"},le={class:"btn-group"},ae={__name:"EditGroupList",setup(ce){I();const{t:l}=U.exports.useI18n(),p=D();n(2),n("ETF"),n(null),n([]);const k=n([]),u=n(!1);let a=E([{label:l("ETF"),id:1},{label:l("UsStocks"),id:2},{label:l("digitalCurrency"),id:3},{label:l("\u5916\u6C47"),id:4},{label:l("\u6E2F\u80A1"),id:5},{label:l("\u53F0\u80A1"),id:6}]);L(()=>{w()});const x=N(()=>a.filter(e=>e.check).length);T(()=>{k.value=[]});const b=s=>{console.log("\u62D6\u52A8\u524D\u7684\u7D22\u5F15 :"+s.moved.newIndex),console.log("\u62D6\u52A8\u540E\u7684\u7D22\u5F15 :"+s.moved.oldIndex),console.log(a,"list")},C=s=>{console.log(s.draggedContext.element.id)},V=()=>{u.value?a.map(s=>{s.checkShow&&(s.check=!0)}):a.map(s=>{s.checkShow&&(s.check=!1)})},w=()=>{j().then(s=>{s.list.map(e=>{e.check=!1,e.checkShow=!0,e.id=e.listId,e.label=e.listName,a.push(e)})})},y=()=>{let s=[];a.map(d=>{d.check&&s.push(d.id)});let e={ids:s.join(",")};M(e).then(d=>{O(l("successfullyDeleted"));for(let c=0;c<a.length;c++)for(let o=0;o<s.length;o++)a[c].id==s[o]&&a.splice(c,1)})};return(s,e)=>{const d=B,c=F;return h(),f("div",J,[t("div",q,[t("header",{class:"header flex",onClick:e[0]||(e[0]=o=>i(p).back())},[t("div",H,[_(d,{name:"arrow-left",size:"20"})]),t("p",K,r(i(l)("selected"))+r(x.value)+r(i(l)("itemText")),1)]),t("div",P,[_(i(R),{list:i(a),animation:200,"item-key":"id",class:"drag-box",forceFallback:!0,"ghost-class":"ghost",onChange:b,move:C,handle:".drag-icon"},{item:g(({element:o})=>[t("div",Q,[t("div",W,[o.checkShow?(h(),f("div",X,[_(c,{modelValue:o.check,"onUpdate:modelValue":m=>o.check=m,class:"radio"},null,8,["modelValue","onUpdate:modelValue"])])):v("",!0),t("div",Y,[t("p",Z,r(o.label),1)])]),t("div",ee,[o.checkShow?(h(),f("div",se,[t("div",{class:"data-item edit-icon",onClick:m=>i(p).push(`/optional/groupEdit?info=${JSON.stringify(o)}`)},[...e[2]||(e[2]=[t("img",{src:G,alt:""},null,-1)])],8,te)])):v("",!0),e[3]||(e[3]=t("div",{class:"flex-r-item data-box"},[t("div",{class:"data-item drag-icon"},[t("img",{src:$,alt:""})])],-1))])])]),_:1},8,["list"])]),t("footer",oe,[t("div",le,[_(c,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),onClick:V},{default:g(()=>[A(r(i(l)("selectAll")),1)]),_:1},8,["modelValue"])]),t("div",{class:"icon"},[t("img",{src:z,onClick:y,alt:""})])])])])}}},he=S(ae,[["__scopeId","data-v-3f9b7f5f"]]);export{he as default};
