import{_ as D,v as N,u as V,ak as j,r,l as F,bX as R,I as T,S as U,o as v,c as h,e as s,g as m,t as o,f as l,n as i,w,d as q,F as E,m as H}from"./index-14d2cc83.js";/* empty css               */import{_ as X}from"./no-data-7bcd7527.js";import{g as G}from"./trade.api-43084cdd.js";import{L as J}from"./index-48f6c504.js";import"./use-tab-status-43fea2a5.js";const K={class:"pb-20"},Q={class:"container-box"},W={class:"header"},Y={class:"flex-l flex"},Z={class:"header-title"},ss={class:"profit"},es={class:"symbol-list"},os=["onClick"],ts={class:"symbol-list-top"},as={class:"item-l flex-1"},ls={class:"symbol-name"},ns={class:"price-change"},rs={class:"price-l"},is={class:"item-r flex-1"},cs={class:"tile"},ds={class:"volume-box"},_s={class:"symbol-list-bottom"},us={class:"bottom-l flex-1"},ps={class:"order-info"},vs={class:"margin"},hs={class:"id"},fs={class:"date"},gs={class:"bottom-r"},bs={key:0,class:"no-data"},ms={class:"popup-container"},ys={class:"title"},xs={class:"symbol-list-item"},ks={class:"symbol-list-top"},Ls={class:"item-l flex-1"},ws={class:"symbol-name"},Is={class:"price-change"},Cs={class:"price-l"},$s={class:"item-r flex-1"},As={class:"tile"},Bs={class:"volume-box"},Ms={class:"card-info flex"},Os={class:"card-item flex-1"},Ss={class:"name"},zs={class:"num"},Ps={class:"card-item flex-1"},Ds={class:"name"},Ns={class:"num"},Vs={class:"symbol-list-bottom"},js={class:"bottom-l flex-1"},Fs={class:"order-info"},Rs={class:"margin"},Ts={class:"id"},Us={class:"date"},qs={class:"bottom-r"},Es={__name:"List",setup(Hs){const{t:a}=N.exports.useI18n(),y=V(),I=j(),C=r(!1),d=r([]),f=r(!1),x=r(!1),$=r(!1),g=r(1);let k=r("hisorders");const u=r(0),A=r(!1),b=r(!1),t=r({});F(async()=>{S()});const B=()=>{I.query.from==="trade"?y.push("/trade/index?tabActive=2&navActive=2"):y.back()},M=()=>{let c={type:k.value,page_no:g.value,page_size:"10",symbolType:"forex"};G(c).then(n=>{f.value=!1,$.value=!1,A.value||g.value++,d.value=d.value.concat(n),d.value.length===0&&g.value===1&&(C.value=!0),n.length===0&&(x.value=!0)})},O=c=>{t.value=c,b.value=!0},S=()=>{let c={type:k.value,page_no:1,page_size:"all"};R(c).then(n=>{var p;u.value=(p=n.profitAndLoss)!=null?p:"--"})};return(c,n)=>{const p=T,z=J,P=U;return v(),h("section",K,[s("div",Q,[s("header",W,[s("div",Y,[s("div",{class:"icon back",onClick:B},[m(p,{name:"arrow-left",size:"20"})]),s("span",Z,o(l(a)("historyOrders")),1)])]),s("div",ss,[s("p",null,o(l(a)("ProfitAndLoss")),1),s("p",{class:i({value:!0,green:u.value>0,red:u.value<=0})},o(u.value),3)]),m(z,{loading:f.value,"onUpdate:loading":n[0]||(n[0]=e=>f.value=e),finished:x.value,"loading-text":c.$t("loading"),"finished-text":c.$t("noMore"),onLoad:M,class:"exchange-list-box"},{default:w(()=>[s("div",es,[s("ul",null,[(v(!0),h(E,null,H(d.value,e=>{var _,L;return v(),h("li",{class:"symbol-list-item",key:e,onClick:Xs=>O(e)},[s("div",ts,[s("div",as,[s("p",ls,o(e.symbol),1),s("p",ns,[s("span",rs,o(e.trade_avg_price),1),n[2]||(n[2]=s("span",{class:"arrow"},"\u2192",-1)),s("span",{class:i({"price-r":!0,green:e.mark_price-e.close_avg_price>0,red:e.mark_price-e.close_avg_price<0})},o(e.close_avg_price),3)])]),s("div",is,[s("p",cs,o((e==null?void 0:e.order_price_type)==="opponent"?l(a)("\u5E02\u4EF7"):l(a)("\u9650\u4EF7")),1),s("div",ds,[s("div",{class:i({volume:!0,"green-border":e.direction==="buy","red-border":e.direction!=="buy"})},[s("span",{class:i({"volume-l":!0,"green-bg":e.direction==="buy","red-bg":e.direction!=="buy"})},o(e.direction=="buy"?l(a)("Buy"):l(a)("Sell")),3),s("span",{class:i({"volume-r":!0,green:e.direction==="buy",red:e.direction!=="buy"})},o(`${e.volume_open/((_=e.lever_rate)!=null?_:1)} * ${(L=e.lever_rate)!=null?L:1} x`)+" "+o(l(a)("volume")),3)],2)])])]),s("div",_s,[s("div",us,[s("div",ps,[s("p",vs,o(l(a)("margin"))+": "+o(e.deposit),1),s("p",hs,o(l(a)("orderId"))+": "+o(e.order_no),1),s("p",fs,o(e.create_time),1)])]),s("div",gs,[s("p",{class:i({"profit-num":!0,green:e.profit>0,red:e.profit<0})},o(e.profit),3)])])],8,os)}),128))])])]),_:1},8,["loading","finished","loading-text","finished-text"]),d.value.length===0?(v(),h("div",bs,[...n[3]||(n[3]=[s("img",{src:X,alt:""},null,-1)])])):q("",!0),m(P,{show:b.value,"onUpdate:show":n[1]||(n[1]=e=>b.value=e),round:"",position:"bottom",closeable:"","close-icon-position":"top-left",style:{height:"400px"}},{default:w(()=>{var e,_;return[s("div",ms,[s("p",ys,o(l(a)("orderInfo")),1),s("div",xs,[s("div",ks,[s("div",Ls,[s("p",ws,o(t.value.symbol),1),s("p",Is,[s("span",Cs,o(t.value.trade_avg_price),1),n[4]||(n[4]=s("span",{class:"arrow"},"\u2192",-1)),s("span",{class:i({"price-r":!0,green:t.value.close_avg_price-t.value.trade_avg_price>0,red:t.value.close_avg_price-t.value.trade_avg_price<0})},o(t.value.close_avg_price),3)])]),s("div",$s,[s("p",As,o(l(a)("Market Price")),1),s("div",Bs,[s("div",{class:i({volume:!0,"green-border":t.value.direction==="buy","red-border":t.value.direction!=="buy"})},[s("span",{class:i({"volume-l":!0,"green-bg":t.value.direction==="buy","red-bg":t.value.direction!=="buy"})},o(t.value.direction=="buy"?l(a)("Buy"):l(a)("Sell")),3),s("span",{class:i({"volume-r":!0,green:t.value.direction==="buy",red:t.value.direction!=="buy"})},o(`${t.value.volume_open/((e=t.value.lever_rate)!=null?e:1)} * ${(_=t.value.lever_rate)!=null?_:1} x`)+" "+o(l(a)("volume")),3)],2)])])]),s("div",Ms,[s("div",Os,[s("p",Ss,o(l(a)("Interest")),1),s("p",zs,o(t.value.profit),1)]),s("div",Ps,[s("p",Ds,o(l(a)("fee")),1),s("p",Ns,o(t.value.fee),1)])]),s("div",Vs,[s("div",js,[s("div",Fs,[s("p",Rs,"Margin: "+o(t.value.deposit),1),s("p",Ts,"Order Id: "+o(t.value.order_no),1),s("p",Us,o(t.value.create_time),1)])]),s("div",qs,[s("p",{class:i({"profit-num":!0,green:t.value.profit>0,red:t.value.profit<0})},o(t.value.profit),3)])])])])]}),_:1},8,["show"])])])}}},Zs=D(Es,[["__scopeId","data-v-139c9fa1"]]);export{Zs as default};
