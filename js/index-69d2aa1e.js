import{_ as I,cC as U,I as B,ag as b,o as i,c as n,e as r,g as p,w as m,aA as L,t as d,F as v,m as x,d as l,b as h}from"./index-a1ce0b9b.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import{_ as C}from"./index-4fa40e3c.js";import{f as H}from"./hold-3eb402bb.js";import{f as j}from"./position-f7e10c57.js";import{k as N}from"./trade.api-c60e8750.js";import{_ as k}from"./no-data-dcbdad72.js";import{T as y,a as c}from"./index-f267e586.js";import{L as u}from"./index-8f5ab3f0.js";import"./index-2ad54929.js";import"./index-a635fd51.js";/* empty css               */import"./coinUnit-680ac62d.js";import"./icon-close-a4b849b5.js";import"./index-99772e0e.js";import"./red-leverage-a6d5d047.js";import"./dayjs.min-c1882478.js";import"./use-id-e80f4f70.js";import"./use-tab-status-1077b4d5.js";import"./index-cf70a38c.js";import"./index-69b13b97.js";const V={data(){return{type:"orders",dataList:{orders:[],hisorders:[]},symbol:"",selectData:[{title:this.$t("\u5F53\u524D\u59D4\u6258"),type:"orders"},{title:this.$t("\u5386\u53F2\u4ED3\u4F4D"),type:"hisorders"}],loading:!1,finished:!1,page:1,isAll:!1,currencyList:[],symbolETF:"",routeType:"cryptos"}},components:{[y.name]:y,[c.name]:c,[u.name]:u,futrueHoldList:H,futrueHistroyPosition:j,assetsHead:C},mounted(){this.getCoins(),this.symbol=this.$route.query.symbol,this.$route.query.type&&(this.routeType=this.$route.query.type)},methods:{getCoins(){U({type:this.$route.query.type}).then(e=>{console.log(e,111111),this.currencyList=e,this.currencyList.map(s=>{s.symbol==this.symbol&&(this.symbolETF=s.name)})})},onChange(e){this.isAll=!1,this.dataList[e]=[],this.finished=!1,this.page=1,this.type=e,this.loading=!0,this.loading&&this.fetchData(this.symbol,this.type)},onClickLeft(){this.$router.go(-1)},fetchData(e){N(e,this.type,this.page).then(s=>{this.dataList[this.type]=this.dataList[this.type].concat(s),this.loading=!1,s.length<10&&(this.finished=!0),this.page++})},onLoad(){this.dataList.orders=[],this.fetchData(this.symbol,this.type)},selectItem(e){this.page=1,this.symbol=e.symbol,this.dataList[this.type]=[],this.fetchData(this.symbol,this.type),this.isAll=!1}},beforeRouteEnter(e,s,f){const{query:{symbol:g}}=e;f(t=>{t.symbol=g})}},M={id:"cryptos"},O={class:"DeliveryContractHistory px-2 text-28"},P={key:0,class:"all-select flex justify-end text-28"},R={class:"flex-1 text-28"},S={key:0,class:"select-data"},z=["onClick"],G={key:1,class:"flex flex-col justify-center pt-10 pb-5 items-center"},J={class:"text-grey mt-4"},K={key:0,class:"flex flex-col justify-center pt-10 pb-5 items-center"},Q={class:"text-grey mt-2 text-28"};function W(e,s,f,g,t,a){const T=C,w=y,D=c,q=B,A=b("futrue-hold-list"),_=u,F=b("futrue-histroy-position");return i(),n("div",M,[r("div",O,[p(T,{title:t.routeType=="cryptos"?e.$t("\u4EA4\u5272\u5408\u7EA6\u5386\u53F2"):e.$t("\u671F\u8D27\u4EA4\u6613"),backFunc:()=>{e.$route.query.goback?e.$router.push({path:"/cryptos/funds",query:{tab:2,index:1,type:"cryptos"}}):e.$router.go(-1)}},null,8,["title","backFunc"]),r("div",null,[p(D,{ref:"tabs",active:t.type,"onUpdate:active":s[0]||(s[0]=o=>t.type=o),swipeable:"",onChange:a.onChange},{default:m(()=>[(i(!0),n(v,null,x(t.selectData,o=>(i(),h(w,{title:o.title,key:o.title,name:o.type},null,8,["title","name"]))),128))]),_:1},8,["active","onChange"]),t.symbol?(i(),n("div",P,[r("div",{class:"select-box flex",onClick:s[1]||(s[1]=L(o=>t.isAll=!t.isAll,["stop"]))},[r("div",R,d(t.routeType=="indices"?t.symbolETF:t.symbol.toUpperCase()),1),p(q,{name:"arrow-down"}),t.isAll?(i(),n("div",S,[(i(!0),n(v,null,x(t.currencyList,(o,E)=>(i(),n("div",{class:"select-item",onClick:L(X=>a.selectItem(o),["stop"]),key:E},d(t.routeType=="indices"?o.name:o.symbol.toUpperCase()||o.symbol),9,z))),128))])):l("",!0)])])):l("",!0),t.type==="orders"?(i(),h(_,{key:1,loading:t.loading,"onUpdate:loading":s[2]||(s[2]=o=>t.loading=o),"loading-text":e.$t("\u52A0\u8F7D\u4E2D..."),finished:t.finished,"finished-text":t.dataList.orders.length?e.$t("\u5DF2\u7ECF\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5"):"",onLoad:a.onLoad,offset:30,class:"px-5"},{default:m(()=>[t.type==="orders"?(i(),h(A,{key:0,"list-data":t.dataList.orders},null,8,["list-data"])):l("",!0),!t.dataList.orders.length&&!t.loading?(i(),n("div",G,[s[4]||(s[4]=r("img",{src:k,alt:"",class:"w-24 h-24 no-data-img"},null,-1)),r("p",J,d(e.$t("\u6682\u65E0\u8BB0\u5F55")),1)])):l("",!0)]),_:1},8,["loading","loading-text","finished","finished-text","onLoad"])):l("",!0),t.type==="hisorders"?(i(),h(_,{key:2,loading:t.loading,"onUpdate:loading":s[3]||(s[3]=o=>t.loading=o),"loading-text":e.$t("\u52A0\u8F7D\u4E2D..."),finished:t.finished,"finished-text":t.dataList.hisorders.length?e.$t("\u5DF2\u7ECF\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5"):"",onLoad:a.onLoad,offset:30,class:"px-5"},{default:m(()=>[p(F,{"list-data":t.dataList.hisorders},null,8,["list-data"]),!t.dataList.hisorders.length&&!t.loading?(i(),n("div",K,[s[5]||(s[5]=r("img",{src:k,alt:"",class:"w-100 h-100 no-data-img"},null,-1)),r("p",Q,d(e.$t("\u6682\u65E0\u8BB0\u5F55")),1)])):l("",!0)]),_:1},8,["loading","loading-text","finished","finished-text","onLoad"])):l("",!0)])])])}const vt=I(V,[["render",W],["__scopeId","data-v-1927b800"]]);export{vt as default};
