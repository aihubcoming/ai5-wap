import{_ as m}from"./index-a85a0347.js";import{m as d}from"./financialManagement.api-283de903.js";import{d as u}from"./dayjs.min-d62259b6.js";import{_}from"./fund.api-4ed03bc8.js";import{_ as f,s as r,o as x,c as y,e as t,g as v,t as s,aW as p,aX as b,h as C}from"./index-16c70849.js";import"./index-19da7eed.js";const g={name:"MachineBuy",components:{assetsHead:m},data(){return{bal:0,earn_time:"--",dateBuy:u().format("YYYY-MM-DD"),data:{},form:{minerId:"",amount:""}}},methods:{changeMount(){this.form.amount!=""&&d(this.form).then(o=>{this.earn_time=o.earn_time,console.log(o.earn_time)})},handleBuy(){if(!this.data.test&&!this.form.amount){r(this.$t("\u8BF7\u8F93\u5165\u91D1\u989D"));return}else this.data.test&&this.form.amount==""&&(this.form.amount=0);if(this.form.amount*1<this.data.investment_min){r(this.$t("\u6700\u4F4E\u91D1\u989D")+":"+this.data.investment_min);return}else if(this.form.amount*1>this.data.investment_max&&this.data.investment_max!=0){r(this.$t("\u6700\u5927\u6570\u91CF")+":"+this.data.investment_max);return}this.$router.push({path:"/cryptos/machine-confirm",query:{...this.form}})},getAvailable(o){_().then(n=>{console.log(n,"\u4F59\u989D");let l=n.extends.find(e=>e.symbol.toLowerCase()==o.toLowerCase());this.bal=l.usable,console.log(this.bal)})}},created(){this.data=JSON.parse(this.$route.query.obj),this.getAvailable(this.data.buyCurrency||"usdt"),this.form.minerId=this.data.id,this.data.test&&(this.form.amount="",d({amount:0,minerId:this.form.minerId}).then(o=>{this.earn_time=o.earn_time,console.log(o.earn_time)}))}},w={id:"cryptos"},j={id:"financialOrder",class:"financialOrder"},B={class:"box-border"},M={class:"mt-12 text-36 font-semibold px-8 textColor"},k={class:"flex justify-center mt-4"},I={class:"flex flex-1 px-8"},N=["placeholder"],U={class:"colorMain pr-2 text-28"},D={class:"px-8"},O={class:"flex justify-between flex-row items-center h-18"},L={class:"text-32 font-normal text-grey"},V={class:"text-32 font-normal textColor"},Y={class:"flex justify-between items-center h-18"},A={class:"text-32 font-normal text-grey"},T={class:"flex justify-between items-center h-18"},q={class:"text-32 font-normal text-grey"},z={class:"text-32 font-normal textColor"},F={class:"flex justify-between items-center h-18"},S={class:"text-32 font-normal text-grey"},W={class:"text-32 font-normal textColor"},E={class:"h-7 px-8 mt-20 mb-5 textColor text-30"},H={class:"px-8"},J={class:"flex justify-between items-center h-24"},X={class:"text-32 font-normal text-grey"},G={class:"text-32 font-normal textColor"},K={class:"flex justify-between items-center h-24"},P={class:"text-32 font-normal text-grey"},Q={class:"text-32 font-normal textColor"},R={class:"flex justify-between items-center h-24"},Z={class:"text-32 font-normal text-grey"},$={class:"text-32 font-normal textColor"},tt={class:"flex justify-between items-center h-24"},et={class:"text-32 font-normal text-grey"},st={class:"text-32 font-normal textColor"};function ot(o,n,c,l,e,a){const h=m;return x(),y("div",w,[t("div",j,[v(h,{title:o.$i18n.locale==="CN"?e.data.name_cn:o.$i18n.locale==="zh-CN"?e.data.name:e.data.name_en},null,8,["title"]),t("div",B,[n[4]||(n[4]=t("div",{class:"w-full h-1 bgDark"},null,-1)),t("div",M,s(o.$t("\u8D2D\u4E70\u91D1\u989D")),1),t("div",k,[t("div",I,[p(t("input",{placeholder:o.$t("\u8F93\u5165\u91D1\u989D"),"onUpdate:modelValue":n[0]||(n[0]=i=>e.form.amount=i),type:"number",class:"h-24 pl-8 w-full border-none text-grey inputBackground textColor text-28",onInput:n[1]||(n[1]=(...i)=>a.changeMount&&a.changeMount(...i))},null,40,N),[[b,e.form.amount]]),t("div",{class:"h-24 w-44 flex justify-end pr-1 inputBackground textColor items-center",onClick:n[2]||(n[2]=i=>e.form.amount=e.bal)},[C(s(e.data.buyCurrency?e.data.buyCurrency.toUpperCase():"")+" ",1),t("span",U,s(o.$t("\u5168\u90E8")),1)])])]),t("div",D,[t("div",O,[t("div",L,s(o.$t("\u53EF\u7528\u4F59\u989D")),1),t("div",V,s(e.bal)+" "+s(e.data.buyCurrency?e.data.buyCurrency.toUpperCase():""),1)]),t("div",Y,[t("div",A,s(o.$t("\u6570\u91CF\u9650\u5236")),1)]),t("div",T,[t("div",q,s(o.$t("\u6700\u5C11\u53EF\u6295")),1),t("div",z,s(e.data.investment_min)+" "+s(e.data.buyCurrency?e.data.buyCurrency.toUpperCase():""),1)]),t("div",F,[t("div",S,s(o.$t("\u6700\u5927\u53EF\u6295")),1),t("div",W,s(e.data.investment_max)+" "+s(e.data.buyCurrency?e.data.buyCurrency.toUpperCase():""),1)])]),t("div",E,s(o.$t("\u6982\u89C8")),1),t("div",H,[t("div",J,[t("div",X,s(o.$t("\u8D2D\u4E70\u65E5")),1),t("div",G,s(e.dateBuy),1)]),t("div",K,[t("div",P,s(o.$t("\u8D77\u606F\u65E5")),1),t("div",Q,s(e.earn_time?e.earn_time:"--"),1)]),t("div",R,[t("div",Z,s(o.$t("\u6D3E\u606F\u65F6\u95F4")),1),t("div",$,s(o.$t("\u6BCF\u5929")),1)]),t("div",tt,[t("div",et,s(o.$t("\u9884\u8BA1\u4ECA\u65E5\u6536\u76CA")),1),t("div",st,s((e.data.investment_min*(e.data.daily_rate/100)).toFixed(2))+" - "+s((e.data.investment_max*(e.data.daily_rate/100)).toFixed(2))+"\xA0"+s(e.data.outputCurrency?e.data.outputCurrency.toUpperCase():""),1)])])]),t("div",{onClick:n[3]||(n[3]=(...i)=>a.handleBuy&&a.handleBuy(...i)),class:"text-white btnMain h-24 w-3/4 rounded-md text-center fixed wz text-30 flex justify-center items-center m-auto"},s(o.$t("\u8D2D\u4E70")),1)])])}const mt=f(g,[["render",ot],["__scopeId","data-v-75d9ad47"]]);export{mt as default};
