import{p as X,$ as ns,B as K,ah as is,g as r,H as M,q as rs,x as cs,z as us,C as ds,a2 as ps,ai as vs,O as ms,_ as As,aj as bs,v as ys,u as gs,ak as fs,r as y,al as ks,a as _s,l as hs,am as O,an as T,ao as _,ap as Is,aq as E,ar as Cs,as as $,at as Ss,au as xs,S as ws,o as h,c as I,e as t,t as u,f as n,n as D,F as V,m as J,d as $s,w as Y,av as Bs,b as Us,aw as Ts}from"./index-14d2cc83.js";import{_ as Ls,a as Fs}from"./search-e4a3a12e.js";import{_ as W}from"./edit-6549753a.js";import{_ as Es}from"./add-icon-270b70fa.js";import{M as Ds}from"./index-6dbeaef6.js";import"./installCanvasRenderer-26dffa88.js";import"./install-fac60ee3.js";import"./install-7651132f.js";const[q,Rs]=X("sidebar"),Q=Symbol(q),Os={modelValue:ns(0)};var Ns=K({name:q,props:Os,emits:["change","update:modelValue"],setup(C,{emit:S,slots:l}){const{linkChildren:p}=is(Q),v=()=>+C.modelValue;return p({getActive:v,setActive:c=>{c!==v()&&(S("update:modelValue",c),S("change",c))}}),()=>{var c;return r("div",{role:"tablist",class:Rs()},[(c=l.default)==null?void 0:c.call(l)])}}});const Hs=M(Ns),[Ps,j]=X("sidebar-item"),Vs=rs({},cs,{dot:Boolean,title:String,badge:us,disabled:Boolean,badgeProps:Object});var Js=K({name:Ps,props:Vs,emits:["click"],setup(C,{emit:S,slots:l}){const p=ds(),{parent:v,index:b}=ps(Q);if(!v)return;const c=()=>{C.disabled||(S("click",b.value),v.setActive(b.value),p())};return()=>{const{dot:x,badge:d,title:w,disabled:m}=C,f=b.value===v.getActive();return r("div",{role:"tab",class:j({select:f,disabled:m}),tabindex:m?void 0:0,"aria-selected":f,onClick:c},[r(vs,ms({dot:x,class:j("text"),content:d},C.badgeProps),{default:()=>[l.title?l.title():w]})])}}});const Ys=M(Js);const Ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAcCAYAAABlL09dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADbSURBVHgB7ZbhDYIwEIXfuYC6QUdwI1hBFzBM4ApOopuIE2An4LxrStIYKRCu//iSR/rj8qCXexfAzJXow3a06kl6AOBgi9/J4wB7gvFZ9IYdXtRgozwybvc4ew6WJIOtIalgxZ/kXGHBSCyfq1vD+cy7pK7ieTulHXYFZ97riegYjZfslBDpbEFyXrJTfK4VL9FpqJRzHa85hbarHjN+iNZtvR/DXnSDBYlpF65gRby29tNhowQUg0eThUSMBWjydFV2oj4nnk/Lpf8r9rAnGF9E+tU8odmmouYLNWLikIIw68sAAAAASUVORK5CYII=",js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP1SURBVHgBzVhbVhtHEK3qGUiEk3PGbCDaAWIFFisIO0D+DjKwAosVSDbyt8UKoqyAyQqMVxBlA6Rz/JAMM12uqnlIwCC1bB3h+yG1NP24U+9qgB8MCN+AqEsRhB8bBoJ9MuY3IKgD8X/ZjiNAtOTS9wAutu1f4yW2Xo5QdPahCWbzAF26z4dGXouILCIO3Q2c2pPaaNF0L0JRd1zHDXjLw2Z5DkDMh70HcpcQwCWYwOqDhKUFjslik0nv4MwaHg8WEVtIKHozOULnOioRflsCfAXJzz17ghY8IC8DoesgmGd8Wl0PRehc/VE7XZrQdn/8liXR0olEr1xS6/gSeZAYmoPsYOpdHW6deBN62h9fgIhbpRI8t+2fhrACRK/HLTTU5aPFBuP/Dmt7s89N1aLt/qSbkYERJbi7KjIC+6I2oBvclb3lDNHCXELRmy8vCehYJZPAno9n6Dr2QPVCH1K8p+zNrmHFJKL+5+Pi2S2V5d70j4xZTS17uHnusT+TGTfZUC90HSV7vrEnOvu0zzb1J9OwdEO7QvSWhAwbXUYGBr5kFJTWp2Os+y6z7SdDYmfhRVEeVqYqi7rXDRIPEN1yrIB1IfnSEdXxSFVeEjLhjeqREGJfu1kF7MlTS8SxTThwKioJEeLvOlindAokk17GwRwoITHKIi6sUzoFVEqSitiWcgm5pnyi5KbHQn62EkIIduTbYXABjwVJ0oxQx8hup4Pr/6vmasCb484GsUnF2ATPotcf4UEgjSrjVLrJFUOaEUIpsIRRGI7uk8mD3pw0TLfHnKuCFswBv2BF8Ew1aRv4waASYhFZzSIuuFcF2nYtZint3YrGd8EqK8oKifLg0r8fnhtUqyzMaqWMEBmug6kB6XWDf11WkYI5UJtBUEJCxr74ZQBLQ6pMk6mMwP0r3wZNAx4NXPJCaUOo9Q5H6x14LORnZ4SSyWWZ4Lrk102sEFr2aDOAVgllCY7+UobhtFhaF6ZlDw1n3N4M9E8MjtYpJZEOSUci4MReEhJPKhPcxvglrAkqHW6PtCi8WzEyw+dZnYvHUl5678qxZTqmke8yDhctyuNXUfbg/UmT47xNKetc8EBWwiyOWeV8MeSQ3kkDiuROr9pPOpWEBNtnnwZFObtM5+GLjIzmx7o0oFftrdKRKnMZs22pPcmCDXwX9ccHsCJop6GSYbshGs6SEeD8xZ97fHNxlE8c+N5gVO7VFWfJez7Zj9y5vPjdeYsvG87G3I9D5nWsQh7HyxBTIpuTI3JMpLiwQF5/uNWrmu99HTN7UZAjlpLXAcWcGG1ZS7k0ghQakhfzVNQsFqgZsCd/13VMJTHgDmWJCysmci750scDvwLewutRBJc5eAAAAABJRU5ErkJggg==",Xs="/syn/png/no-data-b12ea557.png";const Ks={class:"pb-20"},Ms={class:"container-box"},qs={class:"header"},Qs={class:"title"},Zs={class:"icon-group"},zs=["src"],Gs={class:"has-data"},st={class:"option-container"},tt={class:"title"},et={class:"flex-r flex items-center"},ot={class:"title"},lt={class:"search flex items-center"},at={class:"filter-box ml-10"},nt={class:"market-container"},it={class:"symbol-table"},rt=["onClick"],ct={class:"flex-l"},ut={class:"flex-l-item logo"},dt=["src"],pt={class:"flex-l-item name-title"},vt={key:0,class:"name-short"},mt={key:1,class:"name-short"},At={class:"name"},bt={class:"flex-r"},yt={class:"flex-r-item chart-box"},gt={class:"flex-r-item data-box"},ft={class:"add-btn-group"},kt={key:0,class:"no-data"},_t={class:"text"},ht={class:"modal-inner-box"},It={class:"sidebar"},Ct={class:"footer-container"},St={class:"btn-group flex"},xt={__name:"index",setup(C){const S=bs(),{t:l}=ys.exports.useI18n(),p=gs();fs();const v=y(!1),b=y(0),c=y([]),x=y({}),d=y([]),w=y(null),m=y({}),f=y(1),L=y(""),F=y(0),a=ks(),R=_s(),Z=new URL(Object.assign({"../../assets/theme/dark/image/search.png":Ls,"../../assets/theme/white/image/search.png":Fs})[`../../assets/theme/${S.theme}/image/search.png`],self.location);hs(async()=>{a.$state.isLoad===1&&(O({message:l("\u52A0\u8F7D\u4E2D..."),duration:0}),a[T](2)),await ts(),d.value=a.$state.citasList,ls()});const z=e=>new URL(e,import.meta.url).href,g=(e,s)=>{a[T](3),es(e,s)},G=e=>{a[T](3),a[_]([]),a[$]([]),x.value=e,N(e.listId),v.value=!1},ss=()=>{v.value=!0},B=e=>{p.push(e)},ts=()=>{if(c.value=[],R.userInfo.token)b.value=1,Is().then(e=>{E(),m.value=e.count,c.value=e.list||[],c.value.length>0&&(x.value=c.value[0],N(x.value.listId))});else{f.value=3,L.value=l("\u5168\u90E8\u80A1\u7968");let e=[{symbol:"AAPL"},{symbol:"MSFT"},{symbol:"btc"},{symbol:"eth"},{symbol:"SH518880"},{symbol:".IXIC"},{symbol:".DJI"}];a[_](e),b.value=0}},N=e=>{if(!R.userInfo.token)return;f.value=1;let s={id:e};a.$state.isLoad===3&&(O({message:l("\u52A0\u8F7D\u4E2D..."),duration:0}),a[T](2)),Cs(s).then(i=>{E();let A=[];a[_]([]),i.map(k=>{let o={symbol:k.symbol};A.push(o)}),console.log(A,222),a[_](A),A.length==0&&a[$]([])})},es=(e,s)=>{if(!!R.userInfo.token)if(a.$state.isLoad===3&&(O({message:l("\u52A0\u8F7D\u4E2D..."),duration:0}),a[T](2)),v.value=!1,e==="all"){f.value=3,L.value=l("\u5168\u90E8\u80A1\u7968");let i=[{symbol:"AAPL"},{symbol:"MSFT"},{symbol:"btc"},{symbol:"eth"},{symbol:"SH518880"},{symbol:".IXIC"},{symbol:".DJI"}];a[_](i),b.value=0}else a[_]([]),a[$]([]),f.value=2,L.value=s,Ts({type:e}).then(A=>{E();let k=[];a[_]([]),A.map(o=>{let U={symbol:o.symbol};k.push(U)}),console.log(k,2222),a[_](k),k.length==0&&a[$]([])})},os=e=>{console.log(e),e.type=="cryptos"?p.push("/cryptos/trendDetails/"+e.symbol+"?isOptional=1&type=cryptos"):e.type=="indices"?p.push("/quotes/detail?symbol="+e.symbol+"&isOptional=1&symbolType=indices&type=indices"):e.type=="US-stocks"?p.push(`/quotes/usStockDetail?symbol=${e.symbol}&isOptional=1&symbolType=US-stocks&enName=${e.name}`):e.type=="HK-stocks"?p.push(`/quotes/usStockDetail?symbol=${e.symbol}&isOptional=1&symbolType=HK-stocks&enName=${e.name}`):e.type=="TW-stocks"?p.push("/quotes/detail?symbol="+e.symbol+"&isOptional=1&symbolType=TW-stocks&type=TW-stocks"):e.type=="A-stocks"?p.push(`/quotes/detail?symbol=${e.symbol}&isOptional=1&symbolType=A-stocks&type=A-stocks&enName=${e.name}`):p.push("/foreign/coinChart?symbol="+e.symbol+"&isOptional=1")},H=(e,s="asc")=>(i,A)=>s=="asc"?parseFloat(i[e])>parseFloat(A[e])?1:-1:parseFloat(i[e])>parseFloat(A[e])?-1:1,P=e=>{F.value=e},ls=()=>{w.value=setInterval(()=>{E(),a.$state.opcionalList.length>0?(console.log(a.$state.opcionalList),Ss(a.$state.opcionalList).then(e=>{d.value=e,F.value==1?(d.value=d.value.sort(H("close")),a[$](d.value)):(d.value=d.value.sort(H("close","ask")),a[$](d.value))})):d.value=[]},2e3)};return xs(()=>{w.value&&(console.log(w.value),clearInterval(w.value))}),(e,s)=>{const i=Ys,A=Hs,k=ws;return h(),I("section",Ks,[t("div",Ms,[t("header",qs,[t("div",{class:"flex-l",onClick:ss},[s[18]||(s[18]=t("div",{class:"icon"},[t("img",{src:Ws,alt:""})],-1)),t("span",Qs,u(f.value==1?x.value.listName:L.value),1)]),t("div",Zs,[t("div",{class:"icon search",onClick:s[0]||(s[0]=o=>B("/optional/search?symbolType=indices"))},[t("img",{src:z(n(Z)),alt:""},null,8,zs)])])]),t("div",Gs,[t("section",st,[t("div",{class:"flex-l",onClick:s[1]||(s[1]=o=>B("/optional/editGroupList"))},[s[19]||(s[19]=t("div",{class:"icon"},[t("img",{src:W,alt:""})],-1)),t("span",tt,u(n(l)("editList")),1)]),t("div",et,[t("span",ot,u(n(l)("\u6700\u65B0\u4EF7")),1),t("div",lt,[t("div",at,[t("div",{class:D(["w-14 h-12",[F.value==1?"icon_top1_active":"icon_top1"]]),onClick:s[2]||(s[2]=o=>P(1))},null,2),t("div",{class:D(["w-14 h-12",[F.value==2?"icon_top2_active":"icon_top2"]]),onClick:s[3]||(s[3]=o=>P(2))},null,2)])])])]),t("section",nt,[t("div",it,[t("ul",null,[(h(!0),I(V,null,J(d.value,(o,U)=>(h(),I("li",{class:"flex",onClick:as=>os(o),key:U},[t("div",ct,[t("div",ut,[t("img",{src:`${n(Bs)}/symbol/${o.symbol.toLowerCase()}.png`,alt:""},null,8,dt)]),t("div",pt,[o.type=="cryptos"?(h(),I("p",vt,u(o.symbol.toUpperCase()),1)):(h(),I("p",mt,u(o.symbol),1)),t("p",At,u(o.name),1)])]),t("div",bt,[t("div",yt,[r(Ds,{dataObj:o,ratio:o.change_ratio,index:o.symbol},null,8,["dataObj","ratio","index"])]),t("div",gt,[t("div",{class:D(["data-item",[o.change_ratio<0?"bg-red":"bg-green"]])},u(o.close),3),t("p",{class:D(["value",[o.change_ratio<0?"color-red":"color-green"]])},u(o.change_ratio<0?o.net_change:"+"+o.net_change)+" \xA0 "+u(o.change_ratio)+"%",3)])])],8,rt))),128))])]),t("div",ft,[s[20]||(s[20]=t("div",{class:"add-icon icon"},[t("img",{src:js,alt:""})],-1)),t("span",{onClick:s[4]||(s[4]=o=>B("/optional/search?symbolType=indices"))},u(n(l)("addStock")),1)])])]),d.value.length==0?(h(),I("div",kt,[s[21]||(s[21]=t("img",{src:Xs,alt:""},null,-1)),t("p",_t,u(n(l)("\u6682\u65E0\u80A1\u7968")),1)])):$s("",!0),r(k,{"overlay-class":"left-modal",show:v.value,"onUpdate:show":s[17]||(s[17]=o=>v.value=o),position:"left",class:"popup-bg",style:{width:"75%",height:"100%"},round:"","safe-area-inset-top":"","safe-area-inset-bottom":""},{default:Y(()=>[t("div",ht,[t("p",null,u(n(l)("myPortfolio")),1),t("div",It,[r(A,{modelValue:b.value,"onUpdate:modelValue":s[14]||(s[14]=o=>b.value=o)},{default:Y(()=>[r(i,{onClick:s[5]||(s[5]=o=>g("all","ETF")),title:n(l)("\u5168\u90E8\u80A1\u7968")},null,8,["title"]),(h(!0),I(V,null,J(c.value,(o,U)=>(h(),Us(i,{title:`${o.listName}(${o.symbolCount})`,onClick:as=>G(o),key:U},null,8,["title","onClick"]))),128)),r(i,{onClick:s[6]||(s[6]=o=>g("indices","ETF")),title:`ETF(${m.value.indices||0})`},null,8,["title"]),r(i,{onClick:s[7]||(s[7]=o=>g("US-stocks",n(l)("UsStocks"))),title:`${n(l)("UsStocks")}(${m.value["US-stocks"]||0})`},null,8,["title"]),r(i,{onClick:s[8]||(s[8]=o=>g("HK-stocks",n(l)("HkStocks"))),title:`${n(l)("HkStocks")}(${m.value["HK-stocks"]||0})`},null,8,["title"]),r(i,{onClick:s[9]||(s[9]=o=>g("TW-stocks",n(l)("TwStocks"))),title:`${n(l)("\u53F0\u80A1")}(${m.value["TW-stocks"]||0})`},null,8,["title"]),r(i,{onClick:s[10]||(s[10]=o=>g("A-stocks",n(l)("AStocks"))),title:`${n(l)("A\u80A1")}(${m.value["A-stocks"]||0})`},null,8,["title"]),r(i,{onClick:s[11]||(s[11]=o=>g("cryptos",n(l)("digitalCurrency"))),title:`${n(l)("digitalCurrency")}(${m.value.cryptos||0})`},null,8,["title"]),r(i,{onClick:s[12]||(s[12]=o=>g("forex",n(l)("\u5916\u6C47"))),title:`${n(l)("\u5916\u6C47")}(${m.value.forex||0})`},null,8,["title"]),r(i,{onClick:s[13]||(s[13]=o=>g("INDIA-stocks",n(l)("\u5370\u5EA6\u80A1"))),title:`${n(l)("\u5370\u5EA6\u80A1")}(${m.value["INDIA-stocks"]||0})`},null,8,["title"])]),_:1},8,["modelValue"])]),t("footer",Ct,[t("div",St,[t("div",{class:"btn-item flex-1",onClick:s[15]||(s[15]=o=>B("/optional/groupListManagement"))},[s[22]||(s[22]=t("div",{class:"icon"},[t("img",{src:W,alt:""})],-1)),t("p",null,u(n(l)("managementPortfolio")),1)]),s[24]||(s[24]=t("div",{class:"line"},null,-1)),t("div",{class:"btn-item flex-1",onClick:s[16]||(s[16]=o=>B("/optional/groupAdd"))},[s[23]||(s[23]=t("div",{class:"icon"},[t("img",{src:Es,alt:""})],-1)),t("p",null,u(n(l)("addList")),1)])])])])]),_:1},8,["show"])])])}}},Dt=As(xt,[["__scopeId","data-v-ab892f82"]]);export{Dt as default};
