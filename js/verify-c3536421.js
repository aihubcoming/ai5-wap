import{_ as V,v as I,u as B,ak as w,r as m,a1 as x,l as T,s as v,bI as F,o as i,c as u,e as o,t as a,d as p,aW as E,aX as N,h as f,F as S,g as P,w as R,cZ as q,c_ as D}from"./index-16c70849.js";/* empty css              */import{_ as M}from"./left-arrow-2dc2678c.js";import{a as U}from"./login.api-ca77a6c2.js";import{B as j}from"./index-bb9105b1.js";const W={class:"verify"},X={class:"header"},Z={class:"content"},z={key:0,class:"title textColor"},A={key:1,class:"title textColor"},G={key:2},H={key:3},J={class:"iptbox inputBackground"},K=["placeholder"],L={__name:"verify",setup(O){const{t:c}=I.exports.useI18n(),y=B(),h=w(),d=m(""),r=m(""),l=m(""),n=x({timer:null}),t=m(0);T(()=>{r.value=h.query.type,l.value=h.query.account,clearInterval(n.timer),n.timer=null,k()});const C=()=>{if(d.value.length<6){v(c("entryVerifyTips"));return}switch(r.value*1){case 1:{g();break}case 2:{b();break}}},g=()=>{q({email:l.value,verifcode:d.value}).then(e=>{v(c("bindSuccess")),console.log(123),y.push("/setFond")})},b=()=>{D({phone:l.value,verifcode:d.value}).then(e=>{v(c("bindSuccess")),y.push("/setFond")}).catch(e=>{v(c(e.msg))})},k=()=>{if(t.value>0)return!1;U({target:l.value}).then(e=>{t.value=30,n.timer=setInterval(()=>{t.value>0?t.value=t.value-1:(t.value=0,clearInterval(n.timer),n.timer=null)},1e3)}).catch(e=>{v(c(e.msg))})};return F(()=>{clearInterval(n.timer),n.timer=null}),(e,s)=>{const $=j;return i(),u("div",W,[o("div",X,[o("div",{class:"flex items-center",onClick:s[0]||(s[0]=_=>e.$router.go(-1))},[...s[3]||(s[3]=[o("img",{src:M,alt:"",class:"leftReturn"},null,-1)])]),o("div",{class:"textColor",onClick:s[1]||(s[1]=_=>e.$router.push("/setFond"))},a(e.$t("skip")),1)]),o("div",Z,[r.value==1?(i(),u("div",z,a(e.$t("emailVerify")),1)):p("",!0),r.value==2?(i(),u("div",A,a(e.$t("phoneVerify")),1)):p("",!0),r.value==1?(i(),u("p",G,a(e.$t("verifyEmailTips",{account:l.value})),1)):p("",!0),r.value==2?(i(),u("p",H,a(e.$t("verifyPhoneTips",{account:l.value})),1)):p("",!0),o("div",J,[E(o("input",{class:"inputBackground textColor",type:"text",placeholder:e.$t("entryVerifyCode"),"onUpdate:modelValue":s[2]||(s[2]=_=>d.value=_)},null,8,K),[[N,d.value]]),o("span",{onClick:k},[f(a(e.$t("reSendVerifyCode"))+" ",1),t.value?(i(),u(S,{key:0},[f(" ("+a(t.value)+")s",1)],64)):p("",!0)])]),P($,{class:"w-full",style:{"margin-top":"10px"},type:"primary",onClick:C},{default:R(()=>[f(a(e.$t("bind")),1)]),_:1})])])}}},oe=V(L,[["__scopeId","data-v-dd4cd351"]]);export{oe as default};
