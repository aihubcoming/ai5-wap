import{_ as d}from"./index-b3de46e1.js";import{a as p,h}from"./pledgeLoan-48e6cd84.js";import{_ as c,cH as _,s as r,o as y,c as g,e as t,g as A,t as o,aW as x,aX as f,h as b,n as v}from"./index-14d2cc83.js";import{_ as C}from"./fund.api-cc60fbcd.js";import{_ as L}from"./exchangeIcon-aac90d39.js";import"./index-691edc31.js";const k={props:{},components:{assetsHead:d},data(){return{id:"",debtAmount:"",interestAmount:"",loanAmount:"",repayAmount:"",volume:"",pledgeRate:""}},mounted(){this.id=this.$route.query.id,this.debtAmount=this.$route.query.debtAmount,this.interestAmount=this.$route.query.interestAmount,this.loanAmount=this.$route.query.loanAmount,this.getList()},methods:{changeMount(){this.repayAmount!==""?(this.repayAmount>=this.debtAmount&&(this.repayAmount=this.debtAmount),this.debounceFn()):this.pledgeRate=""},debounceFn:_(function(){this.getLoanParamFn()},500),getLoanParamFn(){p({repayAmount:this.repayAmount,loanOrderId:this.id}).then(e=>{this.pledgeRate=e.pledgeRate}).catch(e=>{e.code==="ECONNABORTED"?r(this.$t("\u7F51\u7EDC\u8D85\u65F6\uFF01")):e.msg!==void 0&&r(this.$t(e.msg))})},getList(){C().then(e=>{let a=e.extends.find(u=>u.symbol.toLowerCase()=="usdt");this.volume=a.volume})},repayAll(){this.repayAmount=this.debtAmount,this.getLoanParamFn()},submit(){if(this.repayAmount==0)return r(this.$t("\u8FD8\u6B3E\u91D1\u989D\u4E0D\u80FD\u4E3A0")),!1;h({repayAmount:this.repayAmount,loanOrderId:this.id}).then(e=>{r(this.$t("\u8FD8\u6B3E\u6210\u529F")),this.$router.push("/cryptos/pledgeLoanOrder")})}}},w={id:"cryptos"},B={class:"repayment"},D={class:"contentBox"},$={class:"content mt-6 box-shad tabBackground"},O={class:"mb-10"},R={class:"text-32 textColor"},j={class:"flex mt-5 h-20 pr-8 items-center inputBox inputBackground1 textColor"},F=["placeholder"],S={class:"right h-16 flex items-center pl-6 box-border relative text-30"},U={class:"flex items-center text-24 mt-6 text-grey"},N={class:"mr-3"},P={class:"mt-20 text-grey text-28 flex justify-between"},q={class:"textColor"},I={class:"mt-9 text-grey text-28 flex justify-between"},M={class:"textColor"},T={class:"mt-9 text-grey text-28 flex justify-between"},V={class:"textColor"},E={class:"mt-9 text-32 text-grey flex justify-between"},H={class:"textColor"};function W(e,s,a,u,n,l){const m=d;return y(),g("div",w,[t("div",B,[A(m,{title:e.$t("\u8FD8\u6B3E")},null,8,["title"]),t("div",D,[t("div",$,[t("div",O,[t("div",R,o(e.$t("\u8FD8\u6B3E")),1),t("div",j,[x(t("input",{class:"h-full pl-5 inputBackground1 text-28",type:"number","onUpdate:modelValue":s[0]||(s[0]=i=>n.repayAmount=i),onInput:s[1]||(s[1]=(...i)=>l.changeMount&&l.changeMount(...i)),placeholder:e.$t("\u8BF7\u8F93\u5165\u8FD8\u6B3E\u6570\u91CF")},null,40,F),[[f,n.repayAmount]]),t("div",S,[s[5]||(s[5]=t("span",null,"USD",-1)),t("span",{class:"skyColor ml-7",onClick:s[2]||(s[2]=(...i)=>l.repayAll&&l.repayAll(...i))},"ALL")])]),t("div",U,[b(o(e.$t("\u53EF\u7528\u4F59\u989D"))+"\uFF1A",1),t("span",N,o(n.volume||"--")+"\xA0USD",1),t("img",{onClick:s[3]||(s[3]=i=>e.$router.push("/cryptos/exchangePage")),src:L,class:"w-7 h-7",alt:""})]),t("p",P,[t("span",null,o(e.$t("\u603B\u8D1F\u503A")),1),t("span",q,o(n.debtAmount||"--")+"\xA0USD",1)]),t("p",I,[t("span",null,o(e.$t("\u5229\u606F")),1),t("span",M,o(n.interestAmount!==""?n.interestAmount:"--")+"\xA0USD",1)]),t("p",T,[t("span",null,o(e.$t("\u672C\u91D1\u8FD8\u6B3E")),1),t("span",V,o(n.loanAmount||"--")+"\xA0USD",1)]),t("p",E,[t("span",null,o(e.$t("\u8FD8\u6B3E\u540E\u8D28\u62BC\u7387")),1),t("span",H,o(n.pledgeRate!==""?(n.pledgeRate*1e4/100).toFixed(2):"--")+"%",1)]),t("div",{class:v(["h-20 lh-20 rounded-lg text-center text-34 mt-20 flex justify-center items-center",n.repayAmount?"pledgeLoan_background text-black ":"bgDark text-grey"]),onClick:s[4]||(s[4]=(...i)=>l.submit&&l.submit(...i))},o(e.$t("\u786E\u8BA4\u8FD8\u6B3E")),3)])])])])])}const Y=c(k,[["render",W],["__scopeId","data-v-d938511d"]]);export{Y as default};
