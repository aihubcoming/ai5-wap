import{_ as L,v as E,u as q,r as i,l as z,cV as A,o as a,c as u,e as t,t as n,g as x,d as y,n as D,b as C,F as G,w as M,s as _,d0 as O,h as H}from"./index-a1ce0b9b.js";/* empty css              */import{U as J,_ as K}from"./index-2f0e6cc1.js";/* empty css               */import{_ as Q}from"./left-arrow-2dc2678c.js";import{_ as W,a as X,b as Y,c as Z,d as ee}from"./kyc-demo-4c28ae36.js";import{S as te}from"./step-0b6e263e.js";import{n as se,c as le}from"./nationalityList-fd245455.js";import{E as U}from"./index-415936b3.js";import{B as oe}from"./index-b2caa79d.js";import"./index-cf70a38c.js";import"./index-2968e9bc.js";import"./index-3d93719e.js";/* empty css               *//* empty css               *//* empty css               */import"./index-2c8ed22f.js";import"./index-766f60f3.js";import"./index-ffad7391.js";import"./use-id-e80f4f70.js";import"./index-9629f4b0.js";const ae={class:"identity pl-8 pr-8 text-24",style:{"padding-bottom":"30px"}},ie={class:"header"},ne={class:"title textColor"},re={key:0,class:"pt-8 pb-7 box-border border-b-color"},ue={class:"flex justify-between items-center px-4"},de={class:"text-26"},ce={key:0,class:"flex items-center"},me=["src"],pe={class:"text-16 ml-2"},ve={class:"mb-1"},_e={class:"mt-27 mb-13 text-12 textColor"},fe={class:"flex items-center"},he={key:0,src:X,class:"w-17 h-10",alt:"arrow"},ye={key:0,class:"mb-13 textColor"},ge={key:1,class:"mt-55 mb-13"},be={class:"flex mt-4 mb-6 justify-between"},xe={class:"flex-1 flex flex-col text-center justify-center items-center"},Ce={class:"upload-wrap"},Ve={key:0,src:Y,alt:"",class:"w-full"},ke={class:"mt-3 text-20 h-5 textColor"},$e={class:"flex-1 flex flex-col text-center justify-center items-center"},we={class:"upload-wrap"},Ne={key:0,src:Z,alt:"",class:"w-full"},Fe={class:"mt-3 text-20 h-5 textColor"},Ue={class:"flex-1 flex flex-col text-center justify-center items-center"},Be={class:"upload-wrap"},Ie={key:0,src:ee,alt:"",class:"w-full"},je={class:"mt-3 text-20 h-5 textColor"},Re={class:"mb-4 textColor text-26"},Se={__name:"identity",setup(Pe){const{locale:B,t:l}=E.exports.useI18n(),N=q(),I=i(le),g=i(l("selectNation")),b=i("af"),f=i(""),h=i(""),d=i([]),c=i([]),m=i([]),V=i("frontFile"),p=i(-1);i([]);const v=i(["small-success_"+l("applynoView"),"identifing_"+l("reviewing"),"small-success_"+l("passView"),"icon-close_"+l("noPassView")]);z(()=>{j()});const j=()=>{A().then(e=>{p.value=e.status,e.status!==0&&(g.value=I.value[B.value][e.nationality].name,b.value=e.nationality,f.value=e.idnumber,h.value=e.name,d.value=e.idimg_1?[{url:e.idimg_1_path}]:[],c.value=e.idimg_2?[{url:e.idimg_2_path}]:[],m.value=e.idimg_3?[{url:e.idimg_3_path}]:[])})},r=()=>![0,3,-1].includes(p.value),k=e=>{V.value=e},$=e=>{e.status="uploading",e.message=l("uploading"),K(e).then(s=>{e.status="success",e.message=l("uploadSuccess"),e.resURL=s,V.value=="frontFile"?d.value=[e]:V.value=="reverseFile"?c.value=[e]:m.value=[e]}).catch(s=>{e.status="failed",e.message=l("uploadFailed")})},F=i(null),R=()=>{r()||F.value.open()},S=e=>{g.value=e.name,b.value=e.code},P=()=>{if(!g.value){_(l("selectNation"));return}if(!h.value){_(l("entryName"));return}if(!f.value){_(l("entryCredent"));return}if(!d.value.length||!c.value.length||!m.value.length){_(l("uploadComplete"));return}p.value!==0?N.push("/gooleVerify"):O({name:h.value,idnumber:f.value,frontFile:d.value,reverseFile:c.value,fileList:m.value,countryName:b.value}).then(()=>{_(l("submitSuccess")),N.push("/gooleVerify")}).catch(e=>{console.log(e),_(l(e.message))})};return(e,s)=>{const w=J,T=oe;return a(),u("div",ae,[t("div",ie,[t("div",{class:"flex items-center",onClick:s[0]||(s[0]=o=>e.$router.go(-1))},[...s[10]||(s[10]=[t("img",{src:Q,alt:"",class:"leftReturn"},null,-1)])]),t("div",{class:"textColor",onClick:s[1]||(s[1]=o=>e.$router.push("/gooleVerify"))},n(e.$t("skip")),1)]),x(te,{step:2}),t("div",ne,n(e.$t("realNameVertify")),1),r()||p.value===3?(a(),u("div",re,[t("div",ue,[t("div",de,n(e.$t("authVerify")),1),v.value[this.status]?(a(),u("div",ce,[t("img",{src:require(`@/assets/image/assets-center/${v.value[this.status]&&v.value[this.status].split("_")[0]}.png`),alt:"success img",class:"w-4.5 h-4.5"},null,8,me),t("div",pe,n(v.value[this.status]&&v.value[this.status].split("_")[1]),1)])):y("",!0)])])):y("",!0),t("div",null,[t("div",ve,[t("div",_e,n(e.$t("nationality")),1),t("div",{class:"pt-2 pb-2 pl-4 pr-19 flex justify-between items-center rounded inputBackground textColor",onClick:R},[t("div",fe,[t("div",{class:D(["iti-flag mr-8",b.value]),style:{transform:"scale(1.3)"}},null,2),t("div",null,n(g.value),1)]),v.value.length===0?(a(),u("img",he)):y("",!0)])]),x(U,{label:e.$t("realName"),placeholderText:e.$t("entryRealName"),modelValue:h.value,"onUpdate:modelValue":s[2]||(s[2]=o=>h.value=o)},null,8,["label","placeholderText","modelValue"]),x(U,{label:e.$t("credentPassport"),placeholderText:e.$t("entryCredentPassport"),modelValue:f.value,"onUpdate:modelValue":s[3]||(s[3]=o=>f.value=o)},null,8,["label","placeholderText","modelValue"]),t("div",null,[v.value.length>0?(a(),u("div",ye,n(e.$t("uploadCredentPassport")),1)):(a(),u("div",ge,n(e.$t("uploadPicCredentPassport")),1)),t("div",be,[t("div",xe,[t("div",Ce,[[1,2].includes(p.value)&&d.value.length===0?(a(),u("img",Ve)):(a(),C(w,{key:1,modelValue:d.value,"onUpdate:modelValue":s[4]||(s[4]=o=>d.value=o),"max-count":1,disabled:r(),deletable:!r(),"after-read":$,onClickUpload:s[5]||(s[5]=o=>k("frontFile"))},null,8,["modelValue","disabled","deletable"]))]),t("div",ke,n(e.$t("credentFront")),1)]),t("div",$e,[t("div",we,[[1,2].includes(p.value)&&c.value.length===0?(a(),u("img",Ne)):(a(),C(w,{key:1,modelValue:c.value,"onUpdate:modelValue":s[6]||(s[6]=o=>c.value=o),"max-count":1,disabled:r(),deletable:!r(),"after-read":$,onClickUpload:s[7]||(s[7]=o=>k("reverseFile"))},null,8,["modelValue","disabled","deletable"]))]),t("div",Fe,n(e.$t("credentObverse")),1)]),t("div",Ue,[t("div",Be,[[1,2].includes(p.value)&&m.value.length===0?(a(),u("img",Ie)):(a(),C(w,{key:1,modelValue:m.value,"onUpdate:modelValue":s[8]||(s[8]=o=>m.value=o),"max-count":1,disabled:r(),deletable:!r(),"after-read":$,onClickUpload:s[9]||(s[9]=o=>k("fileList"))},null,8,["modelValue","disabled","deletable"]))]),t("div",je,n(e.$t("handCredent")),1)])])]),r()?y("",!0):(a(),u(G,{key:0},[t("div",Re,n(e.$t("photoExample")),1),s[11]||(s[11]=t("img",{src:W,alt:"",style:{width:"100%",height:"auto"},class:"w-auto h-56 mb-24"},null,-1))],64)),x(T,{class:"w-full",style:{"margin-top":"10px"},type:"primary",onClick:P},{default:M(()=>[H(n(e.$t("nextStep")),1)]),_:1}),r()?y("",!0):(a(),C(se,{key:1,ref_key:"controlChildRef",ref:F,title:e.$t("selectNation"),onGetName:S},null,8,["title"]))])])}}},lt=L(Se,[["__scopeId","data-v-88ff1321"]]);export{lt as default};
