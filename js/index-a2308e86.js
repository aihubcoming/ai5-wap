import{_ as se,v as te,u as oe,ak as ae,r as c,l as le,au as re,bW as ne,bX as ce,bY as ie,I as de,S as ue,o as u,c as _,e,g as B,F as D,m as T,t as s,f as r,n as i,d as f,w as _e,s as $}from"./index-8f557042.js";import{_ as ve}from"./no-data-7bcd7527.js";import{g as pe,l as fe,m as he,n as Ae}from"./trade.api-de47551a.js";const be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAqCAYAAAAwPULrAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD/SURBVHgB7ZjRDYJAEETnDAXYgdgJdqAdaAVailagJdiBlmAJlGAHuMSY8OPCTtaTkH3JQS57IQPMbA6AEZPaQ9M0lZxuGBkzjJgQx1IotRXys5ex/ky+iksp3ZEZCea2Ow/PsYQ4lmLoQjHrQU5zZclDQnSFI4PF4R3zUqlfZLiKC8+xWF7rQ0bdU3dlsDgx+waZCc+xWPpcCWfEKrVWtwSi3caXcERueKkJDM+xTKYJu2/b3QLRd6FfEJ5jsTThM5z7nLDT7GIJRAV/cSrhORbLaz1B/8BheGpFS587IjPhOZbJBIJGGjgYCuWCFXxIhrWL7kR7cn//ux6BYHkBUyIsxzlGo+EAAAAASUVORK5CYII=";const me={class:"pb-10"},ge={class:"container-box"},ye={class:"header mb-2"},xe={class:"icon back"},ke={class:"icon-group"},Ce={class:"tabs flex"},we=["onClick"],Ie={key:0,class:"profit"},Be={key:1,class:"profit"},Oe={class:"card-info"},Re={class:"flex"},Se={class:"flex-l flex-1"},Le={class:"flex-r w-100"},Pe={class:"flex"},Je={class:"flex-l flex-1"},Qe={class:"flex-r w-100"},Ue={class:"flex"},Ee={class:"flex-l flex-1"},je={class:"flex-r w-100"},Ye={class:"symbol-list"},ze=["onClick"],De={class:"symbol-list-top"},Te={class:"item-l flex-1"},$e={class:"symbol-name"},Fe={key:0,class:"price-change"},We={class:"price-l"},Ve={key:1,class:"price-change"},Ze={class:"price-l"},Ge={class:"item-r flex-1"},Me={class:"tile"},Xe={class:"volume-box"},Ke={class:"symbol-list-bottom"},He={class:"bottom-l flex-1"},Ne={class:"order-info"},qe={class:"margin"},es={class:"id"},ss={class:"date"},ts={class:"bottom-r"},os={key:2,class:"no-data"},as={class:"popup-container"},ls={class:"title"},rs={class:"symbol-list-item"},ns={class:"symbol-list-top"},cs={class:"item-l flex-1"},is={class:"symbol-name"},ds={key:0,class:"price-change"},us={class:"price-l"},_s={key:1,class:"price-change"},vs={class:"price-l"},ps={class:"item-r flex-1"},fs={class:"tile"},hs={class:"volume-box"},As={class:"card-info flex"},bs={class:"card-item flex-1"},ms={class:"name"},gs={class:"num"},ys={class:"card-item flex-1"},xs={class:"name"},ks={class:"num"},Cs={class:"symbol-list-bottom"},ws={class:"bottom-l flex-1"},Is={class:"order-info"},Bs={class:"margin"},Os={class:"id"},Rs={class:"date"},Ss={class:"bottom-r"},Ls={class:"text"},Ps={class:"arrow"},Js={class:"text"},Qs={class:"arrow"},Us={__name:"index",setup(Es){const{t:l}=te.exports.useI18n(),O=oe(),F=ae(),v=c(0),W=c([{title:l("\u6301\u4ED3")},{title:l("entrustOrder")}]),V=c(!1),h=c([]),Z=c(!1),G=c(!1),y=c(1);let b=c("orders");const M=c(0),x=c("\u221E"),k=c(0),S=c(0),C=c(0),w=c(0),R=c(null);c(!1);const m=c(!1),o=c({});le(async()=>{L(),P(),J(),g(),R.value=setInterval(()=>{g(),L(),v.value===0?P():J()},5e3)}),re(()=>{R.value&&clearInterval(R.value)});const X=()=>{F.query.from==="trade"?O.push("/trade/index?tabActive=2&navActive=0"):O.back()},K=n=>{o.value=n,console.log(n,"item11111"),m.value=!0},H=n=>{v.value=n,b.value="orders",y.value=1,h.value=[],g()},g=()=>{let n={type:b.value,page_no:y.value,page_size:"all",symbolType:"forex"};(v.value===0?pe:fe)(n).then(d=>{Z.value=!1,h.value=d,h.value.length===0&&y.value===1&&(V.value=!0),d.length===0&&(G.value=!0)})},L=()=>{ne().then(n=>{M.value=n.total,k.value=n.money_wallet,S.value=n.money_contract_profit})},P=()=>{let n={type:b.value,page_no:1,page_size:"all"};ce(n).then(a=>{var d,I;x.value=(d=a.deposit_all)!=null?d:"--",C.value=(I=a.profitAndLoss)!=null?I:"--"})},J=()=>{let n={type:b.value,page_no:1,page_size:"all"};ie(n).then(a=>{var d;w.value=(d=a.expectedProfitAndLoss)!=null?d:"--"})},N=n=>{he({order_no:n}).then(d=>{$(l("SuccessfulOperation")),m.value=!1,g()})},q=n=>{let a={order_no:n};b.value="orders",y.value=1,h.value=[],Ae(a).then(d=>{$(l("submitSuccess")),m.value=!1,g()})},ee=(n,a)=>{O.push(n)};return(n,a)=>{var Q,U,E,j,Y;const d=de,I=ue;return u(),_("section",me,[e("div",ge,[e("header",ye,[e("div",{class:"flex-l",onClick:X},[e("div",xe,[B(d,{name:"arrow-left",size:"20"})])]),e("div",ke,[e("div",{class:"icon record",onClick:a[0]||(a[0]=t=>ee("/history"))},[...a[4]||(a[4]=[e("img",{src:be,alt:""},null,-1)])])])]),e("div",Ce,[(u(!0),_(D,null,T(W.value,(t,p)=>(u(),_("div",{class:i(["tab-item flex-1",[v.value===p?"active":""]]),onClick:A=>H(p),key:t},s(t.title),11,we))),128))]),v.value===0?(u(),_("div",Ie,[e("p",null,s(r(l)("ProfitAndLoss")),1),e("p",{class:i({value:!0,green:C.value>0,red:C.value<=0})},s(C.value),3)])):f("",!0),v.value===1?(u(),_("div",Be,[e("p",null,s(r(l)("ExpectedProfitAndLoss")),1),e("p",{class:i({value:!0,green:w.value>0,red:w.value<=0})},s(w.value),3)])):f("",!0),e("div",Oe,[e("ul",null,[e("li",Re,[e("div",Se,s(r(l)("netWorth")),1),e("div",Le,s((Q=k.value)!=null?Q:"--"),1)]),e("li",Pe,[e("div",Je,s(r(l)("advancePaymentRatio")),1),e("div",Qe,s((E=`${(((U=k.value)!=null?U:0)/(typeof x.value=="number"&&x.value!==0?x.value:1)*100).toFixed(2)}%`)!=null?E:"--"),1)]),e("li",Ue,[e("div",Ee,s(r(l)("prepaymentAvailable")),1),e("div",je,s((Y=(j=k.value)!=null?j:0*1+S.value)!=null?Y:0*1),1)])])]),e("div",Ye,[e("ul",null,[(u(!0),_(D,null,T(h.value,t=>{var p,A;return u(),_("li",{class:"symbol-list-item",key:t,onClick:z=>K(t)},[e("div",De,[e("div",Te,[e("p",$e,s(t.symbol),1),v.value!==1?(u(),_("p",Fe,[e("span",We,s(t.trade_avg_price),1),a[5]||(a[5]=e("span",{class:"arrow"},"\u2192",-1)),e("span",{class:i({"price-r":!0,green:t.mark_price-t.trade_avg_price>0,red:t.mark_price-t.trade_avg_price<0})},s(t.mark_price),3)])):f("",!0),v.value===1?(u(),_("p",Ve,[e("span",Ze,s(t.price),1),a[6]||(a[6]=e("span",{class:"arrow"},"\u2192",-1)),e("span",{class:i({"price-r":!0,green:t.mark_price-t.price>0,red:t.mark_price-t.price<0})},s(t.mark_price),3)])):f("",!0)]),e("div",Ge,[e("p",Me,s((t==null?void 0:t.order_price_type)==="opponent"?r(l)("\u5E02\u4EF7"):r(l)("\u9650\u4EF7")),1),e("div",Xe,[e("div",{class:i({volume:!0,"green-border":t.direction==="buy","red-border":t.direction!=="buy"})},[e("span",{class:i({"volume-l":!0,"green-bg":t.direction==="buy","red-bg":t.direction!=="buy"})},s(t.direction=="buy"?r(l)("Buy"):r(l)("Sell")),3),e("span",{class:i({"volume-r":!0,green:t.direction==="buy",red:t.direction!=="buy"})},s(`${t.volume_open/((p=t.lever_rate)!=null?p:1)} * ${(A=t.lever_rate)!=null?A:1} x`)+" "+s(r(l)("volume")),3)],2)])])]),e("div",Ke,[e("div",He,[e("div",Ne,[e("p",qe,s(r(l)("margin"))+": "+s(t.deposit),1),e("p",es,s(r(l)("orderId"))+": #"+s(t.order_no),1),e("p",ss,s(t.create_time),1)])]),e("div",ts,[e("p",{class:i({"profit-num":!0,green:t.profit>0,red:t.profit<0})},s(t.profit),3)])])],8,ze)}),128))])]),h.value.length===0?(u(),_("div",os,[...a[7]||(a[7]=[e("img",{src:ve,alt:""},null,-1)])])):f("",!0),B(I,{show:m.value,"onUpdate:show":a[3]||(a[3]=t=>m.value=t),round:"",position:"bottom",closeable:"","close-icon-position":"top-left",style:{height:"450px"}},{default:_e(()=>{var t,p,A;return[e("div",as,[e("p",ls,s(r(l)("orderInfo")),1),e("div",rs,[e("div",ns,[e("div",cs,[e("p",is,s(o.value.symbol),1),v.value===0?(u(),_("p",ds,[e("span",us,s(o.value.trade_avg_price),1),a[8]||(a[8]=e("span",{class:"arrow"},"\u2192",-1)),e("span",{class:i({"price-r":!0,green:o.value.mark_price-o.value.trade_avg_price>0,red:o.value.mark_price-o.value.trade_avg_price<0})},s(o.value.mark_price),3)])):f("",!0),v.value===1?(u(),_("p",_s,[e("span",vs,s(o.value.price),1),a[9]||(a[9]=e("span",{class:"arrow"},"\u2192",-1)),e("span",{class:i({"price-r":!0,green:o.value.mark_price-o.value.price>0,red:o.value.mark_price-o.value.price<0})},s(o.value.mark_price),3)])):f("",!0)]),e("div",ps,[e("p",fs,s(((t=o.value)==null?void 0:t.order_price_type)==="opponent"?r(l)("\u5E02\u4EF7"):r(l)("\u9650\u4EF7")),1),e("div",hs,[e("div",{class:i({volume:!0,"green-border":o.value.direction==="buy","red-border":o.value.direction!=="buy"})},[e("span",{class:i({"volume-l":!0,"green-bg":o.value.direction==="buy","red-bg":o.value.direction!=="buy"})},s(o.value.direction=="buy"?r(l)("Buy"):r(l)("Sell")),3),e("span",{class:i({"volume-r":!0,green:o.value.direction==="buy",red:o.value.direction!=="buy"})},s(`${o.value.volume_open/((p=o.value.lever_rate)!=null?p:1)} * ${(A=o.value.lever_rate)!=null?A:1} x`)+" "+s(r(l)("volume")),3)],2)])])]),e("div",As,[e("div",bs,[e("p",ms,s(r(l)("Interest")),1),e("p",gs,s(o.value.profit),1)]),e("div",ys,[e("p",xs,s(r(l)("fee")),1),e("p",ks,s(o.value.fee),1)])]),e("div",Cs,[e("div",ws,[e("div",Is,[e("p",Bs,s(r(l)("margin"))+": "+s(o.value.deposit),1),e("p",Os,s(r(l)("orderId"))+": "+s(o.value.order_no),1),e("p",Rs,s(o.value.create_time),1)])]),e("div",Ss,[e("p",{class:i({"profit-num":!0,green:o.value.profit>0,red:o.value.profit<0})},s(o.value.profit),3)])]),v.value===0?(u(),_("div",{key:0,class:"custom-button",onClick:a[1]||(a[1]=z=>N(o.value.order_no))},[e("span",Ls,s(r(l)("cover")),1),e("span",Ps,[B(d,{name:"success"})])])):(u(),_("div",{key:1,class:"custom-button",onClick:a[2]||(a[2]=z=>q(o.value.order_no))},[e("span",Js,s(r(l)("cancel")),1),e("span",Qs,[B(d,{name:"success"})])]))])])]}),_:1},8,["show"])])])}}},Ds=se(Us,[["__scopeId","data-v-3ffcff6e"]]);export{Ds as default};
