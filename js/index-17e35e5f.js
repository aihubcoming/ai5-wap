import{_ as p}from"./index-dcaf8145.js";import{aj as k,S as g,bK as x,cx as w,cv as I,cy as y,bz as S,aN as b,ax as T,_ as H,cz as B,cA as U,o as n,c as a,e as l,b as L,d as c,F as h,g as m,t as r,n as f,w as N,m as j,I as q}from"./index-16c70849.js";import{_ as R,a as E}from"./black-convert-e248d682.js";import{_ as F,a as G}from"./icon-star-8ef24b6e.js";import{_ as z}from"./index-cbae724b.js";const D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFYSURBVHgB7dfhTcMwEIbhL4j/ZISM0A0wG9AJgAlgA8IEjAAdgQkIG8AGHqEbHHdqlbqt4zqNEl8qP5JVKYmqV6lrJ0CWZS0iKnlUmNgVhvngUWEu+A6/04bBHHDoK+0YaHcQrD+aA5/pmIFWHPdAfgYacdiCuhlM7OSSt12Hv6FIMNoJLqFI0XXCCa4Qtt6OsXwVRfHiHrj2XSXbM+KCRYlxf4mbwwNH06NncBK+OS3PEwsothctzxP8cQ/l2jnNwRIrd7iBLn/IsgvX7oiU4F0v0pp3xL0d142WDcVAF8vjjqOte3Doi+2YLDzBQmu0TIelL1hojZbg366TGqOfOLgJXeA+mq54/GA8tzj9R3/j4E9owatTTWF17HdpmR5yh+vYizVEr/oEi9TRDQc/oqeU0bKkLXGGVNEWm7X4rLf4FNEWHdtzrKmjLQYGiymjg88TWZbNzD/6++dHtzeCtQAAAABJRU5ErkJggg==";const A=k(),Q=A.theme,V={name:"contractHeader",props:{tabIndex:{type:String,default:null},backFunc:{type:Function,default:null},symbol:{type:String,default:""},range:{type:String,defalult:""},islevel:{type:Boolean,defalult:!1},title:{type:String,defalult:"--"},isNight:{type:Boolean,defalult:!1},isChange:{type:Boolean,defalult:!1},isTrade:{type:Boolean,defalult:!1},kineType:{type:String,defalult:""},isReturn:{type:Boolean,defalult:!1},symbolName:{type:String,defalult:""}},components:{[g.name]:g,addCurrency:p},computed:{...x({coinList:"home/coinList"})},data(){const e=[];for(let t=0;t<10;t++)e.push({id:t});return{THEME:Q,show:!1,timeout:null,collected:"0",list:e,isCollect:!1,queryType:"cryptos",leftIcon:new URL(Object.assign({"../../../assets/theme/dark/image/black-convert.png":R,"../../../assets/theme/white/image/black-convert.png":E})[`../../../assets/theme/${A.theme}/image/black-convert.png`],self.location)}},watch:{symbol(e){if(this.getIsItemHasAddGlobal(),this.islevel&&this.$emit("changeLine",!0),this.islevel&&this.$store.state.user.userInfo.token){let t=this.$route.params.symbol;w(t).then(i=>{const{status:_}=i;this.collected=_})}}},created(){this.islevel&&this.$store.state.user.userInfo.token&&this.$route.params.symbol,this.$route.query.type&&(this.queryType=this.$route.query.type)},methods:{handleImage:I,handleImage(e){return new URL(e,import.meta.url).href},onRoute(e){this.islevel?this.$route.params.symbol!==e.symbol&&(this.$router.push(`/cryptos/trendDetails/${e.symbol}?type=${this.$route.query.type}`),this.kineType?y("tradeSymbol",e.symbol):y("symbol",e.symbol),this.$emit("update-coin",e.symbol),this.$forceUpdate()):this.$route.params.symbol!==e.symbol&&(this.$router.push(`/cryptos/trade/${e.symbol}`),y("tradeSymbol",e.symbol),this.$emit("update-coin",e.symbol),this.$forceUpdate()),this.show=!1},onSidebar(){this.coins=this.coinList.map(e=>e.symbol),this.show=!0,this.fetchList()},fetchList(){S(this.coins.join(",")).then(e=>{this.list=e,this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout(()=>{this.fetchList()},1e3)})},onClose(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},jump(){this.$router.push(`/cryptos/trendDetails/${this.symbol}?type=${this.$route.query.type}`)},changeTab(e){this.$emit("tab",e)},goBack(){this.backFunc?this.backFunc():this.$router.go(-1)},goRouter(e){this.$router.push(e)},onCollect(){let e=B;this.collected==="1"&&(e=U),e(this.symbol).then(t=>{this.$store.state.user.userInfo.token&&(this.collected=this.collected==="1"?"0":"1",this.collected==="1"?b(this.$t("\u6536\u85CF\u6210\u529F")):b(this.$t("\u53D6\u6D88\u6536\u85CF")))})},changeBg(){this.$emit("changeNight",!this.isNight)},backPath(){var e;((e=this.$route.query)==null?void 0:e.from)==="trade"?this.$router.push("/trade/index?tabActive=1"):this.$route.query.isOptional==1?this.$router.push("/optional/index"):this.$router.push("/quotes/index?tabActive=1")},openCurrency(){this.$refs.addCurrencyRef.openCurrency(this.symbol)},getIsItemHasAddGlobal(){let e={symbol:this.symbol};T(e).then(t=>{this.isCollect=t})}}},X={class:"contract-header text-28"},Y={class:"pl-8 pr-8"},K={class:"flex justify-between pt-11"},W={class:"flex items-center"},J=["src"],O=["src"],P={key:0,class:"text-36 textColor ml-5"},M={key:0,class:"flex items-center"},$={class:"pl-10 pr-10 text-28"},Z={class:"flex justify-between mb-10 mt-13"},ee={class:"flex items-center text-grey"},te={class:"mr-3 text-28"},se={class:"flex text-grey"},ie={class:"flex items-center"},le={class:"text-28"},oe={class:"flex items-center"},ne={class:"mr-3 text-28"},ae=["onClick"],re={class:"font-bold textColor text-28"},ce={key:0,class:"text-grey mt-2 text-28"},de={class:"text-right"},he={class:"textColor text-28"};function me(e,t,i,_,d,o){const u=q,v=g,C=p;return n(),a("div",null,[l("div",X,[l("div",Y,[l("div",K,[l("div",W,[i.isReturn?(n(),L(u,{key:0,name:"arrow-left",size:"20",onClick:t[0]||(t[0]=s=>o.backPath())})):c("",!0),i.isChange?c("",!0):(n(),a("img",{key:1,src:o.handleImage(d.leftIcon),alt:"convert-img",class:"ml-10 w-9 h-9",onClick:t[1]||(t[1]=(...s)=>o.onSidebar&&o.onSidebar(...s))},null,8,J)),i.isChange?(n(),a(h,{key:2},[i.isNight?(n(),a(h,{key:0},[m(u,{name:"arrow-left",size:"20",onClick:t[2]||(t[2]=s=>o.backPath())}),l("img",{src:D,alt:"convert-img",class:"ml-10 w-9 h-9",onClick:t[3]||(t[3]=(...s)=>o.onSidebar&&o.onSidebar(...s))})],64)):(n(),a(h,{key:1},[m(u,{name:"arrow-left",size:"20",onClick:t[4]||(t[4]=s=>o.backPath())}),l("img",{src:o.handleImage(d.leftIcon),alt:"convert-img",class:"ml-10 w-9 h-9",onClick:t[5]||(t[5]=(...s)=>o.onSidebar&&o.onSidebar(...s))},null,8,O)],64))],64)):c("",!0),l("div",{class:"flex flex-col pl-21",onClick:t[6]||(t[6]=(...s)=>o.onSidebar&&o.onSidebar(...s))},[i.isChange?c("",!0):(n(),a("div",P,r(i.symbol.toUpperCase()||"--")+"/USDT",1)),i.isChange?(n(),a("div",{key:1,class:f(["text-36",i.isNight?"text-white":"text-black"])},r(i.symbol.toUpperCase()||"--")+"/USDT",3)):c("",!0)]),i.range?(n(),a("div",{key:3,class:f(["pl-8",{"text-green":i.range>0,"text-red":i.range<=0}])},r(i.range>0?"+":"")+r(i.range||"--")+"%",3)):c("",!0)]),i.islevel?(n(),a("div",M,[d.isCollect?(n(),a("img",{key:0,src:F,class:"w-8 h-8 mr-2 ml-4",onClick:t[7]||(t[7]=(...s)=>o.openCurrency&&o.openCurrency(...s))})):(n(),a("img",{key:1,src:G,class:"w-8 h-8 mr-2 ml-4",onClick:t[8]||(t[8]=(...s)=>o.openCurrency&&o.openCurrency(...s))}))])):c("",!0),i.isTrade?(n(),a("img",{key:1,src:z,class:"w-11 h-11 right",alt:"",onClick:t[9]||(t[9]=s=>e.$router.push(`/cryptos/trendDetails/${i.symbol}?kineType=trade`))})):c("",!0)])]),m(v,{class:"popup",round:"",show:d.show,"onUpdate:show":t[10]||(t[10]=s=>d.show=s),"close-icon-position":"top-left",position:"left",onClosed:o.onClose},{default:N(()=>[l("div",$,[l("div",Z,[l("div",ee,[l("div",te,r(e.$t("\u540D\u79F0")),1)]),l("div",se,[l("div",ie,[l("div",le,r(e.$t("\u6700\u65B0\u4EF7\u683C")),1)]),l("div",oe,[l("div",ne,"/24H"+r(e.$t("\u6DA8\u8DCC")),1)])])]),(n(!0),a(h,null,j(d.list,s=>(n(),a("div",{class:"flex justify-between mb-12",key:s.name,onClick:ue=>o.onRoute(s)},[l("div",null,[l("div",re,r(s.name||"--"),1),i.kineType?c("",!0):(n(),a("div",ce,r(i.title),1))]),l("div",de,[l("div",he,r(s.close),1),l("div",{class:f(["mt-2 text-28",s.change_ratio>0?"text-green":"text-red"])},r(s.change_ratio)+"%",3)])],8,ae))),128))])]),_:1},8,["show","onClosed"])]),m(C,{ref:"addCurrencyRef",onUpdateItem:o.getIsItemHasAddGlobal,isCollect:d.isCollect},null,8,["onUpdateItem","isCollect"])])}const pe=H(V,[["render",me],["__scopeId","data-v-6602ec7f"]]);export{pe as _};
