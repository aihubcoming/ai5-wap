import{_ as T,a as D,v as W,u as Y,r as u,l as H,bW as ae,au as M,o as i,c as d,e,t as a,f as p,g as b,w as m,h as X,ak as se,bB as oe,cb as N,S as ne,F as I,m as S,i as re,aY as ue,n as j,d as R,b as x,s as ie}from"./index-8f557042.js";/* empty css               *//* empty css               */import{f as O}from"./index-d6be2e07.js";/* empty css              */import{B as ce}from"./index-f30e4bd7.js";import{g as Ae,l as ve,n as de}from"./trade.api-de47551a.js";import{P as pe}from"./index-eedea0e9.js";import{C as fe}from"./index-158dc407.js";const he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA/CAYAAAC8aKvcAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGLSURBVHgB7ZvvUcJAEEcfDAXQgduBloAd2IHYgSVgKVaAHYAVWIJYgXSAtwb1gxEhyf1b9s38viSTybxk7+bukhvxm1nIbYiQhruQDRmQkJeQXeK8ku7hfiP7G+8yJbn0knyyyaUF2BWS6NLjkBvKQUJWRJSehEz/OLcJeWR4Ljn8kIVG+ppIvfeC9vJaE4c5Gct7TLkIEcq7ZGFFGFi6dGFFGFC6BmFFGEi6FmFFGEC6JmFF6Cldm7Ai9JCuUVgROkrXKqwIHaRrFlaEE6VrF1aEE6QtCCtCM0b/FyvCR3N2whPS80S/qacuR13RkRzC2336XN8Zb8PWcWHruLB1XNg6LmydHEPLvryFPPPz3Wm6z1FDzhqF5/TA27B1XNg6LmwdF7aOC1vHha3jwtYpaXqoc9olcdmWJjwjLhtvw9ZxYesc6rQuaH4ej8Gi5ZiuOj4Ql8+VzXvSb+aYkgkt6TXpyb6xRH/sSvmGV2RGSLsz7Z2MZf2FkFZ6QQZGLcfmNEM8IS7aYyZvyx+wHyi8qv9WfwAAAABJRU5ErkJggg==",ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA/CAYAAABXXxDfAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALdSURBVHgB7ZtPchJBFMa/7iAEywU3EE4QOIHjJkVYjSeQHIETBG+gJwiewE6VAskm4w3wBI4ncDZiFjLtewQMGohOz1Q5TfevimL+McU33fP69dfdAjnpdsNAC4S0+VQADZQQDSRC44I2o+lUxevjAoYEQdioP8Y5bYawBY14scDg6kop3pUwpF7HNWwSzgg0Dyp4d3wchre7BlBVPxMSQ9hL8n2OllHJC4E+7KZRq6OfWXyvF7a5+sByqACPKshImqIhdjwyiqqvYAjd8kjniCH0/o5S4Mu94xrP6GSw5fpWZvEPMR2rIQzp9sK+yCE+lXg7fa+iLfcd0n2Dbb8xjvb7gBfvKk6L/xXwKHFp0lfz5gazKFIJHGBZ8iT8nJqvz/S5pnz9K2dwcABJQvskur95kFNX7q1hz5HU2r/cdoK6qW3sOTsDHqV/peybF4lv6lzFi3cVL95VrBFPTe8nFIwN4mda4vn4g2qT03NK+zEKorTiqaQT8sUGk7HqrB0acopGtSo6Ioddtkl5xKeIloJx68fNv6E1majXf16mlErGZJfpFC267mJ1OMaP7DWiUA8vDzyMRJ2pDg6BibobUnroevoK2U2ezxGbdMNLI57ZHEf7V6gWzGCIb+pcxYt3FS/eVbx4V/HiXcWLdxUv3lX8+HwWpESid5w76YUaFpG55KvV4gzE/0mqMcssnj00MhYjWI44gDKdfjqAxbBByo6wkXj2zcg9PYWdzMjwXBaecbQns3HE9jFtfoQFsC3Ofj+PA6yd3lzu7cptDXjhweGTEk9jqSDeZocXYl2vnmQEy/AZnqt48a6yM+DxCgWeqI+yk1LCYjDGx4juSTgSO2Zh2kK6wODy8v5w9t+QQsJ4lLMsyAOcca6BjMjaI4zWkwIsxijJktxLszhPv8NgZsYy2k8o96Nu6gvA0r66xhuToPfbctLlaguJgJ4IWzKln3VNf55f19nYcEnbT7432/fpyamlAAAAAElFTkSuQmCC",me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAA/CAYAAABNY/BRAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMySURBVHgB7ZpfVtpAFId/M/KAfcoOSldQd2B4EnkxrkBcge5AXIGnK6hdgekLcvCBuALoChp3wFPl9CjTe6fRAg0hf0aYePKdgwGTDPNlhsncuRFYotXyXEicQKGBTaBw2u/7IQwgXt6QREMI3NB/9rBJFEKl0DQhpGUikSF9amAbGBKS/EdIXG1NRFcA+mLyRUUBhG4ViZ+wgYItJMUOPNhCwRaq0ZVwRPy+UAHfYBjq15+p3NUXkIWghTK3UC1h30O/53dhmFbb6wis6Q05hSRsJUeXs1eGyShktwyTQch+GSalUDlkmBRC5ZFh1giVS4ZJECqfDLNCqJwyTIxQeWWYJaFyyzBzQjW8BzgWE+iUv2XmeFcyG+9m01/w6w4C5ET+xg3FQ7GLLhuXCQJ/QpsJctI69CZiRTRZ/WZspZKxlUrGVioZW6lkbKWSsZVUMp7nOa7rObCcVDLTKZzdXQxtF0ofAlDiNhJqRtP4WFi4XqeUhcS+UNij2MMRUYqRckEh/uZ9fqhnBIOB78Mg2eKZBCG9QiLQlQJHLBAdj/nQI5Li3ItL33x2eOiFSlCgNsOliWxz9gHgn5CuMG+pUlecF6XKnryKpCuLxTp07oguxgUKkm80i4TabY+3I/p8vvJQoaPKB35F7+NwSKhLF2VUJOOcP2wW+vcwQnwIe0/7rjnej+2OEi63CH3cXy4zbz6TMb0GcK9m6CRVJNp3za8obT+k943XAwokaI3dNKkCl7c9381SAT6WzvnE5y4VxquUX5ERYzI07B7lvQ/1KKsdI+QeHHjnyIC56czSKJeVOCG5g4ss5ZmdmxkQglpYIHTqH5C6dcxPNAsKUXe9XCwOZylPfaNZcwEhGhQCbh19T1L4oiSO056bamimudZk+oQmMkLnsUzmpdjHRxwnzf9WkUrG93XBATZEHhGmijRtpZKxlaQB4GOr7XVhGSLheetaNJ7HwbPXwgGTcVZkzehmO5FCbW7IfUtmTwgkzYfGKLkQdazvd3f+WA8A1ESntAlRTkJaENGTUS3DQRJFiE2UT2jM9X4JCP/7OelHdRUtBW3zcfp1CITPM/iD28V1tz99NzBrNJYBmQAAAABJRU5ErkJggg==",ye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5CAYAAACMGIOFAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMZSURBVHgB7ZrNcZtAFMf/i5SMbqEEuQO5gqCDxyjjA6kgcgfuQFIFcSqQ0gGHRNaMD5E6SAded6BT4kPC5j0MCSIgYMHJsOZ30PCxessf9uPteyuQwnU9Rwl4QuAV2sc9Amw3G3+bvCjiAxI3pLMliXPQdhSkUhiTWMmnoUgWSOK+0NkQppAQavG5cQIZ0kO6luEh90FhkUhDUQHGFiwD+uAReBDtU9sd/hl+DpB0fYe2oPCafofpyzxL9PP/Q0PxZ/8SLcGdeCuRM65YeAZ0Ik3hWYjsoyahO5hB7FKVxXE8ezCA3YStNLVFkiNxl3XdvfDGm0+HjvIxSODoiFMiUIOuT5pCJ9IUOpGm0Ik0hU6kKXQiTaETaQq1l1oU8Fpk3vhB0b5qyFxbNaktcrP252iAaGE8xxPQNdeynJ15o14Po+hUplNnOraCAHtK2MjbW/8ralJLJOdRKDAxS6f7JhOPM0oLErsqa4v+c0V2ZtQvwzhPzzqwNa4T59Furq779h3HZDLzmZxRsrCklzArZ4vKCbyPBWbYuuP6oImWyDCfaalVUTl6uPn5uXdVYGvK5VBoS13nRQaL0PuSovwoaPVw9GtyE0U57DjfWBUtkVRZlaZj82CSdSPq00OUrhgjaFBZpE6T6b3IeTircnbb1qn/n8yTgcIeDfHwUN1WZZE8lFNzrVSRynHxqPKqc6Dcbv2nF8nQl/lQoXjuhL5e03WFLUpCuYLSZZNoiRy8xDVQzgHnjQlH76vSTrkkL0jLgdcS6fv+Pnp4mVeGmzS9+csiT4VdQLJVlLaXXJ+u16M98HCFoVCFj0iIjfrrLviJU2qOq5K2VmTrJLKFpC16UYvv33Bax62r5btGFU/5OMwv2rBvfL2HSdiaut7jNKFrK00jqxAmGvUamSo2DYmL6WI8ptCJNIXcgUcoOO4bT2tp8z8Qj3vrMunn+qG8Io+mh1aQvz/k3qJJ2IfJWNiG+ilYxDuXHZiHvFn7J+HAQ04y+44SZiHjxUEo8rcfao7QXdKh/6u7uhcUdwngiDZuvOeAdA9+ervbL8YWGfMOAR68AAAAAElFTkSuQmCC";const be={class:"fx-account px-4 pt-4"},Ce={class:"font-bold text-3xl"},_e={class:"text-lg mt-2"},ke={class:"mt-2 text-gray"},we={class:"text-3xl font-bold"},Fe={class:"flex mt-2 gap-x-4"},Qe={class:"flex-1 flex flex-col gap-y-2"},Ue={class:"text-gray"},Be={class:"text-xl font-bold"},Ie={class:"flex-1 flex flex-col gap-y-2"},Se={class:"text-gray"},xe={class:"text-xl font-bold"},Ee={__name:"index",setup(q){const s=D();W.exports.useI18n();const k=Y(),w=u("--"),F=u("--"),E=u("--"),Q=u(null),n=c=>{k.push(c)};H(()=>{f(),Q.value=setInterval(()=>{f()},1e3)});const f=()=>{ae().then(c=>{w.value=c.total,F.value=c.money_wallet,E.value=c.money_contract_profit||"--"})};return M(()=>{Q.value&&clearInterval(Q.value)}),(c,C)=>{const y=ce;return i(),d("div",be,[e("h1",Ce,a(c.$t("trade")),1),e("div",_e,[e("span",null,a(p(s).userInfo&&p(s).userInfo.username)+"(USD)",1)]),e("p",ke,a(c.$t("balance")),1),e("div",we,a(w.value),1),e("div",Fe,[e("div",Qe,[e("p",Ue,a(c.$t("netWorth")),1),e("p",Be,a(F.value),1),b(y,{type:"primary",onClick:C[0]||(C[0]=v=>n("/exchange/channel-in"))},{default:m(()=>[X(a(c.$t("recharge")),1)]),_:1})]),e("div",Ie,[e("p",Se,a(c.$t("UnrealizedProfit")),1),e("p",xe,a(E.value),1),b(y,{onClick:C[1]||(C[1]=v=>n("/exchange/channel-out"))},{default:m(()=>[X(a(c.$t("withdraw")),1)]),_:1})])])])}}},je=T(Ee,[["__scopeId","data-v-c566cb31"]]);const Re={class:"exchange-list pb-20"},Ge={class:"mt-2"},Le={class:"tabs flex"},Ne=["onClick"],Oe={key:0,class:"all-wrap"},Xe={key:2,class:"p-4"},Je={class:"popup-wrap"},Ve={class:"sell-warap flex"},Ze={class:"pair-left"},Pe={class:"order-no"},ze={class:"pair-right"},Ke={class:"title"},Te={class:"custom-title"},De={class:"custom-title"},We={class:"custom-title"},Ye={class:"custom-title"},He={__name:"List",setup(q){const{t:s}=W.exports.useI18n(),k=Y();se();const w=D(),F=u(""),E=()=>{k.push({path:"/exchange/warehouse",query:{checkInfo:JSON.stringify(n.value)}})},Q=u([{title:s("position"),value:""},{title:s("entrustOrder"),value:""}]),n=u({}),f=u([]),c=u(0);let C=u("orders"),y=u(!1),v=u(0);const J=u(!1),G=u(!1),U=u(1),V=u(!1),Z=u(!1),L=u(null);H(async()=>{let l=new Date;F.value=l.getFullYear(),B(),L.value=setInterval(()=>{B()},1e3)}),oe(()=>{(w.userInfo||!w.userInfo.token)&&(w.userInfo.token||k.push("/login"))}),M(()=>{L.value&&clearInterval(L.value)});const P=l=>l=="created"?s("ClosedPosition"):l=="limit"?s("limitOrder"):s("position"),$=()=>{Z.value=!1,J.value=!0,f.value=[],U.value=1,V.value=!1,B()},ee=l=>{v.value=l,C.value="orders",U.value=1,f.value=[],B()},z=l=>{y.value=!0,n.value=l},K=l=>{l===1?k.push("/order/"+n.value.symbol):l===2&&k.push(`/chart/index?symbol=${n.value.symbol}`)},te=()=>{let l={order_no:n.value.item.order_no};y.value=!1,C.value="orders",U.value=1,f.value=[],c.value=0,de(l).then(r=>{ie(s("submitSuccess")),B()})},B=()=>{let l={type:C.value,page_no:U.value,page_size:"all"};(v.value==0?Ae:ve)(l).then(h=>{if(J.value=!1,G.value=!1,v.value==0){let _=[];h.map(t=>{let o={listData:[{title:s("buySell"),value:t.direction=="buy"?s("buy"):s("sell")},{title:s("number"),value:`${t.volume_open/(t.lever_rate?t.lever_rate:1)}*${t.lever_rate?t.lever_rate:1}x`},{title:s("newPrice"),value:N(t.mark_price)},{title:s("AverageTransactionPrice"),value:N(t.trade_avg_price)},{title:s("openingTime"),value:t.create_time},{title:s("profit"),value:t.profit==0?"--":t.profit},{title:s("orderNumber"),value:t.order_no}],info:{name:t.name,symbol:t.symbol,status:t.state,item:t}};_.push(o)}),f.value=_}else{let _=[];h.map(t=>{let o={listData:[{title:s("buySell"),value:t.direction=="buy"?s("buy"):s("sell")},{title:s("number"),value:`${t.volume_open/(t.lever_rate?t.lever_rate:1)}*${t.lever_rate?t.lever_rate:1}x`},{title:s("price"),value:t.price},{title:s("state"),value:P(t.order_price_type)},{title:s("openingTime"),value:t.create_time},{title:s("orderNumber"),value:t.order_no}],info:{name:t.name,symbol:t.symbol,status:t.state,item:t}};_.push(o)}),f.value=_}v.value==1&&(c.value=h.length),Z.value=!0,f.value.length===0&&U.value===1&&(V.value=!0)})};return(l,r)=>{const h=fe,_=pe,t=ne;return i(),d("div",Re,[b(je),e("div",Ge,[e("div",Le,[(i(!0),d(I,null,S(Q.value,(o,A)=>(i(),d("div",{class:j(["tab-item",[p(v)===A?"active":""]]),onClick:g=>ee(A),key:A},a(o.title),11,Ne))),128))]),b(_,{modelValue:G.value,"onUpdate:modelValue":r[0]||(r[0]=o=>G.value=o),onRefresh:$},{default:m(()=>[p(v)===1?(i(),d("div",Oe,a(l.$t("executable"))+"("+a(c.value)+")",1)):R("",!0),p(v)===0?(i(!0),d(I,{key:1},S(f.value,o=>(i(),d("div",{class:"p-4",key:o},[b(O,{item:o.info},null,8,["item"]),(i(!0),d(I,null,S(o.listData,(A,g)=>(i(),x(h,{title:A.title,onClick:le=>z(o.info),key:g},{value:m(()=>[e("span",{class:j([g===0&&A.value==l.$t("buy")?"blue":"",g===0&&A.value==l.$t("sell")?"red":"",g===5&&A.value>0?"green":"",g===5&&A.value<0?"red":""])},a(A.value),3)]),_:2},1032,["title","onClick"]))),128))]))),128)):(i(),d("div",Xe,[(i(!0),d(I,null,S(f.value,o=>(i(),d("div",{key:o},[b(O,{item:o.info},null,8,["item"]),(i(!0),d(I,null,S(o.listData,(A,g)=>(i(),x(h,{title:A.title,onClick:le=>z(o.info),value:A.value,key:g},{value:m(()=>[e("span",{class:j([g===0&&A.value==l.$t("buy")?"blue":"",g===0&&A.value==l.$t("sell")?"red":""])},a(A.value),3)]),_:2},1032,["title","onClick","value"]))),128))]))),128))]))]),_:1},8,["modelValue"])]),b(t,{show:p(y),"onUpdate:show":r[3]||(r[3]=o=>re(y)?y.value=o:y=o),closeable:"",round:"",position:"bottom",style:ue({height:p(v)===0?"30%":"45%"})},{default:m(()=>[e("div",Je,[e("div",Ve,[e("div",Ze,[b(O,{item:n.value},null,8,["item"]),e("div",Pe,[X(a(l.$t("orderNumber"))+"\uFF1A",1),e("span",null,a(n.value.item.order_no),1)])]),e("div",ze,[e("div",Ke,a(P(p(v)==0?n.value.item.state:n.value.item.order_price_type)),1),e("div",{class:j(["text",[n.value.item.direction=="buy"?"blue":"red"]])},a(n.value.item.direction=="buy"?l.$t("buy"):l.$t("sell"))+" "+a(F.value)+"@"+a(p(N)(n.value.item.mark_price)),3)])]),p(v)===1&&n.value.item.state=="submitted"?(i(),x(h,{key:0,class:"cell-item-h"},{title:m(()=>[e("div",{class:"cell-warp flex",onClick:te},[r[4]||(r[4]=e("img",{src:he},null,-1)),e("span",Te,a(l.$t("cancelOrder")),1)])]),_:1})):R("",!0),p(v)===1?(i(),x(h,{key:1,class:"cell-item-h"},{title:m(()=>[e("div",{class:"cell-warp flex",onClick:r[1]||(r[1]=o=>K(1))},[r[5]||(r[5]=e("img",{src:ge},null,-1)),e("span",De,a(l.$t("newOrder")),1)])]),_:1})):R("",!0),p(v)===0?(i(),x(h,{key:2,class:"cell-item-h"},{title:m(()=>[e("div",{class:"cell-warp flex",onClick:E},[r[6]||(r[6]=e("img",{src:me},null,-1)),e("span",We,a(l.$t("closePosition")),1)])]),_:1})):R("",!0),b(h,{class:"cell-item-h",title:l.$t("open")+n.value.symbol+l.$t("chart")},{title:m(()=>[e("div",{class:"cell-warp flex",onClick:r[2]||(r[2]=o=>K(2))},[r[7]||(r[7]=e("img",{src:ye},null,-1)),e("span",Ye,a(l.$t("open"))+" "+a(n.value.symbol)+" "+a(l.$t("chart")),1)])]),_:1},8,["title"])])]),_:1},8,["show","style"])])}}},nt=T(He,[["__scopeId","data-v-6668bb5a"]]);export{nt as default};
