import{_ as L,v as N,u as $,r as a,l as j,au as F,bD as Q,L as V,I as D,o as l,c,b as q,d as z,e,g as M,t as s,f as T,F as k,m as C,n as r,h as U}from"./index-16c70849.js";import{_ as A}from"./search-155de950.js";const E={class:"pb-fix"},H={class:"container-box"},G={class:"header"},J={class:"icon-group"},K={class:"title"},O={class:"tabs flex"},P=["onClick"],W={class:"symbol-table"},X=["onClick"],Y={class:"flex-l"},Z={class:"gray-text"},tt={class:"flex-r"},et={class:"flex justify-end h-full flex-wrap"},st={class:"flex-r-item"},ot={class:"font-semibold text-lg"},nt={class:"text-xs"},at={class:"text-gray"},lt={class:"mr-1.5"},ct={class:"last flex-r-item"},rt={class:"font-semibold text-lg"},it={class:"text-xs"},ut={class:"text-gray"},dt={__name:"Quotation",setup(_t){const{t:i}=N.exports.useI18n(),g=$(),f=a(0),d=a([]),_=a(null),h=a("forex"),y=a("forex"),m=a([{title:i("\u5916\u6C47"),category:"forex",type:"forex"},{title:i("\u5927\u5B97\u5546\u54C1"),category:"commodities",type:"forex"},{title:i("\u6307\u6570"),category:"indices",type:"forex"},{title:i("\u52A0\u5BC6\u8D27\u5E01"),category:"cryptos",type:"cryptos"}]),u=a(!1),p=a(!0);j(()=>{v(),_.value=setInterval(()=>{v()},3e3)}),F(()=>{_.value&&clearInterval(_.value)});const v=()=>{u.value=!0,Q({type:h.value,category:y.value,pageNo:1}).then(n=>{u.value=!1,p.value=!1,d.value=n}).catch(n=>{u.value=!1,p.value=!0,d.value=[]})},I=n=>{g.push({path:"/foreign/coinChart",query:{symbol:n.symbol}})},b=n=>{g.push(n)},S=(n,o)=>{f.value=n,h.value=o.type,y.value=o.category,v()};return(n,o)=>{const w=V,R=D;return l(),c("div",E,[u.value&&p.value?(l(),q(w,{key:0,color:"#1194F7",class:"loading-box"})):z("",!0),e("div",H,[e("header",G,[e("div",J,[e("div",{class:"icon back",onClick:o[0]||(o[0]=t=>b("/quotes/index?tabActive=2"))},[M(R,{name:"arrow-left",size:"20"})]),e("div",{class:"icon search",onClick:o[1]||(o[1]=t=>b("/foreign/search"))},[...o[2]||(o[2]=[e("img",{src:A,alt:""},null,-1)])])]),e("div",K,s(T(i)("Market")),1)]),e("div",O,[(l(!0),c(k,null,C(m.value,(t,x)=>(l(),c("div",{class:r(["tab-item flex-1",[f.value===x?"active":""]]),onClick:B=>S(x,t),key:t},s(t.title),11,P))),128))]),e("div",W,[e("ul",null,[(l(!0),c(k,null,C(d.value,(t,x)=>(l(),c("li",{key:t.symbol,onClick:B=>I(t)},[e("div",Y,[e("p",null,[t.netChange>0?(l(),c("span",{key:0,class:r(["mr-1",t.changeRatio>0?"text-up":"text-down"])},"+"+s(t.netChange),3)):(l(),c("span",{key:1,class:r(["mr-1",t.changeRatio>0?"text-up":"text-down"])},s(t.netChange),3)),o[3]||(o[3]=U("\xA0 ",-1)),e("span",{class:r(t.changeRatio>0?"text-up":"text-down")},s(`${t.changeRatio}%`),3)]),e("p",null,s(t.symbol.toUpperCase()),1),e("p",Z,s(t.current_time?t.current_time.slice(11):"-"),1)]),e("div",tt,[e("div",et,[e("div",st,[e("p",{class:r(["flex text-primary justify-end",t.open<1?"text-up":"text-down"])},[e("span",ot,s(t.open.toString().substr(0,t.open.toString().length-1)),1),e("span",nt,s(t.open.toString().substr(t.open.toString().length-1)),1)],2),e("div",at,[e("span",lt,"H: "+s(t.high),1)])]),e("div",ct,[e("p",{class:r(["flex text-primary justify-end",t.close<1?"text-up":"text-down"])},[e("span",rt,s(t.close.toString().substr(0,t.close.toString().length-1)),1),e("span",it,s(t.close.toString().substr(t.close.toString().length-1)),1)],2),e("div",ut,[e("span",null,"L: "+s(t.low),1)])])])])],8,X))),128))])])])])}}},xt=L(dt,[["__scopeId","data-v-fc803809"]]);export{xt as default};
