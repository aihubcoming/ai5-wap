import{_ as C,r as n,v as I,u as T,ak as A,l as N,au as V,L as j,I as S,o as k,c as $,b as q,d as P,e as s,g as R,t,f as o,aW as E,aX as M,s as p}from"./index-14d2cc83.js";import{g as U,d as z}from"./ipo.api-af3eb7db.js";const F={class:"pb-fix"},W={class:"container-box"},X={class:"header"},G={class:"icon-group"},H={class:"middle-text title"},J={class:"card"},K={class:"code"},O={class:"num"},Q={class:"details"},Y={class:"detail-info"},Z={class:"detail-ul"},ss={class:"flex"},ts={class:"item-l"},es={class:"item-r"},os={class:"flex"},as={class:"item-l"},cs={class:"item-r"},ls={class:"flex"},is={class:"item-l"},ns={class:"item-r"},ds={class:"flex"},_s={class:"item-l"},rs={class:"item-r"},us={class:"flex"},vs={class:"item-l"},hs={class:"item-r"},ps={class:"flex"},ms={class:"item-l"},fs={class:"item-r"},xs={class:"inputEara"},bs={class:"flex justify-between cell-div mt-10 mb-8"},ks={class:"text_color6"},gs={class:"drawLots-input"},ws=["placeholder"],ys={class:"flex justify-between cell-div mt-10 mb-8"},Ds={class:"text_color6"},Ls={class:"drawLots-input"},Bs=["value"],Cs={__name:"drawLotsDetail",setup(Is){n({});const g=n({}),{t:e}=I.exports.useI18n(),u=T(),v=A(),c=n([]),m=n(null),_=n(!1),d=n(""),w=v.query.stockType,y=v.query.stockActive,f=`/ipo/stock?type=record&value=stock&stock=${w}&stockActive=${y}`;N(()=>{D()}),V(()=>{m.value&&clearInterval(m.value)});const D=()=>{var a;const l={id:(a=v.query)==null?void 0:a.id};_.value=!0,U(l).then(i=>{_.value=!1,c.value=i}).catch(i=>{_.value=!1})},L=()=>{var a;if(!d.value){p(e("\u8BF7\u8F93\u5165\u5F20\u6570"));return}if(d.value>((a=g.value)==null?void 0:a.sumVolume)){p(e("\u4F59\u989D\u4E0D\u8DB3"));return}let l={amount:d.value,code:c.value.productCode};z(l).then(i=>{p(e("\u62BD\u7B7E\u6210\u529F")),u.push(f)}).catch(i=>Promise.reject(i))},r=l=>l==null?void 0:l.split(" ")[0],x=l=>{if(l===-1){u.go(-1);return}u.push(l)};return(l,a)=>{var b;const i=j,B=S;return k(),$("div",F,[_.value?(k(),q(i,{key:0,color:"#1194F7",class:"loading-box"})):P("",!0),s("div",W,[s("header",X,[s("div",G,[s("div",{class:"icon back",onClick:a[0]||(a[0]=h=>x(-1))},[R(B,{name:"arrow-left",size:"20"})]),s("div",H,[s("span",null,t(o(e)("\u62BD\u7B7E")),1)]),s("div",{class:"right-text text-record",onClick:a[1]||(a[1]=h=>x(f))},[s("span",null,t(o(e)("\u62BD\u7B7E\u8BB0\u5F55")),1)])])]),s("section",J,[s("p",K,t(c.value.productCode),1),s("p",O,t(c.value.underwritingPrice),1)]),s("section",Q,[s("div",Y,[s("ul",Z,[s("li",ss,[s("div",ts,t(o(e)("\u62BD\u7B7E\u4EE3\u7801")),1),s("div",es,t(c.value.productCode),1)]),s("li",os,[s("div",as,t(o(e)("\u53D1\u884C\u603B\u80A1\u6570")),1),s("div",cs,t(c.value.subscribeTotalNumber),1)]),s("li",ls,[s("div",is,t(o(e)("\u62BD\u7B7E\u5F00\u59CB\u65E5")),1),s("div",ns,t(r(c.value.startSubscribeDate)),1)]),s("li",ds,[s("div",_s,t(o(e)("\u62BD\u7B7E\u622A\u6B62\u65E5")),1),s("div",rs,t(r(c.value.endSubscribeDate)),1)]),s("li",us,[s("div",vs,t(o(e)("\u62BD\u7B7E\u65E5")),1),s("div",hs,t(r(c.value.drawDate)),1)]),s("li",ps,[s("div",ms,t(o(e)("\u53D1\u5238\u65E5")),1),s("div",fs,t(r(c.value.issuanceDate)),1)])]),s("div",xs,[s("div",bs,[s("div",ks,t(o(e)("\u6570\u91CF"))+"("+t(o(e)("\u80A1"))+")",1)]),s("div",gs,[E(s("input",{class:"inputBackground",placeholder:o(e)("\u8BF7\u8F93\u5165\u62BD\u7B7E\u91D1\u989D(\u80A1)"),"onUpdate:modelValue":a[2]||(a[2]=h=>d.value=h),type:"number"},null,8,ws),[[M,d.value]])]),s("div",ys,[s("div",Ds,t(o(e)("\u53EF\u7528\u989D\u5EA6"))+"("+t(o(e)("\u80A1"))+")",1)]),s("div",Ls,[s("input",{class:"inputBackground",type:"number",value:((b=c.value)==null?void 0:b.defaultLimit)||"0",readonly:""},null,8,Bs)])]),s("div",{class:"btn text-white",onClick:L},t(o(e)("\u4E00\u952E\u62BD\u7B7E")),1)])])])])}}},Ns=C(Cs,[["__scopeId","data-v-ffb98a20"]]);export{Ns as default};
