import{_ as x,v,aj as S,r as f,au as _,a8 as w,o as $,c as k,e as B,U as C}from"./index-8f557042.js";import{a2 as z,a3 as A,a4 as L,a5 as N,a6 as E}from"./installCanvasRenderer-26dffa88.js";import{i as M}from"./install-fac60ee3.js";const I={class:"flex-1"},T={__name:"index",props:{deepBuy:{type:Array,default:[]},deepSell:{type:Array,default:[]}},setup(h){z([M,A,L,N]);const{t:n}=v.exports.useI18n(),r=S().theme;let i=null;const c=h;f([]),f([]);const y=f(!0),m=(a,l)=>{for(var t=[],e=[],o=0;o<a.length;o++)t.push(a[o].splice(0,2).map(Number).reverse());for(var o=0;o<l.length;o++)e.push(l[o].splice(0,2).map(Number).reverse());g(t,e)},g=(t,e)=>{var t=d(t),e=d(e).reverse();let o=[],u=[];for(var s=0;s<t.length;s++)o.push(t[s].splice(0,2).reverse());for(var s=0;s<e.length;s++)u.push(e[s].splice(0,2).reverse());C(()=>{b(d(o),d(u))})},b=(a,l)=>{const t=document.getElementById("myChart3");i=E(t),i.setOption({animation:!1,tooltip:{trigger:"axis",confine:!0,showContent:!1,axisPointer:{lineStyle:{color:"#fff"}},axisPointer:{type:"cross",lineStyle:{color:"#60698D",type:"dashed"},label:{show:!1,fontSize:11,backgroundColor:"#222E5D"}}},textStyle:{fontSize:12,color:"#929AA5"},grid:{top:"10px",left:"0px",right:"50px",bottom:"20px"},xAxis:{type:"category",boundaryGap:!1,axisLabel:{showMinLabel:!1},axisLine:{show:!0},axisTick:{length:6,lineStyle:{type:"dashed"}}},yAxis:[{type:"value",position:"right",splitNumber:4,axisTick:{length:6,lineStyle:{type:"dashed"}},axisLabel:{inside:!0,showMinLabel:!0},splitLine:{show:!1},axisLine:{lineStyle:{type:"dashed"}}}],series:[{name:"buy",showSymbol:!1,symbol:"circle",zlevel:-22,label:{show:!0,position:"right",distance:10,padding:10,fontSize:12,color:r=="white"?"#666":"#fff",backgroundColor:r=="white"?"rgba(0, 0, 0, .3)":"rgba(255, 255, 255, .3)",formatter:function(e){return[`${n("\u4EF7\u683C")} \uFF1A{a|${e.data[0]}}`,`${n("\u6570\u91CF")} \uFF1A{a|${e.data[1]}}`,`${n("\u6210\u4EA4\u989D")} \uFF1A{a|${(e.data[1]*e.data[0]).toFixed(5)}}`].join(`
`)},rich:{a:{color:r=="white"?"#666":"#fff",fontSize:"12",fontWeight:"bold",lineHeight:"20"}}},symbolSize:11,connectNulls:!0,emphasis:{},lineStyle:{},type:"line",itemStyle:{normal:{color:"#01C57B",borderColor:"#01C57B"}},areaStyle:{color:"green",opacity:.2},data:a},{name:"sell",showSymbol:!1,symbol:"circle",label:{show:!0,position:"left",distance:10,padding:10,fontSize:12,color:r=="white"?"#666":"#fff",backgroundColor:r=="white"?"rgba(0, 0, 0, .3)":"rgba(255, 255, 255, .3)",formatter:function(e){return[`${n("\u4EF7\u683C")} \uFF1A{a|${e.data[0]}}`,`${n("\u6570\u91CF")} \uFF1A{a|${e.data[1]}}`,`${n("\u6210\u4EA4\u989D")} \uFF1A{a|${(e.data[1]*e.data[0]).toFixed(5)}}`].join(`
`)},rich:{a:{color:r=="white"?"#666":"#fff",fontSize:"12",fontWeight:"bold",lineHeight:"20"}}},symbolSize:11,connectNulls:!0,type:"line",stack:"",itemStyle:{normal:{color:"#D8195A"}},areaStyle:{color:"red",opacity:.2},data:l}]})};_(()=>{i&&i.dispose()});const d=a=>{for(var l=a.length,t=0;t<l-1;t++)for(var e=t+1;e<l;e++)if(a[t][0]<a[e][0]){var o=a[t][0];a[t][0]=a[e][0],a[e][0]=o}return a},p=a=>{let l=[a[0]];for(let t=1;t<a.length;t++){let e=!1;for(let o=0;o<l.length;o++)if(a[t]===l[o]){e=!0;break}e||l.push(a[t])}return l};return w(()=>c.deepBuy,a=>{if(console.log("11"),a.length>0&&c.deepSell.length>0&&y.value){let l=[];c.deepBuy.map(e=>{let o=[];o[0]=e.price,o[1]=e.amount,l.push(o)});let t=[];c.deepSell.map(e=>{let o=[];o[0]=e.price,o[1]=e.amount,t.push(o)}),m(p(l),p(t))}},{immediate:!0}),(a,l)=>($(),k("div",I,[...l[0]||(l[0]=[B("div",{id:"myChart3",class:"kline-BoxMain"},null,-1)])]))}},U=x(T,[["__scopeId","data-v-93fa942f"]]);export{U as _};
