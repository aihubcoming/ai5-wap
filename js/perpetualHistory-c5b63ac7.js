import{_ as D,o as r,c as l,F as m,m as g,e as s,n as k,t as o,d as c,cF as T,cC as I,cG as S,I as B,g as _,w as u,b as f,aA as w}from"./index-8f557042.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import{_ as j}from"./index-b8c67c21.js";import{_ as A}from"./index-ea640345.js";import{l as N,g as V}from"./trade.api-de47551a.js";import{_ as $}from"./no-data-dcbdad72.js";import{L as b}from"./index-24384252.js";import{a as v,T as x}from"./index-e4e42e6e.js";import"./index-46439789.js";import"./use-tab-status-fffaa261.js";import"./use-id-df8c351b.js";import"./index-1b600eb6.js";import"./index-1c803132.js";const M={name:"perpetualHistoryPosition",props:{listData:{type:Array,default(){return[]}}},data(){return{historyData:[{name:"BTC/USDT",direction:"buy",amount:"200",price:"23000",create_time:"2022-07-20 10:05:15"}]}},methods:{goDetail(t){this.$router.push({path:"/cryptos/orderDetail",query:{order_no:t.order_no}})}}},O={id:"cryptos"},R={class:"flex justify-between pt-5 pb-7 text-28"},z={class:"flex items-center"},G={class:"ml-4 text-30 font-bold textColor"},J={class:"flex justify-between pb-7 text-28"},K={class:"text-grey"},Q={class:"textColor"},W={class:"flex justify-between pb-7 text-28"},X={class:"text-grey"},Y={class:"textColor"},Z={class:"flex justify-between pb-7 text-28"},tt={class:"text-grey"},et={class:"textColor"},st={class:"flex justify-between pb-7 text-28"},ot={class:"text-grey"},it={class:"textColor"},nt={class:"flex justify-between pb-7 text-28"},rt={class:"text-grey"},lt={class:"flex justify-between pb-7 items-center text-28"},at={class:"text-grey"},dt=["onClick"];function ct(t,i,p,h,e,y){return r(),l("div",O,[p.listData.length>0?(r(!0),l(m,{key:0},g(p.listData,n=>(r(),l("div",{class:"border-b-color",key:n.order_no},[s("div",R,[s("div",z,[s("div",{class:k(["px-6 pt-2 pb-2 text-white rounded-md",n.direction=="buy"?" bg-green":"bg-red"])},o(n.direction=="buy"?t.$t("\u5F00\u591A"):t.$t("\u5F00\u7A7A")),3),s("div",G,o(n.name)+" "+o(t.$t("\u6C38\u7EED")),1)])]),s("div",J,[s("div",K,o(t.$t("\u8BA2\u5355\u53F7")),1),s("div",Q,o(n.order_no),1)]),s("div",W,[s("div",X,o(t.$t("\u4EF7\u683C")),1),s("div",Y,o(n.trade_avg_price),1)]),s("div",Z,[s("div",tt,o(t.$t("\u6210\u4EA4\u6570\u91CF")),1),s("div",et,o(n.volume_open),1)]),s("div",st,[s("div",ot,o(t.$t("\u624B\u7EED\u8D39")),1),s("div",it,o(n.fee),1)]),s("div",nt,[s("div",rt,o(t.$t("\u5B9E\u73B0\u76C8\u4E8F")),1),s("div",{class:k({"text-green":n.profit/1>0,"text-red":n.profit/1<0})},o(n.profit/1>0?"+"+n.profit:n.profit),3)]),s("div",lt,[s("div",at,o(t.$t("\u64CD\u4F5C")),1),s("button",{class:"border-none pl-8 text-blue bg-none colorMain",onClick:L=>y.goDetail(n)},o(t.$t("\u8BE6\u60C5")),9,dt)])]))),128)):c("",!0)])}const H=D(M,[["render",ct],["__scopeId","data-v-f54b1bea"]]);const pt={data(){return{type:"orders",dataList:{orders:[],hisorders:[]},symbol:"all",isAll:!1,selectData:[{title:this.$t("\u5F53\u524D\u59D4\u6258"),type:"orders"},{title:this.$t("\u5386\u53F2\u4ED3\u4F4D"),type:"hisorders"}],loading:!1,finished:!1,page:1,currencyList:[],symbolETF:"",CurrencyType:""}},mounted(){T("cryptoHistoryType")&&(this.type=T("cryptoHistoryType")),this.CurrencyType=this.$route.query.type,this.getCoins()},methods:{getCoins(){I({type:this.$route.query.type}).then(t=>{console.log(t),this.currencyList=t,this.currencyList.map(i=>{i.symbol==this.symbol&&(this.symbolETF=i.name)}),this.currencyList.unshift({symbol:"all"})})},onChange(t){this.dataList[t]=[],this.finished=!1,this.page=1,this.type=t,this.loading=!0,this.isAll=!1,S("cryptoHistoryType",this.type),this.loading&&this.fetchList(this.symbol)},onClickLeft(){this.$router.go(-1)},async fetchList(t){const i=this.type==="orders"?N:V,p=this.type;i({symbol:t=="all"?"":t,type:p,page_no:this.page,symbolType:this.CurrencyType}).then(h=>{this.dataList[p]=this.dataList[p].concat(h),this.loading=!1,h.length<10&&(this.finished=!0),this.page++})},recall(){this.page=1,this.dataList.orders=[],this.fetchList(this.symbol)},onLoad(){this.dataList.orders=[],this.fetchList(this.symbol)},selectItem(t){this.dataList[this.type]=[],this.page=1,this.symbol=t.symbol,this.fetchList(this.symbol),this.isAll=!1,this.symbolETF=t.name}},components:{PerpetualEntrustList:j,PerpetualHistoryPosition:H,assetsHead:A,[b.name]:b,[v.name]:v,[x.name]:x}},yt={id:"cryptos"},ht={class:"perpetualHistory px-2 text-28"},_t={key:0,class:"all-select flex justify-end text-28"},ut={class:"flex-1 text-28"},ft={key:0,class:"select-data"},mt=["onClick"],gt={key:1,class:"flex flex-col justify-center pt-12 pb-5 items-center"},bt={class:"text-grey mt-5"},vt={key:0,class:"flex flex-col justify-center pt-12 pb-5 items-center"},xt={class:"text-grey mt-5"};function Lt(t,i,p,h,e,y){const n=A,L=B,F=j,C=b,E=H,P=x,U=v;return r(),l("div",yt,[s("div",ht,[_(n,{title:t.$t("U\u672C\u4F4D\u5408\u7EA6\u5386\u53F2"),backFunc:()=>{var d;t.$route.query.goback?t.$router.push({path:"/cryptos/funds",query:{tab:2,index:0,type:"cryptos"}}):((d=this.$route.query)==null?void 0:d.from)==="trade"?this.$router.push("/trade/index?tabActive=1"):t.$router.go(-1)}},null,8,["title","backFunc"]),s("div",null,[_(U,{ref:"tabs",active:e.type,"onUpdate:active":i[3]||(i[3]=d=>e.type=d),swipeable:"",onChange:y.onChange,sticky:""},{default:u(()=>[(r(!0),l(m,null,g(e.selectData,d=>(r(),f(P,{title:d.title,key:d.title,name:d.type},{default:u(()=>[e.symbol?(r(),l("div",_t,[s("div",{class:"select-box flex",onClick:i[0]||(i[0]=w(a=>e.isAll=!e.isAll,["stop"]))},[s("div",ut,o(e.CurrencyType=="indices"?e.symbolETF:e.symbol=="all"?t.$t("\u5168\u90E8"):e.symbol.toUpperCase()),1),_(L,{name:"arrow-down"}),e.isAll?(r(),l("div",ft,[(r(!0),l(m,null,g(e.currencyList,(a,q)=>(r(),l("div",{class:"select-item",onClick:w(Ct=>y.selectItem(a),["stop"]),key:q},o(e.CurrencyType=="indices"?a.name:a.symbol=="all"?t.$t("\u5168\u90E8"):a.symbol.toUpperCase()),9,mt))),128))])):c("",!0)])])):c("",!0),e.type==="orders"?(r(),f(C,{key:1,loading:e.loading,"onUpdate:loading":i[1]||(i[1]=a=>e.loading=a),"loading-text":t.$t("\u52A0\u8F7D\u4E2D..."),finished:e.finished,"finished-text":e.dataList.orders.length?t.$t("\u5DF2\u7ECF\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5"):"",onLoad:y.onLoad,offset:30,class:"px-5"},{default:u(()=>[e.type==="orders"?(r(),f(F,{key:0,"list-data":e.dataList.orders,onRecall:y.recall},null,8,["list-data","onRecall"])):c("",!0),!e.dataList.orders.length&&!e.loading?(r(),l("div",gt,[i[4]||(i[4]=s("img",{src:$,alt:"",class:"w-24 h-24 no-data-img"},null,-1)),s("p",bt,o(t.$t("\u6682\u65E0\u8BB0\u5F55")),1)])):c("",!0)]),_:1},8,["loading","loading-text","finished","finished-text","onLoad"])):c("",!0),e.type==="hisorders"?(r(),f(C,{key:2,loading:e.loading,"onUpdate:loading":i[2]||(i[2]=a=>e.loading=a),"loading-text":t.$t("\u52A0\u8F7D\u4E2D..."),finished:e.finished,"finished-text":e.dataList.hisorders.length?t.$t("\u5DF2\u7ECF\u5168\u90E8\u52A0\u8F7D\u5B8C\u6BD5"):"",onLoad:y.onLoad,offset:30,class:"px-5"},{default:u(()=>[_(E,{"list-data":e.dataList.hisorders},null,8,["list-data"]),!e.dataList.hisorders.length&&!e.loading?(r(),l("div",vt,[i[5]||(i[5]=s("img",{src:$,alt:"",class:"w-24 h-24 no-data-img"},null,-1)),s("p",xt,o(t.$t("\u6682\u65E0\u8BB0\u5F55")),1)])):c("",!0)]),_:1},8,["loading","loading-text","finished","finished-text","onLoad"])):c("",!0)]),_:1},8,["title","name"]))),128))]),_:1},8,["active","onChange"])])])])}const Nt=D(pt,[["render",Lt],["__scopeId","data-v-0083f7b0"]]);export{Nt as default};
