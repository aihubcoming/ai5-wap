import{_ as B,v as z,r as h,a4 as $,l as F,bI as G,o as r,c as v,e as t,t as s,aW as K,bb as L,f as y,g as k,w as I,i as w,n as f,h as E,F as S,m as U,d as X,b as M,S as N}from"./index-14d2cc83.js";import{_ as q,a as Y}from"./red-leverage-a6d5d047.js";import{h as H}from"./trade.api-43084cdd.js";import{C as Z}from"./index-e5c3334a.js";/* empty css               */import{_ as tt}from"./icon-close-a4b849b5.js";import{C as et}from"./index-237d7e99.js";import{d as st}from"./dayjs.min-353269dd.js";const at={class:"popup-delivery overflow-hidden"},ot={class:"border-b-color pt-14 pb-8 relative textColor"},it={class:"text-40 px-8"},lt={key:0,class:"flex justify-center mt-22"},nt={class:"flex flex-col pb-16 textColor"},dt={class:"text-grey text-32"},rt={key:2,class:"flex justify-between textColor px-8 pb-16"},ct={__name:"index",props:{showBtns:{type:Boolean,default:!1},detailData:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1},price:{type:[Number,String],default:""}},emits:["timeEnd","close","continueToBuy"],setup(e,{emit:c}){const{t:u}=z.exports.useI18n(),x=c,a=e;let p=h(""),m=h(0),o=h([]),D=h(0),n=h(null),d=h(0);const g=$(()=>{let l;return o.value.length?(o.value[0]/1>0?l="DDd HHh mmm sss":o.value[1]/1>0?l="mmm sss":l="sss",l):"--"}),i=$(()=>D.value+"s"),C=$(()=>[{id:1,text:u("buyPrice"),key:"open_price"},{id:2,text:a.detailData.state!=="created"?u("\u73B0\u4EF7"):u("\u7ED3\u7B97\u4EF7\u683C"),key:"close_price"},{id:3,text:u("\u65B9\u5411"),key:"direction"},{id:4,text:u("number"),key:"amount",extro:"USD"},{id:5,text:u("\u4EA4\u5272\u65F6\u95F4"),key:"settlement_time"}]);F(()=>{a.detailData.state!=="created"&&V()}),G(()=>{clearInterval(n.value),n.value=null});const A=()=>{a.detailData.state==="created"&&x("continueToBuy",a.detailData)},R=l=>l.id===3?a.detailData.direction==="buy"?u("\u5F00\u591A"):u("\u5F00\u7A7A"):l.key==="settlement_time"?a.detailData.time_num+a.detailData.time_unit:"extro"in l?a.detailData[l.key]&&a.detailData[l.key].toString()+l.extro:a.detailData[l.key]&&a.detailData[l.key].toString(),W=l=>{if(l.id===2)return"text-green";if(l.id===3)return a.detailData.direction==="buy"?"text-green":"text-red"},j=()=>{x("timeEnd",a.detailData.order_no)},V=()=>{p.value=a.detailData.time_num,o.value=[],a.detailData.remain_time!=null&&(o.value=a.detailData.remain_time.split(":")),m.value=o.value.length&&o.value[0]/1*3600+o.value[1]/1*60+o.value[2]/1,d.value=m.value/p.value*100},Q=l=>{let b=l.days*86400+l.hours*3600+l.minutes*60+l.seconds;d.value=b/p.value*100},O=()=>{x("close")};return(l,b)=>{const T=et,J=Z;return r(),v("div",at,[t("div",ot,[t("h1",it,s(e.detailData.name)+" "+s(l.$t("delivery")),1),t("img",{src:tt,class:"w-10 h-10 absolute right-10 top-10",onClick:O})]),e.detailData.state!=="created"?(r(),v("div",lt,[K(k(J,{"layer-color":"#ccc",size:"120px","current-rate":y(D),"onUpdate:currentRate":b[0]||(b[0]=_=>w(D)?D.value=_:D=_),rate:y(d),speed:0,text:i.value},{default:I(()=>[k(T,{onFinish:j,class:"textColor",ref:"coutDown",onChange:Q,time:y(m)*1e3,format:g.value},null,8,["time","format"])]),_:1},8,["current-rate","rate","text"]),[[L,y(d)!=0]])])):(r(),v("div",{key:1,class:f(["mt-10 text-44 text-center",{"text-green":e.detailData.profit_state==="1","text-red":e.detailData.profit_state==="0"}])},[E(s(l.$t("\u76C8\u4E8F")),1),t("span",null,s(e.detailData.profit_state==="1"?"+":"")+s(e.detailData.profit),1),b[1]||(b[1]=E(" USD",-1))],2)),t("ul",nt,[(r(!0),v(S,null,U(C.value,_=>(r(),v("li",{key:_.id,class:"flex justify-between px-10 mt-5"},[t("p",dt,s(_.text),1),_.key=="close_price"?(r(),v("p",{key:0,class:f(["text-32",{"text-green":e.detailData.direction==="buy"&&e.detailData.state!=="created"&&e.price*1>=e.detailData.open_price*1||e.detailData.direction==="buy"&&e.detailData.state=="created"&&e.detailData.close_price*1>=e.detailData.open_price*1||e.detailData.direction!=="buy"&&e.detailData.state!=="created"&&e.price*1<=e.detailData.open_price*1||e.detailData.direction!=="buy"&&e.detailData.state=="created"&&e.detailData.close_price*1<=e.detailData.open_price*1,"text-red":e.detailData.direction==="buy"&&e.detailData.state!=="created"&&e.price*1<e.detailData.open_price*1||e.detailData.direction==="buy"&&e.detailData.state=="created"&&e.detailData.close_price*1<e.detailData.open_price*1||e.detailData.direction!=="buy"&&e.detailData.state!=="created"&&e.price*1>e.detailData.open_price*1||e.detailData.direction!=="buy"&&e.detailData.state=="created"&&e.detailData.close_price*1>e.detailData.open_price*1}])},s(e.detailData.state!=="created"?e.price:e.detailData[_.key]),3)):(r(),v("p",{key:1,class:f(["text-28",W(_)])},s(R(_)),3))]))),128))]),e.showBtns?(r(),v("div",rt,[t("p",{class:f([{btnMain:e.detailData.state!=="created",bgDark:e.detailData.state==="created"},"w-72 h-24 rounded-lg flex justify-center items-center mr-5"]),onClick:O},s(l.$t("close")),3),t("p",{onClick:A,class:f([{btnMain:e.detailData.state==="created",bgDark:e.detailData.state!=="created",disableBtn:e.disabled},"w-80 h-24 rounded-lg flex justify-center items-center"])},s(l.$t("\u7EE7\u7EED\u4E0B\u5355")),3)])):X("",!0)])}}},P=B(ct,[["__scopeId","data-v-db23aba9"]]);const ut={class:"positionList"},vt={class:"flex justify-between pt-5 pb-5"},pt={class:"flex flex-col"},ht={class:"flex items-center"},ft={class:"ml-2 text-28 font-semibold"},yt={class:"textColor"},xt={class:"text-grey1 font-normal ml-2 mr-2"},_t={key:0,src:q,alt:"",class:"w-8 h-8"},Dt={key:1,src:Y,alt:"",class:"w-8 h-8"},mt={class:"flex justify-between"},gt={class:"text-grey1"},bt={class:"mt-2 textColor"},Ct={class:"text-grey1 text-right"},At={class:"flex pt-5 pb-5"},$t={class:"flex-1"},kt={class:"text-grey1"},wt={class:"flex-1"},Bt={class:"text-grey1 text-center"},It={class:"mt-2 text-center textColor"},St={class:"flex-1 flex flex-col items-end"},Ut={class:"text-grey1"},Ot={class:"flex pb-4"},Et={class:"flex-1"},Mt={class:"text-grey1"},Nt={class:"mt-2 textColor"},Pt={class:"flex-1"},Rt={class:"text-grey1 text-center"},Wt={class:"mt-2 text-center textColor"},jt={class:"flex-1"},Vt={class:"text-grey1 text-right"},Qt=["onClick"],Tt={__name:"hold",props:{listData:{type:Array,default(){return[]}},price:{type:[Number,String],default:"0.00"}},setup(e){let c=h(!1),u=h({}),x=h(null);const a=()=>{clearTimeout(x.value),x.value=null},p=n=>{H(n).then(d=>{a(),u.value=d,d.state!=="created"&&(x.value=setTimeout(()=>{p(n)},1e3))})},m=$(()=>n=>{let d=n.split(":"),g=Math.floor(d[0]/24),i=d[0]%24>=10?d[0]%24:"0"+d[0]%24;console.log(i);let C=d[1]>=10?d[1]:"0"+d[1],A=d[2]>=10?d[2]:"0"+d[2];return g>=1?g+this.$t("\u5929")+" "+i+":"+C+":"+A:i+":"+C+":"+A}),o=n=>{u.value=n,c.value=!0},D=()=>{c.value=!1};return(n,d)=>{const g=N;return r(),v("div",ut,[(r(!0),v(S,null,U(e.listData,i=>(r(),v("div",{class:"border-b-color",key:i.order_no},[t("div",vt,[t("div",pt,[t("div",ht,[t("div",{class:f(["pl-6 pr-6 pt-2 pb-2 text-white open-btn",i.direction=="buy"?" bg-green":"bg-red"])},s(i.direction=="buy"?n.$t("\u5F00\u591A"):n.$t("\u5F00\u7A7A")),3),t("div",ft,[t("span",yt,s(i.name)+" "+s(n.$t("delivery")),1),t("span",xt,s(n.$t("\u5168\u4ED3"))+" "+s(i.lever_rate)+"x",1)]),i.direction=="buy"?(r(),v("img",_t)):(r(),v("img",Dt))])])]),t("div",mt,[t("div",null,[t("div",gt,s(n.$t("buyPrice"))+"(USD)",1),t("div",bt,s(i.open_price),1)]),t("div",null,[t("div",Ct,s(n.$t("\u73B0\u4EF7")),1),t("div",{class:f(["mt-2",i.close_price>i.open_price?"text-green":"text-red"])},s(i.close_price),3)])]),t("div",At,[t("div",$t,[t("div",kt,s(n.$t("\u65B9\u5411")),1),t("div",{class:f(["mt-2",i.direction==="buy"?"text-green":"text-red"])},s(i.direction==="buy"?n.$t("\u5F00\u591A"):n.$t("\u5F00\u7A7A")),3)]),t("div",wt,[t("div",Bt,s(n.$t("number")),1),t("div",It,s(i.volume),1)]),t("div",St,[t("div",Ut,s(n.$t("\u76C8\u4E8F")),1),t("div",{class:f(["mt-2",i.profit/1>0?"text-green":"text-red"])},s(i.profit/1>0?"+"+i.profit:i.profit),3)])]),t("div",Ot,[t("div",Et,[t("div",Mt,s(n.$t("\u5269\u4F59\u65F6\u95F4")),1),t("div",Nt,s(m.value(i.remain_time)),1)]),t("div",Pt,[t("div",Rt,s(n.$t("\u4EA4\u5272\u65F6\u95F4")),1),t("div",Wt,s(i.time_num+i.time_unit),1)]),t("div",jt,[t("div",Vt,s(n.$t("\u64CD\u4F5C")),1),t("div",{class:"mt-2 colorMain text-right",onClick:C=>o(i)},s(n.$t("\u8BE6\u60C5")),9,Qt)])])]))),128)),k(g,{round:"",show:y(c),"onUpdate:show":d[0]||(d[0]=i=>w(c)?c.value=i:c=i),teleport:"body"},{default:I(()=>[(r(),M(P,{showBtns:!0,detailData:y(u),price:e.price,onTimeEnd:p,key:y(u).order_no,onClose:D},null,8,["detailData","price"]))]),_:1},8,["show"])])}}},$e=B(Tt,[["__scopeId","data-v-88954ada"]]),Jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAA/CAYAAAB3s08iAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARQSURBVHgB7ZzNbttGEIBnl46KXhq9QXVsi6aVfwHfxKpN0ZPtJ7DzCD42tiEJqdBj4yeo+gR2TgXSGmauNmyzVtD2yLyBnUsQktrJLB0ZtkJyV15DSIL5LoK0q9mdj/8LDAVcob7fqiqorAoFdf0dpQpO/a0/YEzqfz1qKCmWBIgqAp5JmWyHfieCMan//WgZhVwazkVC+mzcOCcnJ9XBYLCqw739KZibmxs7p8PDw4aUcgkRq0KIsziOtxcXFyNxOdn9bl2h2AHE2rV/CgiliH2a+JnNQN/sddv00cpp6pw2N9pggd6QiJUdRGiMzCVKU1j59/5GaBPn4OCg7nkexRnJCSCk3/3p6WmrnEhem6S9kxPF7cjhl1x5WS+oD1Tld7Dg3l53DfLlaVpf054JFqCq/PaOvIu51KY82NeCLcJAgTxNnfZKq5yOjo7W8uRp9O+ZwCzx/IEuOgIs20xaClgtaxeebIGBbO8DWCvpUlWDSuk4Gp04luRELOvDGwxQjNKxMoEC8HMwMMBPvjX1QRS1snaBl+ehYtIpYx8hlDkOgDEnkmPMifayWlm7hMlidejdEjWYAJMW+NHBAh1hgY6wQEdYoCMs0BEW6AgLdIQFOsICHWGBjrBAR1igIyzQERboCAt0hAU6wgIdYYGOsEBHWKAjLNARFugIC3SEBTrCAh1hgY6wQEdYoCMs0BEW6AgLdIQFOsICHWGBjrBAR1igIyzQkUkLtCqt+pDGuhCIwjjYIMVzUx8UGJV3gPJ2zdSUsQ+iDM19DHMh0jQ152SIkwmUXqyrF4slIoRWBX4pGKog1WMwEPo/RyggKOsTJ/ETMOB5XnlONNTCwoIxJyFEaU6ZwKwSU2GnoE9EE14BC/r3N3qI+QPSlgxOv7crnU1eywc09SivTQG2///JXPKqKzF1NWVBc5QkiVVOs7OzPfoomncgrn776mm37kloCfG2XhhwN4mTbZsJX+Xe0+4aSFzVdWb6ENB71PPmZmecGF/8+WvtTkW1svo6AdXsUJKy3f/u4bNx4uiSVykl5SSG9XW7w1rfMcIMixcvc6LPgOSOlRPDMMzHxrWLyPv90gkIJcRP+KUTFvBLJ/Lhl06AAX7pRAn80ol8rBcTboXbWkwoeMy71gdxcqsxCtU/hn6R3SOU6pW10iOd8eSvFxPAIIiuzAEYIIHGnGZmZmweC3tljZnA5z9sBbRVC1dKMFXrYIG+XSlJPkri2OrZUanBg6I2ui16bLMx5+fnAzr8ylZ/LHOS2xQnKmiOLq/C/ebDdb3ScU0AYohCNPo/bu2CBfpWJ46FjyNbTa/E0H2Tb7sooTeoUsof2Rhnen795qZV4hp62F+n5NsjAkKS0qB7Qauc9K0O9fcpRm+kKaAVHV/k/enLvV+yE/B/zc0XcENqO63qp5/dufvqZXIerXRufD4axnGZi+b4+DjLiQ7bG8fRV23aGe6SzPPhPeQb70ddwJOcZxgAAAAASUVORK5CYII=";const zt={class:"position"},Ft={class:"position-tag"},Gt={class:"position-tag-title textColor"},Kt={class:"position-tag-title2"},Lt={class:"position-div1"},Xt={class:"position-text1"},qt={class:"position-text2 textColor"},Yt={class:"position-div1"},Ht={class:"position-text1"},Zt={class:"position-div1"},te={class:"position-text1"},ee={class:"position-text2 textColor"},se={class:"position-div1"},ae={class:"position-text1"},oe={class:"position-text2 textColor"},ie={class:"position-div1"},le={class:"position-text1"},ne={class:"position-text2 textColor"},de={class:"position-div1"},re={class:"position-text1"},ce={class:"position-div1"},ue={class:"position-text1"},ve={class:"position-text2 textColor"},pe={class:"position-div1"},he={class:"position-text1"},fe=["onClick"],ye={__name:"position",props:{listData:{type:Array,default(){return[]}}},setup(e){h(2);let c=h(!1),u=h({});const x=a=>{c.value=!0,u.value=a};return(a,p)=>{const m=N;return r(),v("div",zt,[(r(!0),v(S,null,U(e.listData,o=>(r(),v("div",{class:"position-padding",key:o.order_no},[t("div",Ft,[t("div",{class:f(["position-tag-style",o.direction==="buy"?"green":"red"])},s(o.direction==="buy"?a.$t("\u5F00\u591A"):a.$t("\u5F00\u7A7A")),3),t("div",Gt,s(o.name)+" "+s(a.$t("delivery")),1),t("div",Kt,s(a.$t("\u5168\u4ED3")),1),p[2]||(p[2]=t("img",{class:"position-tag-img",src:Jt},null,-1))]),t("div",Lt,[t("span",Xt,s(a.$t("number")),1),t("span",qt,s(o.volume),1)]),t("div",Yt,[t("span",Ht,s(a.$t("\u65B9\u5411")),1),t("span",{class:f(["position-text2",o.direction==="buy"?"color-green":"color-red"])},s(o.direction==="buy"?a.$t("\u5F00\u591A"):a.$t("\u5F00\u7A7A")),3)]),t("div",Zt,[t("span",te,s(a.$t("\u4EA4\u5272\u65F6\u95F4")),1),t("span",ee,s(o.time_num+o.time_unit),1)]),t("div",se,[t("span",ae,s(a.$t("buyPrice"))+"\uFF08USD\uFF09",1),t("span",oe,s(o.open_price),1)]),t("div",ie,[t("span",le,s(a.$t("\u7ED3\u7B97\u4EF7\u683C"))+"\uFF08USD\uFF09",1),t("span",ne,s(o.close_price),1)]),t("div",de,[t("span",re,s(a.$t("\u76C8\u4E8F")),1),t("span",{class:f(["position-text2",o.profit>0?"color-green":"color-red"])},s(o.profit>0?"+"+o.profit:o.profit),3)]),t("div",ce,[t("span",ue,s(a.$t("\u5230\u671F\u65F6\u95F4")),1),t("span",ve,s(o.close_time?y(st)(o.close_time*1e3).format("YYYY-MM-DD HH:mm:ss"):"--"),1)]),t("div",pe,[t("span",he,s(a.$t("\u64CD\u4F5C")),1),t("span",{class:"position-text2 colorMain",onClick:D=>x(o)},s(a.$t("\u8BE6\u60C5")),9,fe)]),p[3]||(p[3]=t("div",{style:{"margin-top":"17px",width:"100%",height:"1px",float:"left"},class:"bgDark"},null,-1))]))),128)),k(m,{round:"",show:y(c),"onUpdate:show":p[1]||(p[1]=o=>w(c)?c.value=o:c=o),teleport:"body"},{default:I(()=>[(r(),M(P,{showBtns:"",detailData:y(u),key:y(u).order_no,onClose:p[0]||(p[0]=o=>w(c)?c.value=!1:c=!1),disabled:!0},null,8,["detailData"]))]),_:1},8,["show"])])}}},ke=B(ye,[["__scopeId","data-v-c49ad2e4"]]);export{P,ke as a,$e as f};
