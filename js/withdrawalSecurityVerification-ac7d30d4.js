import{_ as m}from"./index-a85a0347.js";import{b as w,d as y,e as g,a as $}from"./withdraw.api-c629619b.js";import{_ as k,s as i,o as d,c as l,e,g as v,t as a,aW as p,aX as c,d as C}from"./index-16c70849.js";import{F as h}from"./index-59414b49.js";import{F as u}from"./index-08f817c6.js";import{C as _}from"./index-32045b1d.js";import"./index-2ad682be.js";import"./use-id-8bfa17e8.js";const b={name:"withdrawalSecurityVerification",components:{assetsHead:m,[h.name]:h,[u.name]:u,[_.name]:_},data(){return{password:"",data:null,sessionToken:"",googleCode:"",isGoogleInput:!1,type:""}},created(){this.data=this.$route.query,this.$route.query.type&&(this.type=this.$route.query.type),this.getToken()},methods:{getToken(){w().then(s=>{this.sessionToken=s.session_token})},onSubmit(s){console.log("submit",s)},confirm(s){if(this.type==="sell"||this.type==="buy")if(this.password)this.type==="buy"?y({order_no:this.$store.state.c2c.order_no,safe_password:this.password}).then(t=>{this.$router.push({path:"/cryptos/paymentDetail"})}):g({order_no:this.$store.state.c2c.order_no,safe_password:this.password}).then(t=>{this.isLoading=!1,this.$router.replace({path:"/cryptos/tradeSuccessSell"})});else{i(this.$t("\u8BF7\u8F93\u5165\u8D44\u91D1\u5BC6\u7801"));return}else{if(!this.password){i(this.$t("\u8BF7\u8F93\u5165\u8D44\u91D1\u5BC6\u7801"));return}$({session_token:this.sessionToken,amount:this.data.amount,from:this.data.from,safeword:this.password,channel:this.data.channel}).then(t=>{this.$router.push({path:"/cryptos/withdraw/withdrawSumbit"})}).catch(t=>{t.code==105?i(this.$t("\u5F53\u524D\u8FD8\u9700\u4EA4\u6613%s,\u624D\u53EF\u63D0\u5E01",{MONEY:t.msg})):t.code==="ECONNABORTED"?i(this.$t("\u7F51\u7EDC\u8D85\u65F6\uFF01")):t.msg!==void 0&&i(this.$t(t.msg)),this.getToken()})}}}},S={id:"withdrawalSecurityVerificationPage"},T={id:"withdraw_verify",class:"withdraw_verify"},V={class:"content"},B={class:"title textColor"},N={class:"iptbox inputBackground"},F=["placeholder"],O={key:0,class:"mt-40"},D={class:"iptbox inputBackground"},E=["placeholder"],G={style:{color:"$btn_main","margin-top":"10px"}};function q(s,t,x,I,r,n){const f=m;return d(),l("div",S,[e("div",T,[v(f),e("div",V,[e("div",B,a(s.$t("\u5B89\u5168\u9A8C\u8BC1")),1),e("div",null,[e("p",null,a(s.$t("\u8BF7\u8F93\u5165\u8D44\u91D1\u5BC6\u7801")),1),e("div",N,[p(e("input",{class:"inputBackground textColor",type:"password",placeholder:s.$t("\u8BF7\u8F93\u5165\u5BC6\u7801"),"onUpdate:modelValue":t[0]||(t[0]=o=>r.password=o)},null,8,F),[[c,r.password]])])]),this.isGoogleInput?(d(),l("div",O,[e("p",null,a(s.$t("\u8BF7\u8F93\u5165\u8C37\u6B4C\u9A8C\u8BC1\u7801")),1),e("div",D,[p(e("input",{class:"inputBackground textColor",type:"password",placeholder:s.$t("\u8BF7\u8F93\u5165\u8C37\u6B4C\u9A8C\u8BC1\u7801"),"onUpdate:modelValue":t[1]||(t[1]=o=>r.googleCode=o)},null,8,E),[[c,r.googleCode]])])])):C("",!0),e("div",{class:"btn btnMain",onClick:t[2]||(t[2]=(...o)=>n.confirm&&n.confirm(...o))},a(s.$t("\u63D0\u4EA4")),1),e("div",G,[e("span",{onClick:t[3]||(t[3]=o=>s.$router.push("/resetVerify?type=0"))},a(s.$t("\u8D44\u91D1\u5BC6\u7801\u4E0D\u53EF\u7528?")),1)])])])])}const X=k(b,[["render",q],["__scopeId","data-v-5c83f0a0"]]);export{X as default};
