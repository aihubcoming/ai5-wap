import{_ as H,v as Q,al as R,o as u,b as A,w as C,e,t as a,c as d,m as I,F as B,n as T,f as D,a_ as U,S as G,r,u as L,ak as K,l as q,at as O,I as J,aA as E,h as S,g as b,d as F,c3 as W}from"./index-16c70849.js";/* empty css              */import{f as X}from"./index-11f44593.js";import{_ as Y}from"./close-36033e05.js";/* empty css                                                                     */import{B as Z}from"./index-bb9105b1.js";import"./index-944c6ec7.js";import"./trade.api-0e1913aa.js";/* empty css                                                              */const ee={class:"relative px-15 pt-23 px-4 pb-10"},se={class:"flex justify-between py-4 items-center"},te={class:"text-20 font-medium text-black"},oe={class:"flex flex-col justify-center"},le={class:"mt-2"},ae={class:"mt-2 mb-4 border-b-1 flex flex-wrap"},ne=["onClick"],ce={__name:"charts-cycle",props:{showPopup:{type:Boolean,default:!1}},emits:["close","select"],setup(P,{emit:p}){const{t:s}=Q.exports.useI18n(),g=P,v=R();console.log(v.stage);const l=p,x=[{title:s("minute"),list:[{label:"1"+s("minute"),value:"1min",seconds:5*60*1e3},{label:"5"+s("minute"),value:"5min",seconds:5*60*1e3},{label:"15"+s("minute"),value:"15min",seconds:15*60*1e3},{label:"30"+s("minute"),value:"30min",seconds:30*60*1e3}]},{title:s("Hour"),list:[{label:"1"+s("Hour"),value:"60min",seconds:1*60*60*1e3},{label:"4"+s("Hour"),value:"4hour",seconds:4*60*60*1e3}]},{title:s("day"),list:[{label:"1"+s("day"),value:"1day",seconds:1*24*60*60*1e3},{label:"1"+s("week"),value:"1week",seconds:7*24*60*60*1e3},{label:"1"+s("moon"),value:"1mon",seconds:30*24*60*60*1e3}]}],n=()=>{l("close")},y=c=>{c.value,v[U]({stage:c.value,seconds:c.seconds}),l("select",c.value),n()};return(c,i)=>{const _=G;return u(),A(_,{round:"",value:g.showPopup,onInput:i[0]||(i[0]=m=>this.$emit("input",m)),"close-on-click-overlay":!1,position:"bottom"},{default:C(()=>[e("div",ee,[e("div",se,[e("h4",te,a(c.$t("cycle")),1),e("img",{onClick:n,class:"z-20 w-8 h-8",src:Y,alt:""})]),e("div",oe,[(u(),d(B,null,I(x,(m,k)=>e("section",{key:k},[e("p",le,a(m.title),1),e("ul",ae,[(u(!0),d(B,null,I(m.list,(h,w)=>(u(),d("li",{key:w,class:T([{active:h.value===D(v).stage},"bg-btn-gray mr-4 rounded px-4 py-1 mb-4"]),onClick:z=>y(h)},a(h.label),11,ne))),128))])])),64))])])]),_:1},8,["value"])}}},ue=H(ce,[["__scopeId","data-v-fffee8c9"]]);const ie={class:"chart-index pb-fix"},re={class:"px-2 py-4 chart-info left-0 top-0 border-b-1"},pe={key:0,class:"select-div"},de=["onClick"],ve={class:"mr-2"},_e={class:"flex items-center"},me={class:"mx-2 text-base"},fe={class:"flex justify-between px-5 py-2 sticky-box"},he=["src"],be={class:"text-base font-bold"},xe={class:"ml-4 text-base font-bold"},ye={__name:"index",setup(P){const p=r(!1),s=R(),g=L(),v=K(),l=r(""),x=r(""),n=r({}),y=r([]),c=r(0),i=r("");q(()=>{v.query.symbol?l.value=v.query.symbol:l.value=s.coins.length?s.coins[0].symbol:"EURUSD",M()});const _=r(!1);q(()=>{s.stage=="1min"?i.value="area":i.value="candle_solid"});const m=t=>{x.value=t,t=="1min"?i.value="area":i.value="candle_solid"},k=(t,o)=>{p.value=!1,l.value=t.symbol,c.value=o},h=()=>{g.push(`../order/${l.value}`)},w=()=>{p.value=!p.value},z=t=>{n.value=t},M=()=>{O(s.coins).then(t=>{t.map(o=>{o.name=o.symbol}),y.value=t})},N=t=>{if(typeof t!="number")return"--";let o;return t.toString().indexOf(".")<0?t:(o=t.toString().split(".").pop().length,o>5?t.toFixed(5):t)};return(t,o)=>{const V=J,j=Z;return u(),d("div",ie,[e("div",re,[e("div",{class:"text-sm",onClick:E(w,["stop"])},[S(a(l.value||"--")+" ",1),b(V,{name:p.value?"arrow-up":"arrow-down"},null,8,["name"]),p.value?(u(),d("div",pe,[e("ul",null,[(u(!0),d(B,null,I(y.value,(f,$)=>(u(),d("li",{key:$,onClick:E(ge=>k(f,$),["stop"]),class:T([$==c.value?"active":""])},a(f.name),11,de))),128))])])):F("",!0)]),e("p",{class:T(["text-xs my-2",n.value.change_ratio>0?"text-up":"text-down"])},[e("span",ve,a(n.value.close||"--"),1),e("span",null,a(n.value.netChange||"--")+"("+a(n.value.change_ratio||"--")+"%)",1)],2),e("p",_e,[b(j,{type:"danger",plain:"",size:"small",class:"w-16 h-4 text-xs"},{default:C(()=>[S(a(N(n.value.ask)),1)]),_:1}),e("span",me,a((n.value.ask-n.value.bid||0).toFixed(5)),1),b(j,{type:"success",size:"small",plain:"",class:"w-16 h-4"},{default:C(()=>[S(a(N(n.value.bid)),1)]),_:1})])]),l.value?(u(),A(X,{height:550,symbol:l.value,isShowsolid:!0,chartType:i.value,onData:z,key:`${l.value}-${x.value}`},null,8,["symbol","chartType"])):F("",!0),e("div",fe,[e("div",{onClick:o[0]||(o[0]=f=>_.value=!0),class:"flex items-center"},[e("img",{src:`${D(W)}/symbol/${l.value}.png`,alt:"",class:"w-6 h-6 mr-2"},null,8,he),e("span",be,a(l.value),1),e("span",xe,a(D(s).stage),1)]),e("div",null,[b(V,{name:"todo-list-o",size:"25",onClick:h})])]),b(ue,{show:_.value,"onUpdate:show":o[1]||(o[1]=f=>_.value=f),onClose:o[2]||(o[2]=f=>_.value=!1),onSelect:m},null,8,["show"])])}}},Pe=H(ye,[["__scopeId","data-v-07eca40f"]]);export{Pe as default};
