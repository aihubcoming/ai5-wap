import{_ as be,v as ge,u as ye,ak as Ce,r as a,al as ke,a as Se,l as we,bB as Ve,at as oe,ax as Be,I as Re,S as De,o as c,c as r,e,g as w,t as o,h as ne,f as u,d as V,F as B,m as R,b as Ie,n as f,w as Oe,a_ as Ue}from"./index-a1ce0b9b.js";import{_ as Qe,a as Ge}from"./icon-star-8ef24b6e.js";import{_ as He}from"./exchange-3264478b.js";import{f as Ye}from"./index-687d3d78.js";/* empty css                                                                     */import{_ as Te}from"./index-0ed49019.js";import"./index-ffb21af0.js";import"./trade.api-c60e8750.js";/* empty css                                                              *//* empty css              */import"./index-28c529e2.js";import"./index-f9a41980.js";import"./index-b2caa79d.js";const Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWNJREFUWEdjZBhgwDjA9jOMOmA0BAiGQEP/fAFWxj9y1QWpl2iRYPE6oK1nnhYj459V/xkYtP//+99YXZreQG1H4HQAsuUgSxkZGXsri1JL6OIAdMsZGBhXVxWnhlHbcrDH0A2lp+UYDqC35SgOaJg/n4P93e8zoARHraAmJuHCowDkewbGP1epZTnUnAdVxWmK+MxESQNtfbMTGRj+x1HNEf8ZequK07YQ7QCqWUyCQQRLQhLMIkspQQe0d810+8/CWEmW6Vg0/fvHsLKmJG0GTIqwA3pnXaFmzoBkPSajyuKU81gLInRHt3bPbGBkYqynVggwMjBc/fn5v1lDQ/o3ohxAqcVtvbNXMTD8D4VadvX/f5awqpKka0RHASUOIGQ5TUOAGMtp5oDWvtmljP//d+EKduRQJZgLyIkCWMIFJTj0OEc3jyYOAFnS3jPb+Ccb5+2GvJhPo0XxaAiMhgC+EAAAROKNIU2HNB8AAAAASUVORK5CYII=",je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAITSURBVHgB7ZmxTttAGMf/Z7nYU81Ep1A6dCJteYQKdUF9AIYCLZXaKFKh+AkITwBSBiQYAkIZeAcE7IgBxARBBDHBlDDZEN1xx4jO5DO6wwH5t1j6/PfdX6e775PvA3LswroJFmu1fkTuCOAMwSq8GZYnd7upHjVcXan/h+AVKevHsyCaDKzyrzSxnqRINFxdrc+DiwoyQADhbGliSfdOa3hxuTbkOm/OkCEdfvshLE83H8Ydndhh7hwyxoH7Sx/XBR32BRnDGBvRxR30KHKvBrp4zxpO4sUZdtOI9/f2EUVxmk9Q/DyMIAhgCrLho8MjbG/tIC1xHGH02yhMQd4SA+8G4Pk+0qK+Mwl5hdXEf8t/cBPTt0Sf58H3PZgk1R5Wk5s2kJY8rdkmN2wb8qFrt9v3eThOWTi64clDPPZ9jHyYyYYvzi/QOG7ABo2PJ7IiFklasuHC+8J9Lo6iCCZRZVuNTYVsWA388/cUsibPErbJDdvmdReOzfqmfF7DJEHwFuM/xsl/JeQVbhyfGjerUGNeXV6R9eQVLn4aloO3ZGm+gUk8vw+FwUGynmxY1XyT/2ZPJc8StnklhoVooUfRGuYcB8gYDqH1oDeMzhoyhouO9gZea1jdfAvwEFnBxYLu9l2ReOhmS1NLgvNpIRsleCbkXC15LxzOlCcrSZqubS9FdXnjq7Dc9mKy7TVDaHvl2OYOD5KSyMnQvDwAAAAASUVORK5CYII=";const Me={class:"pb-10"},Pe={class:"container-box"},Fe={class:"header"},Ke={class:"flex-l"},Ne={class:"name-box flex"},qe={class:"title"},Ze={class:"icon-group"},Le={class:"icon setting"},Xe={class:"value-container"},Je={class:"flex-l"},$e={class:"first-line red"},We={class:"second-line"},ze={class:"red"},es={class:"flex-r"},ss={class:"flex-r-item"},ts={class:"label"},os={class:"value"},ns={class:"label"},as={class:"value"},ls={class:"flex-r-item"},is={class:"label"},cs={class:"value"},rs={class:"label"},ds={class:"value"},us={key:0,class:"status-info"},vs={class:"time"},ms={class:"indicator-index-container"},_s={class:"indicator-index-box"},ps={class:"flex-l"},As=["onClick"],hs={key:0,class:"indicator-index-box-second"},fs=["onClick"],xs={class:"kline-container flex"},bs={class:"chart-index"},gs={class:"footer-btn-group flex items-center"},ys={class:"rate"},Cs={class:"flex btn-group"},ks={class:"flex btn-group"},Ss={class:"flex-r flex"},ws={class:"modal-inner-box"},Vs={class:"sidebar"},Bs={class:"flex justify-between"},Rs={class:"flex items-center text-grey"},Ds={class:"mr-12"},Is={class:"flex text-grey right-text"},Os={class:"item"},Us=["onClick"],Qs={class:"font-bold textColor"},Gs={class:"text-right text-24"},Hs={class:"textColor"},Ys={__name:"CoinChart",setup(Ts){const{t:l}=ge.exports.useI18n(),m=ye(),x=Ce();a(!1),a(!1);const _=ke(),ae=Se(),d=a(""),D=a(""),i=a({}),I=a([]);a(0);const y=a(0),p=a("");a(0);const le=a([]),b=a(!0);a("");const ie=a("forex"),C=a(!1),g=a(!1),O=a(null),k=a(!1),ce=a([{name:l("\u5206\u65F6"),paramsValue:"timeSharing",seconds:1*60*1e3,index:0},{name:"1"+l("\u5929"),paramsValue:"1day",seconds:1*24*60*60*1e3,index:1},{name:"1"+l("\u5468"),paramsValue:"1week",seconds:7*24*60*60*1e3,index:2},{name:"1"+l("\u6708"),paramsValue:"1mon",seconds:30*24*60*60*1e3,index:3},{name:"5"+l("\u5929"),paramsValue:"5day",seconds:5*24*60*60*1e3,index:4}]),re=a([{name:"120"+l("\u5206"),paramsValue:"120min",seconds:2*60*60*1e3,index:5},{name:"60"+l("\u5206"),paramsValue:"60min",seconds:1*60*60*1e3,index:6},{name:"30"+l("\u5206"),paramsValue:"30min",seconds:30*60*1e3,index:7},{name:"15"+l("\u5206"),paramsValue:"15min",seconds:15*60*1e3,index:8},{name:"5"+l("\u5206"),paramsValue:"5min",seconds:5*60*1e3,index:9},{name:"1"+l("\u5206"),paramsValue:"1min",seconds:1*60*1e3,index:10}]);we(async()=>{x.query.symbol?d.value=x.query.symbol:d.value=_.coins.length?_.coins[0].symbol:"EURUSD",_.stage==="timeSharing"?p.value="area":p.value="candle_solid",_e(),Ae(),S()}),Ve(()=>{console.log("mount")});const U=t=>{m.push(t)},de=()=>{if(x.query.isOptional==1){m.push("/optional/index");return}x.query.from==="trade"?m.push("/trade/index?tabActive=2&navActive=2"):m.push("/quotes/index?tabActive=2")},ue=t=>{d.value=t.name,g.value=!1,S()},Q=t=>{if(!(b.value||Object.keys(i.value).length===0)){if(!ae.userInfo.token){m.push("/login");return}m.push({path:"/foreign/opening",query:{symbol:d.value,type:t,closePrice:Number(i.value.close).toFixed(4)}})}},G=t=>{const{paramsValue:s,seconds:v,index:h}=t;y.value=h,_[Ue]({stage:s,seconds:v}),ve(s)},ve=t=>{D.value=t,t=="timeSharing"?p.value="area":p.value="candle_solid"},me=t=>{i.value=t,b.value=!1},_e=()=>{oe(_.coins).then(t=>{t.map(s=>{s.name=s.symbol}),I.value=t})},pe=t=>{let s=[..._.coins],v=[];return t==="all"?v=s:v=s.filter(h=>h.type===t),v},Ae=()=>{const t=pe(ie.value);oe(t).then(s=>{le.value=s})},he=()=>{C.value=!C.value},A=t=>Number(t||"0.00").toFixed(4),fe=()=>{g.value=!0},H=()=>{O.value.openCurrency(d.value)},S=()=>{let t={symbol:d.value};Be(t).then(s=>{k.value=s})};return(t,s)=>{var Y,T,E,j,M,P,F,K,N,q,Z,L,X,J,$,W,z,ee,se;const v=Re,h=De;return c(),r("section",Me,[e("div",Pe,[e("header",Fe,[e("div",Ke,[e("div",{class:"icon back",onClick:de},[w(v,{name:"arrow-left",size:"20"})]),e("div",Ne,[e("div",{class:"icon",onClick:s[0]||(s[0]=n=>fe())},[...s[6]||(s[6]=[e("img",{src:Ee,alt:""},null,-1)])]),e("p",qe,o(d.value),1)])]),e("div",Ze,[e("div",{class:"icon record",onClick:s[1]||(s[1]=n=>U("/position"))},[...s[7]||(s[7]=[e("img",{src:je,alt:""},null,-1)])]),e("div",Le,[k.value?(c(),r("img",{key:0,src:Qe,class:"collected-img",onClick:H})):(c(),r("img",{key:1,src:Ge,class:"collected-img",onClick:H}))])])]),e("section",Xe,[e("div",Je,[e("p",$e,o(A((Y=i.value)==null?void 0:Y.close)),1),e("p",We,[e("span",ze,o((T=i.value)!=null&&T.change_ratio?`${(E=i.value)==null?void 0:E.change_ratio}%`:"--"),1),s[8]||(s[8]=ne("\xA0 ",-1))])]),e("div",es,[e("div",ss,[e("p",null,[e("span",ts,o(u(l)("high")),1),e("span",os,o(A((j=i.value)==null?void 0:j.high)),1)]),e("p",null,[e("span",ns,o(u(l)("Low")),1),e("span",as,o(A((M=i.value)==null?void 0:M.low)),1)])]),e("div",ls,[e("p",null,[e("span",is,o(u(l)("Open")),1),e("span",cs,o(A((P=i.value)==null?void 0:P.open)),1)]),e("p",null,[e("span",rs,o(u(l)("Close")),1),e("span",ds,o(A((F=i.value)==null?void 0:F.close)),1)])])])]),(N=(K=i.value)==null?void 0:K.market)!=null&&N.status?(c(),r("p",us,[e("span",null,o(((Z=(q=i.value)==null?void 0:q.market)==null?void 0:Z.status)&&t.$t((X=(L=i.value)==null?void 0:L.market)==null?void 0:X.status))+",",1),e("span",vs,o(($=(J=i.value)==null?void 0:J.market)==null?void 0:$.time_str),1),s[9]||(s[9]=ne("\xA0 ",-1)),e("span",null,o(((z=(W=i.value)==null?void 0:W.market)==null?void 0:z.time_zone)&&t.$t((se=(ee=i.value)==null?void 0:ee.market)==null?void 0:se.time_zone)),1)])):V("",!0),e("section",ms,[e("div",_s,[e("div",ps,[e("ul",null,[(c(!0),r(B,null,R(ce.value,(n,te)=>(c(),r("li",{key:n,onClick:xe=>G(n),class:f([n.index===y.value?"active":""])},o(n.name),11,As))),128)),e("li",{onClick:he},o(u(l)("More")),1)])]),s[10]||(s[10]=e("div",{class:"flex-r"},null,-1))]),C.value?(c(),r("div",hs,[e("ul",null,[(c(!0),r(B,null,R(re.value,(n,te)=>(c(),r("li",{key:n,onClick:xe=>G(n),class:f([n.index===y.value?"active":""])},o(n.name),11,fs))),128))])])):V("",!0)]),e("section",xs,[e("div",bs,[d.value?(c(),Ie(Ye,{height:450,symbol:d.value,isShowsolid:!0,chartType:p.value,onData:me,key:`${d.value}-${D.value}`},null,8,["symbol","chartType"])):V("",!0)])]),e("section",gs,[e("div",{class:"flex-l exchangeRate-box",onClick:s[2]||(s[2]=n=>U("/cryptos/exchangeRate"))},[s[11]||(s[11]=e("img",{src:He,alt:""},null,-1)),e("p",ys,o(u(l)("\u6C47\u7387")),1)]),e("div",Cs,[e("div",ks,[e("div",Ss,[e("div",{class:f([b.value?"disabled buy-btn":"buy-btn"]),onClick:s[3]||(s[3]=n=>Q("buy"))},o(u(l)("buy")),3),e("div",{class:f([b.value?"disabled sell-btn":"sell-btn"]),onClick:s[4]||(s[4]=n=>Q("sell"))},o(u(l)("sell")),3)])])])]),w(h,{"overlay-class":"left-modal",show:g.value,"onUpdate:show":s[5]||(s[5]=n=>g.value=n),position:"left",class:"popup-bg",style:{width:"80%",height:"100%"},round:"","safe-area-inset-top":"","safe-area-inset-bottom":""},{default:Oe(()=>[e("div",ws,[e("div",Vs,[e("div",Bs,[e("div",Rs,[e("div",Ds,o(t.$t("Symbol")),1)]),e("div",Is,[e("div",Os,[e("div",null,o(t.$t("lastPrice"))+" / 24H "+o(t.$t("upsAndDowns")),1)])])]),(c(!0),r(B,null,R(I.value,n=>(c(),r("div",{class:"flex justify-between mt-4",key:n.name,onClick:te=>ue(n)},[e("div",null,[e("div",Qs,o(n.name),1)]),e("div",Gs,[e("div",Hs,o(n.close),1),e("div",{class:f(["value",n.change_ratio>0?"green":"red"])},o(n.change_ratio)+"%",3)])],8,Us))),128))])])]),_:1},8,["show"])]),w(Te,{onUpdateItem:S,isCollect:k.value,ref_key:"addCurrencyRef",ref:O},null,8,["isCollect"])])}}},Ws=be(Ys,[["__scopeId","data-v-2c94e2a7"]]);export{Ws as default};
